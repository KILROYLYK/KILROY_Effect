!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=28)}([function(t,e,i){(function(t){var i;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * jQuery JavaScript Library v3.4.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-04-10T19:48Z
 */
/*!
 * jQuery JavaScript Library v3.4.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-04-10T19:48Z
 */
!function(e,i){"use strict";"object"===r(t)&&"object"===r(t.exports)?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";var s=[],a=n.document,h=Object.getPrototypeOf,u=s.slice,c=s.concat,l=s.push,d=s.indexOf,p={},f=p.toString,g=p.hasOwnProperty,v=g.toString,m=v.call(Object),y={},_=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},x=function(t){return null!=t&&t===t.window},A={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,i){var r,n,o=(i=i||a).createElement("script");if(o.text=t,e)for(r in A)(n=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,n);i.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"===r(t)||"function"==typeof t?p[f.call(t)]||"object":r(t)}var E=function t(e,i){return new t.fn.init(e,i)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!_(t)&&!x(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.4.0",constructor:E,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:s.sort,splice:s.splice},E.extend=E.fn.extend=function(){var t,e,i,n,o,s,a=arguments[0]||{},h=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[h]||{},h++),"object"===r(a)||_(a)||(a={}),h===u&&(a=this,h--);h<u;h++)if(null!=(t=arguments[h]))for(e in t)n=t[e],"__proto__"!==e&&a!==n&&(c&&n&&(E.isPlainObject(n)||(o=Array.isArray(n)))?(i=a[e],s=o&&!Array.isArray(i)?[]:o||E.isPlainObject(i)?i:{},o=!1,a[e]=E.extend(c,s,n)):void 0!==n&&(a[e]=n));return a},E.extend({expando:"jQuery"+("3.4.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==f.call(t))&&(!(e=h(t))||"function"==typeof(i=g.call(e,"constructor")&&e.constructor)&&v.call(i)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){b(t,{nonce:e&&e.nonce})},each:function(t,e){var i,r=0;if(S(t))for(i=t.length;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(T,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(S(Object(t))?E.merge(i,"string"==typeof t?[t]:t):l.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:d.call(e,t,i)},merge:function(t,e){for(var i=+e.length,r=0,n=t.length;r<i;r++)t[n++]=e[r];return t.length=n,t},grep:function(t,e,i){for(var r=[],n=0,o=t.length,s=!i;n<o;n++)!e(t[n],n)!==s&&r.push(t[n]);return r},map:function(t,e,i){var r,n,o=0,s=[];if(S(t))for(r=t.length;o<r;o++)null!=(n=e(t[o],o,i))&&s.push(n);else for(o in t)null!=(n=e(t[o],o,i))&&s.push(n);return c.apply([],s)},guid:1,support:y}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=s[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var C=
/*!
   * Sizzle CSS Selector Engine v2.3.4
   * https://sizzlejs.com/
   *
   * Copyright JS Foundation and other contributors
   * Released under the MIT license
   * https://js.foundation/
   *
   * Date: 2019-04-08
   */
function(t){var e,i,r,n,o,s,a,h,u,c,l,d,p,f,g,v,m,y,_,x="sizzle"+1*new Date,A=t.document,b=0,w=0,E=ht(),T=ht(),S=ht(),C=ht(),I=function(t,e){return t===e&&(l=!0),0},P={}.hasOwnProperty,O=[],D=O.pop,M=O.push,R=O.push,B=O.slice,k=function(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+F+"*("+L+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+F+"*\\]",j=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),X=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),z=new RegExp("^"+F+"*,"+F+"*"),G=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),Y=new RegExp(F+"|>"),W=new RegExp(j),V=new RegExp("^"+L+"$"),Q={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},q=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),it=function(t,e,i){var r="0x"+e-65536;return r!=r||i?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},st=xt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{R.apply(O=B.call(A.childNodes),A.childNodes),O[A.childNodes.length].nodeType}catch(t){R={apply:O.length?function(t,e){M.apply(t,B.call(e))}:function(t,e){for(var i=t.length,r=0;t[i++]=e[r++];);t.length=i-1}}}function at(t,e,r,n){var o,a,u,c,l,f,m,y=e&&e.ownerDocument,b=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return r;if(!n&&((e?e.ownerDocument||e:A)!==p&&d(e),e=e||p,g)){if(11!==b&&(l=Z.exec(t)))if(o=l[1]){if(9===b){if(!(u=e.getElementById(o)))return r;if(u.id===o)return r.push(u),r}else if(y&&(u=y.getElementById(o))&&_(e,u)&&u.id===o)return r.push(u),r}else{if(l[2])return R.apply(r,e.getElementsByTagName(t)),r;if((o=l[3])&&i.getElementsByClassName&&e.getElementsByClassName)return R.apply(r,e.getElementsByClassName(o)),r}if(i.qsa&&!C[t+" "]&&(!v||!v.test(t))&&(1!==b||"object"!==e.nodeName.toLowerCase())){if(m=t,y=e,1===b&&Y.test(t)){for((c=e.getAttribute("id"))?c=c.replace(rt,nt):e.setAttribute("id",c=x),a=(f=s(t)).length;a--;)f[a]="#"+c+" "+_t(f[a]);m=f.join(","),y=tt.test(t)&&mt(e.parentNode)||e}try{return R.apply(r,y.querySelectorAll(m)),r}catch(e){C(t,!0)}finally{c===x&&e.removeAttribute("id")}}}return h(t.replace(X,"$1"),e,r,n)}function ht(){var t=[];return function e(i,n){return t.push(i+" ")>r.cacheLength&&delete e[t.shift()],e[i+" "]=n}}function ut(t){return t[x]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var i=t.split("|"),n=i.length;n--;)r.attrHandle[i[n]]=e}function dt(t,e){var i=e&&t,r=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return ut(function(e){return e=+e,ut(function(i,r){for(var n,o=t([],i.length,e),s=o.length;s--;)i[n=o[s]]&&(i[n]=!(r[n]=i[n]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=at.support={},o=at.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!q.test(e||i&&i.nodeName||"HTML")},d=at.setDocument=function(t){var e,n,s=t?t.ownerDocument||t:A;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,g=!o(p),A!==p&&(n=p.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ot,!1):n.attachEvent&&n.attachEvent("onunload",ot)),i.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=ct(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=K.test(p.getElementsByClassName),i.getById=ct(function(t){return f.appendChild(t).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),i.getById?(r.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,r,n,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(n=e.getElementsByName(t),r=0;o=n[r++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),r.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,r=[],n=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[n++];)1===i.nodeType&&r.push(i);return r}return o},r.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(i.qsa=K.test(p.querySelectorAll))&&(ct(function(t){f.appendChild(t).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+F+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+x+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(i.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ct(function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",j)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=K.test(f.compareDocumentPosition),_=e||K.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return l=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===r?t===p||t.ownerDocument===A&&_(A,t)?-1:e===p||e.ownerDocument===A&&_(A,e)?1:c?k(c,t)-k(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return l=!0,0;var i,r=0,n=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!n||!o)return t===p?-1:e===p?1:n?-1:o?1:c?k(c,t)-k(c,e):0;if(n===o)return dt(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[r]===a[r];)r++;return r?dt(s[r],a[r]):s[r]===A?-1:a[r]===A?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),i.matchesSelector&&g&&!C[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var r=y.call(t,e);if(r||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){C(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),_(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var n=r.attrHandle[e.toLowerCase()],o=n&&P.call(r.attrHandle,e.toLowerCase())?n(t,e,!g):void 0;return void 0!==o?o:i.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(rt,nt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,r=[],n=0,o=0;if(l=!i.detectDuplicates,c=!i.sortStable&&t.slice(0),t.sort(I),l){for(;e=t[o++];)e===t[o]&&(n=r.push(o));for(;n--;)t.splice(r[n],1)}return c=null,t},n=at.getText=function(t){var e,i="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=n(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)i+=n(e);return i},(r=at.selectors={cacheLength:50,createPseudo:ut,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&W.test(i)&&(e=s(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&E(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var n=at.attr(r,t);return null==n?"!="===e:!e||(n+="","="===e?n===i:"!="===e?n!==i:"^="===e?i&&0===n.indexOf(i):"*="===e?i&&n.indexOf(i)>-1:"$="===e?i&&n.slice(-i.length)===i:"~="===e?(" "+n.replace(H," ")+" ").indexOf(i)>-1:"|="===e&&(n===i||n.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,r,n){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===n?function(t){return!!t.parentNode}:function(e,i,h){var u,c,l,d,p,f,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!h&&!a,_=!1;if(v){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?v.firstChild:v.lastChild],s&&y){for(_=(p=(u=(c=(l=(d=v)[x]||(d[x]={}))[d.uniqueID]||(l[d.uniqueID]={}))[t]||[])[0]===b&&u[1])&&u[2],d=p&&v.childNodes[p];d=++p&&d&&d[g]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[b,p,_];break}}else if(y&&(_=p=(u=(c=(l=(d=e)[x]||(d[x]={}))[d.uniqueID]||(l[d.uniqueID]={}))[t]||[])[0]===b&&u[1]),!1===_)for(;(d=++p&&d&&d[g]||(_=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++_||(y&&((c=(l=d[x]||(d[x]={}))[d.uniqueID]||(l[d.uniqueID]={}))[t]=[b,_]),d!==e)););return(_-=n)===r||_%r==0&&_/r>=0}}},PSEUDO:function(t,e){var i,n=r.pseudos[t]||r.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return n[x]?n(e):n.length>1?(i=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,i){for(var r,o=n(t,e),s=o.length;s--;)t[r=k(t,o[s])]=!(i[r]=o[s])}):function(t){return n(t,0,i)}):n}},pseudos:{not:ut(function(t){var e=[],i=[],r=a(t.replace(X,"$1"));return r[x]?ut(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:ut(function(t){return function(e){return at(t,e).length>0}}),contains:ut(function(t){return t=t.replace(et,it),function(e){return(e.textContent||n(e)).indexOf(t)>-1}}),lang:ut(function(t){return V.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return $.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(t,e){return[e-1]}),eq:vt(function(t,e,i){return[i<0?i+e:i]}),even:vt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:vt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:vt(function(t,e,i){for(var r=i<0?i+e:i>e?e:i;--r>=0;)t.push(r);return t}),gt:vt(function(t,e,i){for(var r=i<0?i+e:i;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ft(e);function yt(){}function _t(t){for(var e=0,i=t.length,r="";e<i;e++)r+=t[e].value;return r}function xt(t,e,i){var r=e.dir,n=e.next,o=n||r,s=i&&"parentNode"===o,a=w++;return e.first?function(e,i,n){for(;e=e[r];)if(1===e.nodeType||s)return t(e,i,n);return!1}:function(e,i,h){var u,c,l,d=[b,a];if(h){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,i,h))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(c=(l=e[x]||(e[x]={}))[e.uniqueID]||(l[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=c[o])&&u[0]===b&&u[1]===a)return d[2]=u[2];if(c[o]=d,d[2]=t(e,i,h))return!0}return!1}}function At(t){return t.length>1?function(e,i,r){for(var n=t.length;n--;)if(!t[n](e,i,r))return!1;return!0}:t[0]}function bt(t,e,i,r,n){for(var o,s=[],a=0,h=t.length,u=null!=e;a<h;a++)(o=t[a])&&(i&&!i(o,r,n)||(s.push(o),u&&e.push(a)));return s}function wt(t,e,i,r,n,o){return r&&!r[x]&&(r=wt(r)),n&&!n[x]&&(n=wt(n,o)),ut(function(o,s,a,h){var u,c,l,d=[],p=[],f=s.length,g=o||function(t,e,i){for(var r=0,n=e.length;r<n;r++)at(t,e[r],i);return i}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:bt(g,d,t,a,h),m=i?n||(o?t:f||r)?[]:s:v;if(i&&i(v,m,a,h),r)for(u=bt(m,p),r(u,[],a,h),c=u.length;c--;)(l=u[c])&&(m[p[c]]=!(v[p[c]]=l));if(o){if(n||t){if(n){for(u=[],c=m.length;c--;)(l=m[c])&&u.push(v[c]=l);n(null,m=[],u,h)}for(c=m.length;c--;)(l=m[c])&&(u=n?k(o,l):d[c])>-1&&(o[u]=!(s[u]=l))}}else m=bt(m===s?m.splice(f,m.length):m),n?n(null,s,m,h):R.apply(s,m)})}function Et(t){for(var e,i,n,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],h=s?1:0,c=xt(function(t){return t===e},a,!0),l=xt(function(t){return k(e,t)>-1},a,!0),d=[function(t,i,r){var n=!s&&(r||i!==u)||((e=i).nodeType?c(t,i,r):l(t,i,r));return e=null,n}];h<o;h++)if(i=r.relative[t[h].type])d=[xt(At(d),i)];else{if((i=r.filter[t[h].type].apply(null,t[h].matches))[x]){for(n=++h;n<o&&!r.relative[t[n].type];n++);return wt(h>1&&At(d),h>1&&_t(t.slice(0,h-1).concat({value:" "===t[h-2].type?"*":""})).replace(X,"$1"),i,h<n&&Et(t.slice(h,n)),n<o&&Et(t=t.slice(n)),n<o&&_t(t))}d.push(i)}return At(d)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,s=at.tokenize=function(t,e){var i,n,o,s,a,h,u,c=T[t+" "];if(c)return e?0:c.slice(0);for(a=t,h=[],u=r.preFilter;a;){for(s in i&&!(n=z.exec(a))||(n&&(a=a.slice(n[0].length)||a),h.push(o=[])),i=!1,(n=G.exec(a))&&(i=n.shift(),o.push({value:i,type:n[0].replace(X," ")}),a=a.slice(i.length)),r.filter)!(n=Q[s].exec(a))||u[s]&&!(n=u[s](n))||(i=n.shift(),o.push({value:i,type:s,matches:n}),a=a.slice(i.length));if(!i)break}return e?a.length:a?at.error(t):T(t,h).slice(0)},a=at.compile=function(t,e){var i,n=[],o=[],a=S[t+" "];if(!a){for(e||(e=s(t)),i=e.length;i--;)(a=Et(e[i]))[x]?n.push(a):o.push(a);(a=S(t,function(t,e){var i=e.length>0,n=t.length>0,o=function(o,s,a,h,c){var l,f,v,m=0,y="0",_=o&&[],x=[],A=u,w=o||n&&r.find.TAG("*",c),E=b+=null==A?1:Math.random()||.1,T=w.length;for(c&&(u=s===p||s||c);y!==T&&null!=(l=w[y]);y++){if(n&&l){for(f=0,s||l.ownerDocument===p||(d(l),a=!g);v=t[f++];)if(v(l,s||p,a)){h.push(l);break}c&&(b=E)}i&&((l=!v&&l)&&m--,o&&_.push(l))}if(m+=y,i&&y!==m){for(f=0;v=e[f++];)v(_,x,s,a);if(o){if(m>0)for(;y--;)_[y]||x[y]||(x[y]=D.call(h));x=bt(x)}R.apply(h,x),c&&!o&&x.length>0&&m+e.length>1&&at.uniqueSort(h)}return c&&(b=E,u=A),_};return i?ut(o):o}(o,n))).selector=t}return a},h=at.select=function(t,e,i,n){var o,h,u,c,l,d="function"==typeof t&&t,p=!n&&s(t=d.selector||t);if(i=i||[],1===p.length){if((h=p[0]=p[0].slice(0)).length>2&&"ID"===(u=h[0]).type&&9===e.nodeType&&g&&r.relative[h[1].type]){if(!(e=(r.find.ID(u.matches[0].replace(et,it),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(h.shift().value.length)}for(o=Q.needsContext.test(t)?0:h.length;o--&&(u=h[o],!r.relative[c=u.type]);)if((l=r.find[c])&&(n=l(u.matches[0].replace(et,it),tt.test(h[0].type)&&mt(e.parentNode)||e))){if(h.splice(o,1),!(t=n.length&&_t(h)))return R.apply(i,n),i;break}}return(d||a(t,p))(n,e,!g,i,!e||tt.test(t)&&mt(e.parentNode)||e),i},i.sortStable=x.split("").sort(I).join("")===x,i.detectDuplicates=!!l,d(),i.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||lt(N,function(t,e,i){var r;if(!i)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),at}(n);E.find=C,E.expr=C.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=C.uniqueSort,E.text=C.getText,E.isXMLDoc=C.isXML,E.contains=C.contains,E.escapeSelector=C.escape;var I=function(t,e,i){for(var r=[],n=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&E(t).is(i))break;r.push(t)}return r},P=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},O=E.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(t,e,i){return _(e)?E.grep(t,function(t,r){return!!e.call(t,r,t)!==i}):e.nodeType?E.grep(t,function(t){return t===e!==i}):"string"!=typeof e?E.grep(t,function(t){return d.call(e,t)>-1!==i}):E.filter(e,t,i)}E.filter=function(t,e,i){var r=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?E.find.matchesSelector(r,t)?[r]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,i,r=this.length,n=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<r;e++)if(E.contains(n[e],this))return!0}));for(i=this.pushStack([]),e=0;e<r;e++)E.find(t,n[e],i);return r>1?E.uniqueSort(i):i},filter:function(t){return this.pushStack(R(this,t||[],!1))},not:function(t){return this.pushStack(R(this,t||[],!0))},is:function(t){return!!R(this,"string"==typeof t&&O.test(t)?E(t):t||[],!1).length}});var B,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,i){var r,n;if(!t)return this;if(i=i||B,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:k.exec(t))||!r[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),M.test(r[1])&&E.isPlainObject(e))for(r in e)_(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(n=a.getElementById(r[2]))&&(this[0]=n,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_(t)?void 0!==i.ready?i.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,B=E(a);var N=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var i,r=0,n=this.length,o=[],s="string"!=typeof t&&E(t);if(!O.test(t))for(;r<n;r++)for(i=this[r];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&E.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?d.call(E(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,i){return I(t,"parentNode",i)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,i){return I(t,"nextSibling",i)},prevUntil:function(t,e,i){return I(t,"previousSibling",i)},siblings:function(t){return P((t.parentNode||{}).firstChild,t)},children:function(t){return P(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(D(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(t,e){E.fn[t]=function(i,r){var n=E.map(this,e,i);return"Until"!==t.slice(-5)&&(r=i),r&&"string"==typeof r&&(n=E.filter(r,n)),this.length>1&&(F[t]||E.uniqueSort(n),N.test(t)&&n.reverse()),this.pushStack(n)}});var U=/[^\x20\t\r\n\f]+/g;function j(t){return t}function H(t){throw t}function X(t,e,i,r){var n;try{t&&_(n=t.promise)?n.call(t).done(e).fail(i):t&&_(n=t.then)?n.call(t,e,i):e.apply(void 0,[t].slice(r))}catch(t){i.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(U)||[],function(t,i){e[i]=!0}),e}(t):E.extend({},t);var e,i,r,n,o=[],s=[],a=-1,h=function(){for(n=n||t.once,r=e=!0;s.length;a=-1)for(i=s.shift();++a<o.length;)!1===o[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=o.length,i=!1);t.memory||(i=!1),e=!1,n&&(o=i?[]:"")},u={add:function(){return o&&(i&&!e&&(a=o.length-1,s.push(i)),function e(i){E.each(i,function(i,r){_(r)?t.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==w(r)&&e(r)})}(arguments),i&&!e&&h()),this},remove:function(){return E.each(arguments,function(t,e){for(var i;(i=E.inArray(e,o,i))>-1;)o.splice(i,1),i<=a&&a--}),this},has:function(t){return t?E.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return n=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return n=s=[],i||e||(o=i=""),this},locked:function(){return!!n},fireWith:function(t,i){return n||(i=[t,(i=i||[]).slice?i.slice():i],s.push(i),e||h()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return E.Deferred(function(i){E.each(e,function(e,r){var n=_(t[r[4]])&&t[r[4]];s[r[1]](function(){var t=n&&n.apply(this,arguments);t&&_(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this,n?[t]:arguments)})}),t=null}).promise()},then:function(t,i,o){var s=0;function a(t,e,i,o){return function(){var h=this,u=arguments,c=function(){var n,c;if(!(t<s)){if((n=i.apply(h,u))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"===r(n)||"function"==typeof n)&&n.then,_(c)?o?c.call(n,a(s,e,j,o),a(s,e,H,o)):(s++,c.call(n,a(s,e,j,o),a(s,e,H,o),a(s,e,j,e.notifyWith))):(i!==j&&(h=void 0,u=[n]),(o||e.resolveWith)(h,u))}},l=o?c:function(){try{c()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,l.stackTrace),t+1>=s&&(i!==H&&(h=void 0,u=[r]),e.rejectWith(h,u))}};t?l():(E.Deferred.getStackHook&&(l.stackTrace=E.Deferred.getStackHook()),n.setTimeout(l))}}return E.Deferred(function(r){e[0][3].add(a(0,r,_(o)?o:j,r.notifyWith)),e[1][3].add(a(0,r,_(t)?t:j)),e[2][3].add(a(0,r,_(i)?i:H))}).promise()},promise:function(t){return null!=t?E.extend(t,o):o}},s={};return E.each(e,function(t,r){var n=r[2],a=r[5];o[r[1]]=n.add,a&&n.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),n.add(r[3].fire),s[r[0]]=function(){return s[r[0]+"With"](this===s?void 0:this,arguments),this},s[r[0]+"With"]=n.fireWith}),o.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,i=e,r=Array(i),n=u.call(arguments),o=E.Deferred(),s=function(t){return function(i){r[t]=this,n[t]=arguments.length>1?u.call(arguments):i,--e||o.resolveWith(r,n)}};if(e<=1&&(X(t,o.done(s(i)).resolve,o.reject,!e),"pending"===o.state()||_(n[i]&&n[i].then)))return o.then();for(;i--;)X(n[i],s(i),o.reject);return o.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&z.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){n.setTimeout(function(){throw t})};var G=E.Deferred();function Y(){a.removeEventListener("DOMContentLoaded",Y),n.removeEventListener("load",Y),E.ready()}E.fn.ready=function(t){return G.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||G.resolveWith(a,[E]))}}),E.ready.then=G.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(E.ready):(a.addEventListener("DOMContentLoaded",Y),n.addEventListener("load",Y));var W=function t(e,i,r,n,o,s,a){var h=0,u=e.length,c=null==r;if("object"===w(r))for(h in o=!0,r)t(e,i,h,r[h],!0,s,a);else if(void 0!==n&&(o=!0,_(n)||(a=!0),c&&(a?(i.call(e,n),i=null):(c=i,i=function(t,e,i){return c.call(E(t),i)})),i))for(;h<u;h++)i(e[h],r,a?n:n.call(e[h],h,i(e[h],r)));return o?e:c?i.call(e):u?i(e[0],r):s},V=/^-ms-/,Q=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function J(t){return t.replace(V,"ms-").replace(Q,q)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=E.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var r,n=this.cache(t);if("string"==typeof e)n[J(e)]=i;else for(r in e)n[J(r)]=e[r];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][J(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,r=t[this.expando];if(void 0!==r){if(void 0!==e){i=(e=Array.isArray(e)?e.map(J):(e=J(e))in r?[e]:e.match(U)||[]).length;for(;i--;)delete r[e[i]]}(void 0===e||E.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var Z=new K,tt=new K,et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,it=/[A-Z]/g;function rt(t,e,i){var r;if(void 0===i&&1===t.nodeType)if(r="data-"+e.replace(it,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(r))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:et.test(t)?JSON.parse(t):t)}(i)}catch(t){}tt.set(t,e,i)}else i=void 0;return i}E.extend({hasData:function(t){return tt.hasData(t)||Z.hasData(t)},data:function(t,e,i){return tt.access(t,e,i)},removeData:function(t,e){tt.remove(t,e)},_data:function(t,e,i){return Z.access(t,e,i)},_removeData:function(t,e){Z.remove(t,e)}}),E.fn.extend({data:function(t,e){var i,n,o,s=this[0],a=s&&s.attributes;if(void 0===t){if(this.length&&(o=tt.get(s),1===s.nodeType&&!Z.get(s,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=J(n.slice(5)),rt(s,n,o[n]));Z.set(s,"hasDataAttrs",!0)}return o}return"object"===r(t)?this.each(function(){tt.set(this,t)}):W(this,function(e){var i;if(s&&void 0===e)return void 0!==(i=tt.get(s,t))?i:void 0!==(i=rt(s,t))?i:void 0;this.each(function(){tt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){tt.remove(this,t)})}}),E.extend({queue:function(t,e,i){var r;if(t)return e=(e||"fx")+"queue",r=Z.get(t,e),i&&(!r||Array.isArray(i)?r=Z.access(t,e,E.makeArray(i)):r.push(i)),r||[]},dequeue:function(t,e){e=e||"fx";var i=E.queue(t,e),r=i.length,n=i.shift(),o=E._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===e&&i.unshift("inprogress"),delete o.stop,n.call(t,function(){E.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z.get(t,i)||Z.access(t,i,{empty:E.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",i])})})}}),E.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?E.queue(this[0],t):void 0===e?this:this.each(function(){var i=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&E.dequeue(this,t)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,r=1,n=E.Deferred(),o=this,s=this.length,a=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=Z.get(o[s],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(a));return a(),n.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],at=a.documentElement,ht=function(t){return E.contains(t.ownerDocument,t)},ut={composed:!0};at.attachShadow&&(ht=function(t){return E.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ht(t)&&"none"===E.css(t,"display")},lt=function(t,e,i,r){var n,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in n=i.apply(t,r||[]),e)t.style[o]=s[o];return n};function dt(t,e,i,r){var n,o,s=20,a=r?function(){return r.cur()}:function(){return E.css(t,e,"")},h=a(),u=i&&i[3]||(E.cssNumber[e]?"":"px"),c=t.nodeType&&(E.cssNumber[e]||"px"!==u&&+h)&&ot.exec(E.css(t,e));if(c&&c[3]!==u){for(h/=2,u=u||c[3],c=+h||1;s--;)E.style(t,e,c+u),(1-o)*(1-(o=a()/h||.5))<=0&&(s=0),c/=o;c*=2,E.style(t,e,c+u),i=i||[]}return i&&(c=+c||+h||0,n=i[1]?c+(i[1]+1)*i[2]:+i[2],r&&(r.unit=u,r.start=c,r.end=n)),n}var pt={};function ft(t){var e,i=t.ownerDocument,r=t.nodeName,n=pt[r];return n||(e=i.body.appendChild(i.createElement(r)),n=E.css(e,"display"),e.parentNode.removeChild(e),"none"===n&&(n="block"),pt[r]=n,n)}function gt(t,e){for(var i,r,n=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(i=r.style.display,e?("none"===i&&(n[o]=Z.get(r,"display")||null,n[o]||(r.style.display="")),""===r.style.display&&ct(r)&&(n[o]=ft(r))):"none"!==i&&(n[o]="none",Z.set(r,"display",i)));for(o=0;o<s;o++)null!=n[o]&&(t[o].style.display=n[o]);return t}E.fn.extend({show:function(){return gt(this,!0)},hide:function(){return gt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ct(this)?E(this).show():E(this).hide()})}});var vt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i,_t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?E.merge([t],i):i}function At(t,e){for(var i=0,r=t.length;i<r;i++)Z.set(t[i],"globalEval",!e||Z.get(e[i],"globalEval"))}_t.optgroup=_t.option,_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td;var bt,wt,Et=/<|&#?\w+;/;function Tt(t,e,i,r,n){for(var o,s,a,h,u,c,l=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===w(o))E.merge(d,o.nodeType?[o]:o);else if(Et.test(o)){for(s=s||l.appendChild(e.createElement("div")),a=(mt.exec(o)||["",""])[1].toLowerCase(),h=_t[a]||_t._default,s.innerHTML=h[1]+E.htmlPrefilter(o)+h[2],c=h[0];c--;)s=s.lastChild;E.merge(d,s.childNodes),(s=l.firstChild).textContent=""}else d.push(e.createTextNode(o));for(l.textContent="",p=0;o=d[p++];)if(r&&E.inArray(o,r)>-1)n&&n.push(o);else if(u=ht(o),s=xt(l.appendChild(o),"script"),u&&At(s),i)for(c=0;o=s[c++];)yt.test(o.type||"")&&i.push(o);return l}bt=a.createDocumentFragment().appendChild(a.createElement("div")),(wt=a.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),bt.appendChild(wt),y.checkClone=bt.cloneNode(!0).cloneNode(!0).lastChild.checked,bt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!bt.cloneNode(!0).lastChild.defaultValue;var St=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\.(.+)|)/;function Pt(){return!0}function Ot(){return!1}function Dt(t,e){return t===function(){try{return a.activeElement}catch(t){}}()==("focus"===e)}function Mt(t,e,i,n,o,s){var a,h;if("object"===r(e)){for(h in"string"!=typeof i&&(n=n||i,i=void 0),e)Mt(t,h,i,n,e[h],s);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=Ot;else if(!o)return t;return 1===s&&(a=o,(o=function(t){return E().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),t.each(function(){E.event.add(this,e,o,n,i)})}function Rt(t,e,i){i?(Z.set(t,e,!1),E.event.add(t,e,{namespace:!1,handler:function(t){var r,n,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o)(E.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=u.call(arguments),Z.set(this,e,o),r=i(this,e),this[e](),o!==(n=Z.get(this,e))||r?Z.set(this,e,!1):n=void 0,o!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else o&&(Z.set(this,e,E.event.trigger(E.extend(o.shift(),E.Event.prototype),o,this)),t.stopImmediatePropagation())}})):E.event.add(t,e,Pt)}E.event={global:{},add:function(t,e,i,r,n){var o,s,a,h,u,c,l,d,p,f,g,v=Z.get(t);if(v)for(i.handler&&(i=(o=i).handler,n=o.selector),n&&E.find.matchesSelector(at,n),i.guid||(i.guid=E.guid++),(h=v.events)||(h=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(U)||[""]).length;u--;)p=g=(a=It.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(l=E.event.special[p]||{},p=(n?l.delegateType:l.bindType)||p,l=E.event.special[p]||{},c=E.extend({type:p,origType:g,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&E.expr.match.needsContext.test(n),namespace:f.join(".")},o),(d=h[p])||((d=h[p]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,r,f,s)||t.addEventListener&&t.addEventListener(p,s)),l.add&&(l.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,c):d.push(c),E.event.global[p]=!0)},remove:function(t,e,i,r,n){var o,s,a,h,u,c,l,d,p,f,g,v=Z.hasData(t)&&Z.get(t);if(v&&(h=v.events)){for(u=(e=(e||"").match(U)||[""]).length;u--;)if(p=g=(a=It.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(l=E.event.special[p]||{},d=h[p=(r?l.delegateType:l.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!n&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,l.remove&&l.remove.call(t,c));s&&!d.length&&(l.teardown&&!1!==l.teardown.call(t,f,v.handle)||E.removeEvent(t,p,v.handle),delete h[p])}else for(p in h)E.event.remove(t,p+e[u],i,r,!0);E.isEmptyObject(h)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,i,r,n,o,s,a=E.event.fix(t),h=new Array(arguments.length),u=(Z.get(this,"events")||{})[a.type]||[],c=E.event.special[a.type]||{};for(h[0]=a,e=1;e<arguments.length;e++)h[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=E.event.handlers.call(this,a,u),e=0;(n=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,h))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,r,n,o,s,a=[],h=e.delegateCount,u=t.target;if(h&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},i=0;i<h;i++)void 0===s[n=(r=e[i]).selector+" "]&&(s[n]=r.needsContext?E(n,this).index(u)>-1:E.find(n,this,null,[u]).length),s[n]&&o.push(r);o.length&&a.push({elem:u,handlers:o})}return u=this,h<e.length&&a.push({elem:u,handlers:e.slice(h)}),a},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:_(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return vt.test(e.type)&&e.click&&D(e,"input")&&void 0===Z.get(e,"click")&&Rt(e,"click",Pt),!1},trigger:function(t){var e=this||t;return vt.test(e.type)&&e.click&&D(e,"input")&&void 0===Z.get(e,"click")&&Rt(e,"click"),!0},_default:function(t){var e=t.target;return vt.test(e.type)&&e.click&&D(e,"input")&&Z.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Pt:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Pt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Pt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Pt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&St.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(t,e){E.event.special[t]={setup:function(){return Rt(this,t,Dt),!1},trigger:function(){return Rt(this,t),!0},delegateType:e}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,r=this,n=t.relatedTarget,o=t.handleObj;return n&&(n===r||E.contains(r,n))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),E.fn.extend({on:function(t,e,i,r){return Mt(this,t,e,i,r)},one:function(t,e,i,r){return Mt(this,t,e,i,r,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,E(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===r(t)){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Ot),this.each(function(){E.event.remove(this,t,i,e)})}});var Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,kt=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Ut(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ht(t,e){var i,r,n,o,s,a,h,u;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),s=Z.set(e,o),u=o.events))for(n in delete s.handle,s.events={},u)for(i=0,r=u[n].length;i<r;i++)E.event.add(e,n,u[n][i]);tt.hasData(t)&&(a=tt.access(t),h=E.extend({},a),tt.set(e,h))}}function Xt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&vt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function zt(t,e,i,r){e=c.apply([],e);var n,o,s,a,h,u,l=0,d=t.length,p=d-1,f=e[0],g=_(f);if(g||d>1&&"string"==typeof f&&!y.checkClone&&Nt.test(f))return t.each(function(n){var o=t.eq(n);g&&(e[0]=f.call(this,n,o.html())),zt(o,e,i,r)});if(d&&(o=(n=Tt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===n.childNodes.length&&(n=o),o||r)){for(a=(s=E.map(xt(n,"script"),Ut)).length;l<d;l++)h=n,l!==p&&(h=E.clone(h,!0,!0),a&&E.merge(s,xt(h,"script"))),i.call(t[l],h,l);if(a)for(u=s[s.length-1].ownerDocument,E.map(s,jt),l=0;l<a;l++)h=s[l],yt.test(h.type||"")&&!Z.access(h,"globalEval")&&E.contains(u,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?E._evalUrl&&!h.noModule&&E._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")}):b(h.textContent.replace(Ft,""),h,u))}return t}function Gt(t,e,i){for(var r,n=e?E.filter(e,t):t,o=0;null!=(r=n[o]);o++)i||1!==r.nodeType||E.cleanData(xt(r)),r.parentNode&&(i&&ht(r)&&At(xt(r,"script")),r.parentNode.removeChild(r));return t}E.extend({htmlPrefilter:function(t){return t.replace(Bt,"<$1></$2>")},clone:function(t,e,i){var r,n,o,s,a=t.cloneNode(!0),h=ht(t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(s=xt(a),r=0,n=(o=xt(t)).length;r<n;r++)Xt(o[r],s[r]);if(e)if(i)for(o=o||xt(t),s=s||xt(a),r=0,n=o.length;r<n;r++)Ht(o[r],s[r]);else Ht(t,a);return(s=xt(a,"script")).length>0&&At(s,!h&&xt(t,"script")),a},cleanData:function(t){for(var e,i,r,n=E.event.special,o=0;void 0!==(i=t[o]);o++)if($(i)){if(e=i[Z.expando]){if(e.events)for(r in e.events)n[r]?E.event.remove(i,r):E.removeEvent(i,r,e.handle);i[Z.expando]=void 0}i[tt.expando]&&(i[tt.expando]=void 0)}}}),E.fn.extend({detach:function(t){return Gt(this,t,!0)},remove:function(t){return Gt(this,t)},text:function(t){return W(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return zt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)})},prepend:function(){return zt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(xt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return W(this,function(t){var e=this[0]||{},i=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!kt.test(t)&&!_t[(mt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;i<r;i++)1===(e=this[i]||{}).nodeType&&(E.cleanData(xt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return zt(this,arguments,function(e){var i=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(xt(this)),i&&i.replaceChild(e,this))},t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){E.fn[t]=function(t){for(var i,r=[],n=E(t),o=n.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),E(n[s])[e](i),l.apply(r,i.get());return this.pushStack(r)}});var Yt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Vt=new RegExp(st.join("|"),"i");function Qt(t,e,i){var r,n,o,s,a=t.style;return(i=i||Wt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||ht(t)||(s=E.style(t,e)),!y.pixelBoxStyles()&&Yt.test(s)&&Vt.test(e)&&(r=a.width,n=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=r,a.minWidth=n,a.maxWidth=o)),void 0!==s?s+"":s}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,h=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),at.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,s,h,u=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(y,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),h},scrollboxSize:function(){return t(),o}}))}();var Jt=["Webkit","Moz","ms"],$t=a.createElement("div").style,Kt={};function Zt(t){var e=E.cssProps[t]||Kt[t];return e||(t in $t?t:Kt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Jt.length;i--;)if((t=Jt[i]+e)in $t)return t}(t)||t)}var te=/^(none|table(?!-c[ea]).+)/,ee=/^--/,ie={position:"absolute",visibility:"hidden",display:"block"},re={letterSpacing:"0",fontWeight:"400"};function ne(t,e,i){var r=ot.exec(e);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):e}function oe(t,e,i,r,n,o){var s="width"===e?1:0,a=0,h=0;if(i===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(h+=E.css(t,i+st[s],!0,n)),r?("content"===i&&(h-=E.css(t,"padding"+st[s],!0,n)),"margin"!==i&&(h-=E.css(t,"border"+st[s]+"Width",!0,n))):(h+=E.css(t,"padding"+st[s],!0,n),"padding"!==i?h+=E.css(t,"border"+st[s]+"Width",!0,n):a+=E.css(t,"border"+st[s]+"Width",!0,n));return!r&&o>=0&&(h+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-h-a-.5))||0),h}function se(t,e,i){var r=Wt(t),n=(!y.boxSizingReliable()||i)&&"border-box"===E.css(t,"boxSizing",!1,r),o=n,s=Qt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(Yt.test(s)){if(!i)return s;s="auto"}return(!y.boxSizingReliable()&&n||"auto"===s||!parseFloat(s)&&"inline"===E.css(t,"display",!1,r))&&t.getClientRects().length&&(n="border-box"===E.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+oe(t,e,i||(n?"border":"content"),o,r,s)+"px"}function ae(t,e,i,r,n){return new ae.prototype.init(t,e,i,r,n)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Qt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,h=J(e),u=ee.test(e),c=t.style;if(u||(e=Zt(h)),a=E.cssHooks[e]||E.cssHooks[h],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:c[e];"string"===(s=r(i))&&(o=ot.exec(i))&&o[1]&&(i=dt(t,e,o),s="number"),null!=i&&i==i&&("number"!==s||u||(i+=o&&o[3]||(E.cssNumber[h]?"":"px")),y.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(u?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,r){var n,o,s,a=J(e);return ee.test(e)||(e=Zt(a)),(s=E.cssHooks[e]||E.cssHooks[a])&&"get"in s&&(n=s.get(t,!0,i)),void 0===n&&(n=Qt(t,e,r)),"normal"===n&&e in re&&(n=re[e]),""===i||i?(o=parseFloat(n),!0===i||isFinite(o)?o||0:n):n}}),E.each(["height","width"],function(t,e){E.cssHooks[e]={get:function(t,i,r){if(i)return!te.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?se(t,e,r):lt(t,ie,function(){return se(t,e,r)})},set:function(t,i,r){var n,o=Wt(t),s=!y.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===E.css(t,"boxSizing",!1,o),h=r?oe(t,e,r,a,o):0;return a&&s&&(h-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-oe(t,e,"border",!1,o)-.5)),h&&(n=ot.exec(i))&&"px"!==(n[3]||"px")&&(t.style[e]=i,i=E.css(t,e)),ne(0,i,h)}}}),E.cssHooks.marginLeft=qt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Qt(t,"marginLeft"))||t.getBoundingClientRect().left-lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(t,e){E.cssHooks[t+e]={expand:function(i){for(var r=0,n={},o="string"==typeof i?i.split(" "):[i];r<4;r++)n[t+st[r]+e]=o[r]||o[r-2]||o[0];return n}},"margin"!==t&&(E.cssHooks[t+e].set=ne)}),E.fn.extend({css:function(t,e){return W(this,function(t,e,i){var r,n,o={},s=0;if(Array.isArray(e)){for(r=Wt(t),n=e.length;s<n;s++)o[e[s]]=E.css(t,e[s],!1,r);return o}return void 0!==i?E.style(t,e,i):E.css(t,e)},t,e,arguments.length>1)}}),E.Tween=ae,ae.prototype={constructor:ae,init:function(t,e,i,r,n,o){this.elem=t,this.prop=i,this.easing=n||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[i]?"":"px")},cur:function(){var t=ae.propHooks[this.prop];return t&&t.get?t.get(this):ae.propHooks._default.get(this)},run:function(t){var e,i=ae.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ae.propHooks._default.set(this),this}},ae.prototype.init.prototype=ae.prototype,ae.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||!E.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},ae.propHooks.scrollTop=ae.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=ae.prototype.init,E.fx.step={};var he,ue,ce=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function de(){ue&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(de):n.setTimeout(de,E.fx.interval),E.fx.tick())}function pe(){return n.setTimeout(function(){he=void 0}),he=Date.now()}function fe(t,e){var i,r=0,n={height:t};for(e=e?1:0;r<4;r+=2-e)n["margin"+(i=st[r])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function ge(t,e,i){for(var r,n=(ve.tweeners[e]||[]).concat(ve.tweeners["*"]),o=0,s=n.length;o<s;o++)if(r=n[o].call(i,e,t))return r}function ve(t,e,i){var r,n,o=0,s=ve.prefilters.length,a=E.Deferred().always(function(){delete h.elem}),h=function(){if(n)return!1;for(var e=he||pe(),i=Math.max(0,u.startTime+u.duration-e),r=1-(i/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(r);return a.notifyWith(t,[u,r,i]),r<1&&s?i:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},i),originalProperties:e,originalOptions:i,startTime:he||pe(),duration:i.duration,tweens:[],createTween:function(e,i){var r=E.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var i=0,r=e?u.tweens.length:0;if(n)return this;for(n=!0;i<r;i++)u.tweens[i].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var i,r,n,o,s;for(i in t)if(n=e[r=J(i)],o=t[i],Array.isArray(o)&&(n=o[1],o=t[i]=o[0]),i!==r&&(t[r]=o,delete t[i]),(s=E.cssHooks[r])&&"expand"in s)for(i in o=s.expand(o),delete t[r],o)i in t||(t[i]=o[i],e[i]=n);else e[r]=n}(c,u.opts.specialEasing);o<s;o++)if(r=ve.prefilters[o].call(u,t,c,u.opts))return _(r.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return E.map(c,ge,u),_(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(h,{elem:t,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(ve,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return dt(i.elem,t,ot.exec(e),i),i}]},tweener:function(t,e){_(t)?(e=t,t=["*"]):t=t.match(U);for(var i,r=0,n=t.length;r<n;r++)i=t[r],ve.tweeners[i]=ve.tweeners[i]||[],ve.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var r,n,o,s,a,h,u,c,l="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&ct(t),v=Z.get(t,"fxshow");for(r in i.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()})})),e)if(n=e[r],ce.test(n)){if(delete e[r],o=o||"toggle"===n,n===(g?"hide":"show")){if("show"!==n||!v||void 0===v[r])continue;g=!0}p[r]=v&&v[r]||E.style(t,r)}if((h=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(r in l&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=v&&v.display)&&(u=Z.get(t,"display")),"none"===(c=E.css(t,"display"))&&(u?c=u:(gt([t],!0),u=t.style.display||u,c=E.css(t,"display"),gt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===E.css(t,"float")&&(h||(d.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),h=!1,p)h||(v?"hidden"in v&&(g=v.hidden):v=Z.access(t,"fxshow",{display:u}),o&&(v.hidden=!g),g&&gt([t],!0),d.done(function(){for(r in g||gt([t]),Z.remove(t,"fxshow"),p)E.style(t,r,p[r])})),h=ge(g?v[r]:0,r,d),r in v||(v[r]=h.start,g&&(h.end=h.start,h.start=0))}],prefilter:function(t,e){e?ve.prefilters.unshift(t):ve.prefilters.push(t)}}),E.speed=function(t,e,i){var n=t&&"object"===r(t)?E.extend({},t):{complete:i||!i&&e||_(t)&&t,duration:t,easing:i&&e||e&&!_(e)&&e};return E.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in E.fx.speeds?n.duration=E.fx.speeds[n.duration]:n.duration=E.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){_(n.old)&&n.old.call(this),n.queue&&E.dequeue(this,n.queue)},n},E.fn.extend({fadeTo:function(t,e,i,r){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(t,e,i,r){var n=E.isEmptyObject(t),o=E.speed(e,i,r),s=function(){var e=ve(this,E.extend({},t),o);(n||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,n||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=E.timers,s=Z.get(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&le.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));!e&&i||E.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=Z.get(this),r=i[t+"queue"],n=i[t+"queueHooks"],o=E.timers,s=r?r.length:0;for(i.finish=!0,E.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete i.finish})}}),E.each(["toggle","show","hide"],function(t,e){var i=E.fn[e];E.fn[e]=function(t,r,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(fe(e,!0),t,r,n)}}),E.each({slideDown:fe("show"),slideUp:fe("hide"),slideToggle:fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){E.fn[t]=function(t,i,r){return this.animate(e,t,i,r)}}),E.timers=[],E.fx.tick=function(){var t,e=0,i=E.timers;for(he=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||E.fx.stop(),he=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ue||(ue=!0,de())},E.fx.stop=function(){ue=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",y.checkOn=""!==t.value,y.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",y.radioValue="t"===t.value}();var me,ye=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return W(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,i){var r,n,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,i):(1===o&&E.isXMLDoc(t)||(n=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?me:void 0)),void 0!==i?null===i?void E.removeAttr(t,e):n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):n&&"get"in n&&null!==(r=n.get(t,e))?r:null==(r=E.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&D(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,r=0,n=e&&e.match(U);if(n&&1===t.nodeType)for(;i=n[r++];)t.removeAttribute(i)}}),me={set:function(t,e,i){return!1===e?E.removeAttr(t,i):t.setAttribute(i,i),i}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ye[e]||E.find.attr;ye[e]=function(t,e,r){var n,o,s=e.toLowerCase();return r||(o=ye[s],ye[s]=n,n=null!=i(t,e,r)?s:null,ye[s]=o),n}});var _e=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;function Ae(t){return(t.match(U)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(U)||[]}E.fn.extend({prop:function(t,e){return W(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,i){var r,n,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,n=E.propHooks[e]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:t[e]=i:n&&"get"in n&&null!==(r=n.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,i,r,n,o,s,a,h=0;if(_(t))return this.each(function(e){E(this).addClass(t.call(this,e,be(this)))});if((e=we(t)).length)for(;i=this[h++];)if(n=be(i),r=1===i.nodeType&&" "+Ae(n)+" "){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");n!==(a=Ae(r))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,r,n,o,s,a,h=0;if(_(t))return this.each(function(e){E(this).removeClass(t.call(this,e,be(this)))});if(!arguments.length)return this.attr("class","");if((e=we(t)).length)for(;i=this[h++];)if(n=be(i),r=1===i.nodeType&&" "+Ae(n)+" "){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");n!==(a=Ae(r))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=r(t),n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):_(t)?this.each(function(i){E(this).toggleClass(t.call(this,i,be(this),e),e)}):this.each(function(){var e,r,o,s;if(n)for(r=0,o=E(this),s=we(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=be(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,i,r=0;for(e=" "+t+" ";i=this[r++];)if(1===i.nodeType&&(" "+Ae(be(i))+" ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g;E.fn.extend({val:function(t){var e,i,r,n=this[0];return arguments.length?(r=_(t),this.each(function(i){var n;1===this.nodeType&&(null==(n=r?t.call(this,i,E(this).val()):t)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=E.map(n,function(t){return null==t?"":t+""})),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,n,"value")||(this.value=n))})):n?(e=E.valHooks[n.type]||E.valHooks[n.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace(Ee,""):null==i?"":i:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:Ae(E.text(t))}},select:{get:function(t){var e,i,r,n=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],h=s?o+1:n.length;for(r=o<0?h:s?o:0;r<h;r++)if(((i=n[r]).selected||r===o)&&!i.disabled&&(!i.parentNode.disabled||!D(i.parentNode,"optgroup"))){if(e=E(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,r,n=t.options,o=E.makeArray(e),s=n.length;s--;)((r=n[s]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},y.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in n;var Te=/^(?:focusinfocus|focusoutblur)$/,Se=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,i,o){var s,h,u,c,l,d,p,f,v=[i||a],m=g.call(t,"type")?t.type:t,y=g.call(t,"namespace")?t.namespace.split("."):[];if(h=f=u=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!Te.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(y=m.split("."),m=y.shift(),y.sort()),l=m.indexOf(":")<0&&"on"+m,(t=t[E.expando]?t:new E.Event(m,"object"===r(t)&&t)).isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:E.makeArray(e,[t]),p=E.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(i,e))){if(!o&&!p.noBubble&&!x(i)){for(c=p.delegateType||m,Te.test(c+m)||(h=h.parentNode);h;h=h.parentNode)v.push(h),u=h;u===(i.ownerDocument||a)&&v.push(u.defaultView||u.parentWindow||n)}for(s=0;(h=v[s++])&&!t.isPropagationStopped();)f=h,t.type=s>1?c:p.bindType||m,(d=(Z.get(h,"events")||{})[t.type]&&Z.get(h,"handle"))&&d.apply(h,e),(d=l&&h[l])&&d.apply&&$(h)&&(t.result=d.apply(h,e),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),e)||!$(i)||l&&_(i[m])&&!x(i)&&((u=i[l])&&(i[l]=null),E.event.triggered=m,t.isPropagationStopped()&&f.addEventListener(m,Se),i[m](),t.isPropagationStopped()&&f.removeEventListener(m,Se),E.event.triggered=void 0,u&&(i[l]=u)),t.result}},simulate:function(t,e,i){var r=E.extend(new E.Event,i,{type:t,isSimulated:!0});E.event.trigger(r,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return E.event.trigger(t,e,i,!0)}}),y.focusin||E.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var r=this.ownerDocument||this,n=Z.access(r,e);n||r.addEventListener(t,i,!0),Z.access(r,e,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this,n=Z.access(r,e)-1;n?Z.access(r,e,n):(r.removeEventListener(t,i,!0),Z.remove(r,e))}}});var Ce=n.location,Ie=Date.now(),Pe=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Oe=/\[\]$/,De=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;function Be(t,e,i,n){var o;if(Array.isArray(e))E.each(e,function(e,o){i||Oe.test(t)?n(t,o):Be(t+"["+("object"===r(o)&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==w(e))n(t,e);else for(o in e)Be(t+"["+o+"]",e[o],i,n)}E.param=function(t,e){var i,r=[],n=function(t,e){var i=_(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){n(this.name,this.value)});else for(i in t)Be(i,t[i],e,n);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&Re.test(this.nodeName)&&!Me.test(t)&&(this.checked||!vt.test(t))}).map(function(t,e){var i=E(this).val();return null==i?null:Array.isArray(i)?E.map(i,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:i.replace(De,"\r\n")}}).get()}});var ke=/%20/g,Ne=/#.*$/,Fe=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ue=/^(?:GET|HEAD)$/,je=/^\/\//,He={},Xe={},ze="*/".concat("*"),Ge=a.createElement("a");function Ye(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var r,n=0,o=e.toLowerCase().match(U)||[];if(_(i))for(;r=o[n++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(i)):(t[r]=t[r]||[]).push(i)}}function We(t,e,i,r){var n={},o=t===Xe;function s(a){var h;return n[a]=!0,E.each(t[a]||[],function(t,a){var u=a(e,i,r);return"string"!=typeof u||o||n[u]?o?!(h=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),h}return s(e.dataTypes[0])||!n["*"]&&s("*")}function Ve(t,e){var i,r,n=E.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((n[i]?t:r||(r={}))[i]=e[i]);return r&&E.extend(!0,t,r),t}Ge.href=Ce.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,E.ajaxSettings),e):Ve(E.ajaxSettings,t)},ajaxPrefilter:Ye(He),ajaxTransport:Ye(Xe),ajax:function(t,e){"object"===r(t)&&(e=t,t=void 0),e=e||{};var i,o,s,h,u,c,l,d,p,f,g=E.ajaxSetup({},e),v=g.context||g,m=g.context&&(v.nodeType||v.jquery)?E(v):E.event,y=E.Deferred(),_=E.Callbacks("once memory"),x=g.statusCode||{},A={},b={},w="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(l){if(!h)for(h={};e=Le.exec(s);)h[e[1].toLowerCase()+" "]=(h[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=h[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,A[t]=e),this},overrideMimeType:function(t){return null==l&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)T.always(t[T.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),S(0,e),this}};if(y.promise(T),g.url=((t||g.url||Ce.href)+"").replace(je,Ce.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(U)||[""],null==g.crossDomain){c=a.createElement("a");try{c.href=g.url,c.href=c.href,g.crossDomain=Ge.protocol+"//"+Ge.host!=c.protocol+"//"+c.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=E.param(g.data,g.traditional)),We(He,g,e,T),l)return T;for(p in(d=E.event&&g.global)&&0==E.active++&&E.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Ue.test(g.type),o=g.url.replace(Ne,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(ke,"+")):(f=g.url.slice(o.length),g.data&&(g.processData||"string"==typeof g.data)&&(o+=(Pe.test(o)?"&":"?")+g.data,delete g.data),!1===g.cache&&(o=o.replace(Fe,"$1"),f=(Pe.test(o)?"&":"?")+"_="+Ie+++f),g.url=o+f),g.ifModified&&(E.lastModified[o]&&T.setRequestHeader("If-Modified-Since",E.lastModified[o]),E.etag[o]&&T.setRequestHeader("If-None-Match",E.etag[o])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&T.setRequestHeader("Content-Type",g.contentType),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+ze+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(p,g.headers[p]);if(g.beforeSend&&(!1===g.beforeSend.call(v,T,g)||l))return T.abort();if(w="abort",_.add(g.complete),T.done(g.success),T.fail(g.error),i=We(Xe,g,e,T)){if(T.readyState=1,d&&m.trigger("ajaxSend",[T,g]),l)return T;g.async&&g.timeout>0&&(u=n.setTimeout(function(){T.abort("timeout")},g.timeout));try{l=!1,i.send(A,S)}catch(t){if(l)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,r,a){var h,c,p,f,A,b=e;l||(l=!0,u&&n.clearTimeout(u),i=void 0,s=a||"",T.readyState=t>0?4:0,h=t>=200&&t<300||304===t,r&&(f=function(t,e,i){for(var r,n,o,s,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(n in a)if(a[n]&&a[n].test(r)){h.unshift(n);break}if(h[0]in i)o=h[0];else{for(n in i){if(!h[0]||t.converters[n+" "+h[0]]){o=n;break}s||(s=n)}o=o||s}if(o)return o!==h[0]&&h.unshift(o),i[o]}(g,T,r)),f=function(t,e,i,r){var n,o,s,a,h,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!h&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=o,o=c.shift())if("*"===o)o=h;else if("*"!==h&&h!==o){if(!(s=u[h+" "+o]||u["* "+o]))for(n in u)if((a=n.split(" "))[1]===o&&(s=u[h+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[n]:!0!==u[n]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+h+" to "+o}}}return{state:"success",data:e}}(g,f,T,h),h?(g.ifModified&&((A=T.getResponseHeader("Last-Modified"))&&(E.lastModified[o]=A),(A=T.getResponseHeader("etag"))&&(E.etag[o]=A)),204===t||"HEAD"===g.type?b="nocontent":304===t?b="notmodified":(b=f.state,c=f.data,h=!(p=f.error))):(p=b,!t&&b||(b="error",t<0&&(t=0))),T.status=t,T.statusText=(e||b)+"",h?y.resolveWith(v,[c,b,T]):y.rejectWith(v,[T,b,p]),T.statusCode(x),x=void 0,d&&m.trigger(h?"ajaxSuccess":"ajaxError",[T,g,h?c:p]),_.fireWith(v,[T,b]),d&&(m.trigger("ajaxComplete",[T,g]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,i){return E.get(t,e,i,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,e){E[e]=function(t,i,r,n){return _(i)&&(n=n||r,r=i,i=void 0),E.ajax(E.extend({url:t,type:e,dataType:n,data:i,success:r},E.isPlainObject(t)&&t))}}),E._evalUrl=function(t,e){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){E.globalEval(t,e)}})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(_(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return _(t)?this.each(function(e){E(this).wrapInner(t.call(this,e))}):this.each(function(){var e=E(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=_(t);return this.each(function(i){E(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Qe={0:200,1223:204},qe=E.ajaxSettings.xhr();y.cors=!!qe&&"withCredentials"in qe,y.ajax=qe=!!qe,E.ajaxTransport(function(t){var e,i;if(y.cors||qe&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(r,n){e=E("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&n("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){i&&i()}}});var Je,$e=[],Ke=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||E.expando+"_"+Ie++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=_(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ke,"$1"+r):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||E.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?E(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,$e.push(r)),s&&_(o)&&o(s[0]),s=o=void 0}),"script"}),y.createHTMLDocument=((Je=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Je.childNodes.length),E.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(y.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),o=!i&&[],(n=M.exec(t))?[e.createElement(n[1])]:(n=Tt([t],e,o),o&&o.length&&E(o).remove(),E.merge([],n.childNodes)));var r,n,o},E.fn.load=function(t,e,i){var n,o,s,a=this,h=t.indexOf(" ");return h>-1&&(n=Ae(t.slice(h)),t=t.slice(0,h)),_(e)?(i=e,e=void 0):e&&"object"===r(e)&&(o="POST"),a.length>0&&E.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){s=arguments,a.html(n?E("<div>").append(E.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(t,e,i){var r,n,o,s,a,h,u=E.css(t,"position"),c=E(t),l={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=E.css(t,"top"),h=E.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+h).indexOf("auto")>-1?(s=(r=c.position()).top,n=r.left):(s=parseFloat(o)||0,n=parseFloat(h)||0),_(e)&&(e=e.call(t,i,E.extend({},a))),null!=e.top&&(l.top=e.top-a.top+s),null!=e.left&&(l.left=e.left-a.left+n),"using"in e?e.using.call(t,l):c.css(l)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,i,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),i=r.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,r=this[0],n={top:0,left:0};if("fixed"===E.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),i=r.ownerDocument,t=r.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((n=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),n.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-E.css(r,"marginTop",!0),left:e.left-n.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||at})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;E.fn[t]=function(r){return W(this,function(t,r,n){var o;if(x(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===n)return o?o[e]:t[r];o?o.scrollTo(i?o.pageXOffset:n,i?n:o.pageYOffset):t[r]=n},t,r,arguments.length)}}),E.each(["top","left"],function(t,e){E.cssHooks[e]=qt(y.pixelPosition,function(t,i){if(i)return i=Qt(t,e),Yt.test(i)?E(t).position()[e]+"px":i})}),E.each({Height:"height",Width:"width"},function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,r){E.fn[r]=function(n,o){var s=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===o?"margin":"border");return W(this,function(e,i,n){var o;return x(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?E.css(e,i,a):E.style(e,i,n,a)},e,s?n:void 0,s)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){E.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,r){return this.on(e,t,i,r)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),E.proxy=function(t,e){var i,r,n;if("string"==typeof e&&(i=t[e],e=t,t=i),_(t))return r=u.call(arguments,2),(n=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||E.guid++,n},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=D,E.isFunction=_,E.isWindow=x,E.camelCase=J,E.type=w,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return E}.apply(e,[]))||(t.exports=i);var Ze=n.jQuery,ti=n.$;return E.noConflict=function(t){return n.$===E&&(n.$=ti),t&&n.jQuery===E&&(n.jQuery=Ze),E},o||(n.jQuery=n.$=E),E})}).call(this,i(6)(t))},function(t,e,i){var r,n,o;!function(i){var s=/iPhone/i,a=/iPod/i,h=/iPad/i,u=/\bAndroid(?:.+)Mobile\b/i,c=/Android/i,l=/\bAndroid(?:.+)SD4930UR\b/i,d=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,v=/BB10/i,m=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i;function x(t,e){return t.test(e)}function A(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r={apple:{phone:x(s,e)&&!x(p,e),ipod:x(a,e),tablet:!x(s,e)&&x(h,e)&&!x(p,e),device:(x(s,e)||x(a,e)||x(h,e))&&!x(p,e)},amazon:{phone:x(l,e),tablet:!x(l,e)&&x(d,e),device:x(l,e)||x(d,e)},android:{phone:!x(p,e)&&x(l,e)||!x(p,e)&&x(u,e),tablet:!x(p,e)&&!x(l,e)&&!x(u,e)&&(x(d,e)||x(c,e)),device:!x(p,e)&&(x(l,e)||x(d,e)||x(u,e)||x(c,e))||x(/\bokhttp\b/i,e)},windows:{phone:x(p,e),tablet:x(f,e),device:x(p,e)||x(f,e)},other:{blackberry:x(g,e),blackberry10:x(v,e),opera:x(m,e),firefox:x(_,e),chrome:x(y,e),device:x(g,e)||x(v,e)||x(m,e)||x(_,e)||x(y,e)}};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}t.exports&&"undefined"==typeof window?t.exports=A:t.exports&&"undefined"!=typeof window?(t.exports=A(),t.exports.isMobile=A):(n=[],r=i.isMobile=A(),void 0===(o="function"==typeof r?r.apply(e,n):r)||(t.exports=o))}(this)},function(t,e,i){var r,n,o,s;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(){var t,e,i,r,n,o,s,a,h,u,c=c||function(t,e){var i=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),r={},n=r.lib={},o=n.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=n.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,i=t.words,r=this.sigBytes,n=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<n;o++){var s=i[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<n;o+=4)e[r+o>>>2]=i[o>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i,r=[],n=function(e){e=e;var i=987654321,r=4294967295;return function(){var n=((i=36969*(65535&i)+(i>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return n/=4294967296,(n+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var a=n(4294967296*(i||t.random()));i=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,e)}}),a=r.enc={},h=a.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(i,e/2)}},u=a.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(i,e)}},c=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},l=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,r=i.words,n=i.sigBytes,o=this.blockSize,a=n/(4*o),h=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,u=t.min(4*h,n);if(h){for(var c=0;c<h;c+=o)this._doProcessBlock(r,c);var l=r.splice(0,h);i.sigBytes-=u}return new s.init(l,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(n.Hasher=l.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new d.HMAC.init(t,i).finalize(e)}}}),r.algo={});return r}(Math);return function(){var t=c,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,r=this._map;t.clamp();for(var n=[],o=0;o<i;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<i;a++)n.push(r.charAt(s>>>6*(3-a)&63));var h=r.charAt(64);if(h)for(;n.length%4;)n.push(h);return n.join("")},parse:function(t){var i=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(i=a)}return function(t,i,r){for(var n=[],o=0,s=0;s<i;s++)if(s%4){var a=r[t.charCodeAt(s-1)]<<s%4*2,h=r[t.charCodeAt(s)]>>>6-s%4*2;n[o>>>2]|=(a|h)<<24-o%4*8,o++}return e.create(n,o)}(t,i,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){var e=c,i=e.lib,r=i.WordArray,n=i.Hasher,o=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var a=o.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var r=e+i,n=t[r];t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o=this._hash.words,a=t[e+0],c=t[e+1],p=t[e+2],f=t[e+3],g=t[e+4],v=t[e+5],m=t[e+6],y=t[e+7],_=t[e+8],x=t[e+9],A=t[e+10],b=t[e+11],w=t[e+12],E=t[e+13],T=t[e+14],S=t[e+15],C=o[0],I=o[1],P=o[2],O=o[3];C=h(C,I,P,O,a,7,s[0]),O=h(O,C,I,P,c,12,s[1]),P=h(P,O,C,I,p,17,s[2]),I=h(I,P,O,C,f,22,s[3]),C=h(C,I,P,O,g,7,s[4]),O=h(O,C,I,P,v,12,s[5]),P=h(P,O,C,I,m,17,s[6]),I=h(I,P,O,C,y,22,s[7]),C=h(C,I,P,O,_,7,s[8]),O=h(O,C,I,P,x,12,s[9]),P=h(P,O,C,I,A,17,s[10]),I=h(I,P,O,C,b,22,s[11]),C=h(C,I,P,O,w,7,s[12]),O=h(O,C,I,P,E,12,s[13]),P=h(P,O,C,I,T,17,s[14]),C=u(C,I=h(I,P,O,C,S,22,s[15]),P,O,c,5,s[16]),O=u(O,C,I,P,m,9,s[17]),P=u(P,O,C,I,b,14,s[18]),I=u(I,P,O,C,a,20,s[19]),C=u(C,I,P,O,v,5,s[20]),O=u(O,C,I,P,A,9,s[21]),P=u(P,O,C,I,S,14,s[22]),I=u(I,P,O,C,g,20,s[23]),C=u(C,I,P,O,x,5,s[24]),O=u(O,C,I,P,T,9,s[25]),P=u(P,O,C,I,f,14,s[26]),I=u(I,P,O,C,_,20,s[27]),C=u(C,I,P,O,E,5,s[28]),O=u(O,C,I,P,p,9,s[29]),P=u(P,O,C,I,y,14,s[30]),C=l(C,I=u(I,P,O,C,w,20,s[31]),P,O,v,4,s[32]),O=l(O,C,I,P,_,11,s[33]),P=l(P,O,C,I,b,16,s[34]),I=l(I,P,O,C,T,23,s[35]),C=l(C,I,P,O,c,4,s[36]),O=l(O,C,I,P,g,11,s[37]),P=l(P,O,C,I,y,16,s[38]),I=l(I,P,O,C,A,23,s[39]),C=l(C,I,P,O,E,4,s[40]),O=l(O,C,I,P,a,11,s[41]),P=l(P,O,C,I,f,16,s[42]),I=l(I,P,O,C,m,23,s[43]),C=l(C,I,P,O,x,4,s[44]),O=l(O,C,I,P,w,11,s[45]),P=l(P,O,C,I,S,16,s[46]),C=d(C,I=l(I,P,O,C,p,23,s[47]),P,O,a,6,s[48]),O=d(O,C,I,P,y,10,s[49]),P=d(P,O,C,I,T,15,s[50]),I=d(I,P,O,C,v,21,s[51]),C=d(C,I,P,O,w,6,s[52]),O=d(O,C,I,P,f,10,s[53]),P=d(P,O,C,I,A,15,s[54]),I=d(I,P,O,C,c,21,s[55]),C=d(C,I,P,O,_,6,s[56]),O=d(O,C,I,P,S,10,s[57]),P=d(P,O,C,I,m,15,s[58]),I=d(I,P,O,C,E,21,s[59]),C=d(C,I,P,O,g,6,s[60]),O=d(O,C,I,P,b,10,s[61]),P=d(P,O,C,I,p,15,s[62]),I=d(I,P,O,C,x,21,s[63]),o[0]=o[0]+C|0,o[1]=o[1]+I|0,o[2]=o[2]+P|0,o[3]=o[3]+O|0},_doFinalize:function(){var e=this._data,i=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;i[n>>>5]|=128<<24-n%32;var o=t.floor(r/4294967296),s=r;i[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(i.length+1),this._process();for(var a=this._hash,h=a.words,u=0;u<4;u++){var c=h[u];h[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});function h(t,e,i,r,n,o,s){var a=t+(e&i|~e&r)+n+s;return(a<<o|a>>>32-o)+e}function u(t,e,i,r,n,o,s){var a=t+(e&r|i&~r)+n+s;return(a<<o|a>>>32-o)+e}function l(t,e,i,r,n,o,s){var a=t+(e^i^r)+n+s;return(a<<o|a>>>32-o)+e}function d(t,e,i,r,n,o,s){var a=t+(i^(e|~r))+n+s;return(a<<o|a>>>32-o)+e}e.MD5=n._createHelper(a),e.HmacMD5=n._createHmacHelper(a)}(Math),e=(t=c).lib,i=e.WordArray,r=e.Hasher,n=t.algo,o=[],s=n.SHA1=r.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],s=i[2],a=i[3],h=i[4],u=0;u<80;u++){if(u<16)o[u]=0|t[e+u];else{var c=o[u-3]^o[u-8]^o[u-14]^o[u-16];o[u]=c<<1|c>>>31}var l=(r<<5|r>>>27)+h+o[u];l+=u<20?1518500249+(n&s|~n&a):u<40?1859775393+(n^s^a):u<60?(n&s|n&a|s&a)-1894007588:(n^s^a)-899497514,h=a,a=s,s=n<<30|n>>>2,n=r,r=l}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+h|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(r+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),t.SHA1=r._createHelper(s),t.HmacSHA1=r._createHmacHelper(s),function(t){var e=c,i=e.lib,r=i.WordArray,n=i.Hasher,o=e.algo,s=[],a=[];!function(){function e(e){for(var i=t.sqrt(e),r=2;r<=i;r++)if(!(e%r))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var r=2,n=0;n<64;)e(r)&&(n<8&&(s[n]=i(t.pow(r,.5))),a[n]=i(t.pow(r,1/3)),n++),r++}();var h=[],u=o.SHA256=n.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],o=i[2],s=i[3],u=i[4],c=i[5],l=i[6],d=i[7],p=0;p<64;p++){if(p<16)h[p]=0|t[e+p];else{var f=h[p-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,v=h[p-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;h[p]=g+h[p-7]+m+h[p-16]}var y=r&n^r&o^n&o,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),x=d+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+a[p]+h[p];d=l,l=c,c=u,u=s+x|0,s=o,o=n,n=r,r=x+(_+y)|0}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+o|0,i[3]=i[3]+s|0,i[4]=i[4]+u|0,i[5]=i[5]+c|0,i[6]=i[6]+l|0,i[7]=i[7]+d|0},_doFinalize:function(){var e=this._data,i=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=t.floor(r/4294967296),i[15+(n+64>>>9<<4)]=r,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=n._createHelper(u),e.HmacSHA256=n._createHmacHelper(u)}(Math),function(){var t=c,e=t.lib.WordArray,i=t.enc;i.Utf16=i.Utf16BE={stringify:function(t){for(var e=t.words,i=t.sigBytes,r=[],n=0;n<i;n+=2){var o=e[n>>>2]>>>16-n%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var i=t.length,r=[],n=0;n<i;n++)r[n>>>1]|=t.charCodeAt(n)<<16-n%2*16;return e.create(r,2*i)}};function r(t){return t<<8&4278255360|t>>>8&16711935}i.Utf16LE={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],o=0;o<i;o+=2){var s=r(e[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var i=t.length,n=[],o=0;o<i;o++)n[o>>>1]|=r(t.charCodeAt(o)<<16-o%2*16);return e.create(n,2*i)}}}(),function(){if("function"==typeof ArrayBuffer){var t=c.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var i=t.byteLength,r=[],n=0;n<i;n++)r[n>>>2]|=t[n]<<24-n%4*8;e.call(this,r,i)}else e.apply(this,arguments)}).prototype=t}}(),
/** @preserve
  (c) 2012 by CÃ©dric Mesnil. All rights reserved.
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
      - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
function(t){var e=c,i=e.lib,r=i.WordArray,n=i.Hasher,o=e.algo,s=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),p=o.RIPEMD160=n.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var r=e+i,n=t[r];t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o,c,p,x,A,b,w,E,T,S,C,I=this._hash.words,P=l.words,O=d.words,D=s.words,M=a.words,R=h.words,B=u.words;b=o=I[0],w=c=I[1],E=p=I[2],T=x=I[3],S=A=I[4];for(i=0;i<80;i+=1)C=o+t[e+D[i]]|0,C+=i<16?f(c,p,x)+P[0]:i<32?g(c,p,x)+P[1]:i<48?v(c,p,x)+P[2]:i<64?m(c,p,x)+P[3]:y(c,p,x)+P[4],C=(C=_(C|=0,R[i]))+A|0,o=A,A=x,x=_(p,10),p=c,c=C,C=b+t[e+M[i]]|0,C+=i<16?y(w,E,T)+O[0]:i<32?m(w,E,T)+O[1]:i<48?v(w,E,T)+O[2]:i<64?g(w,E,T)+O[3]:f(w,E,T)+O[4],C=(C=_(C|=0,B[i]))+S|0,b=S,S=T,T=_(E,10),E=w,w=C;C=I[1]+p+T|0,I[1]=I[2]+x+S|0,I[2]=I[3]+A+b|0,I[3]=I[4]+o+w|0,I[4]=I[0]+c+E|0,I[0]=C},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();for(var n=this._hash,o=n.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return n},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});function f(t,e,i){return t^e^i}function g(t,e,i){return t&e|~t&i}function v(t,e,i){return(t|~e)^i}function m(t,e,i){return t&i|e&~i}function y(t,e,i){return t^(e|~i)}function _(t,e){return t<<e|t>>>32-e}e.RIPEMD160=n._createHelper(p),e.HmacRIPEMD160=n._createHmacHelper(p)}(Math),function(){var t=c,e=t.lib.Base,i=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),s=this._iKey=e.clone(),a=o.words,h=s.words,u=0;u<r;u++)a[u]^=1549556828,h[u]^=909522486;o.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})}(),function(){var t=c,e=t.lib,i=e.Base,r=e.WordArray,n=t.algo,o=n.SHA1,s=n.HMAC,a=n.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,n=s.create(i.hasher,t),o=r.create(),a=r.create([1]),h=o.words,u=a.words,c=i.keySize,l=i.iterations;h.length<c;){var d=n.update(e).finalize(a);n.reset();for(var p=d.words,f=p.length,g=d,v=1;v<l;v++){g=n.finalize(g),n.reset();for(var m=g.words,y=0;y<f;y++)p[y]^=m[y]}o.concat(d),u[0]++}return o.sigBytes=4*c,o}});t.PBKDF2=function(t,e,i){return a.create(i).compute(t,e)}}(),function(){var t=c,e=t.lib,i=e.Base,r=e.WordArray,n=t.algo,o=n.MD5,s=n.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,n=i.hasher.create(),o=r.create(),s=o.words,a=i.keySize,h=i.iterations;s.length<a;){u&&n.update(u);var u=n.update(t).finalize(e);n.reset();for(var c=1;c<h;c++)u=n.finalize(u),n.reset();o.concat(u)}return o.sigBytes=4*a,o}});t.EvpKDF=function(t,e,i){return s.create(i).compute(t,e)}}(),function(){var t=c,e=t.lib.WordArray,i=t.algo,r=i.SHA256,n=i.SHA224=r.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=r._createHelper(n),t.HmacSHA224=r._createHmacHelper(n)}(),function(t){var e=c,i=e.lib,r=i.Base,n=i.WordArray,o=e.x64={};o.Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),o.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,i=[],r=0;r<e;r++){var o=t[r];i.push(o.high),i.push(o.low)}return n.create(i,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),i=e.length,n=0;n<i;n++)e[n]=e[n].clone();return t}})}(),function(t){var e=c,i=e.lib,r=i.WordArray,n=i.Hasher,o=e.x64.Word,s=e.algo,a=[],h=[],u=[];!function(){for(var t=1,e=0,i=0;i<24;i++){a[t+5*e]=(i+1)*(i+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)h[t+5*e]=e+(2*t+3*e)%5*5;for(var n=1,s=0;s<24;s++){for(var c=0,l=0,d=0;d<7;d++){if(1&n){var p=(1<<d)-1;p<32?l^=1<<p:c^=1<<p-32}128&n?n=n<<1^113:n<<=1}u[s]=o.create(c,l)}}();var l=[];!function(){for(var t=0;t<25;t++)l[t]=o.create()}();var d=s.SHA3=n.extend({cfg:n.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var i=this._state,r=this.blockSize/2,n=0;n<r;n++){var o=t[e+2*n],s=t[e+2*n+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(I=i[n]).high^=s,I.low^=o}for(var c=0;c<24;c++){for(var d=0;d<5;d++){for(var p=0,f=0,g=0;g<5;g++){p^=(I=i[d+5*g]).high,f^=I.low}var v=l[d];v.high=p,v.low=f}for(d=0;d<5;d++){var m=l[(d+4)%5],y=l[(d+1)%5],_=y.high,x=y.low;for(p=m.high^(_<<1|x>>>31),f=m.low^(x<<1|_>>>31),g=0;g<5;g++){(I=i[d+5*g]).high^=p,I.low^=f}}for(var A=1;A<25;A++){var b=(I=i[A]).high,w=I.low,E=a[A];if(E<32)p=b<<E|w>>>32-E,f=w<<E|b>>>32-E;else p=w<<E-32|b>>>64-E,f=b<<E-32|w>>>64-E;var T=l[h[A]];T.high=p,T.low=f}var S=l[0],C=i[0];S.high=C.high,S.low=C.low;for(d=0;d<5;d++)for(g=0;g<5;g++){var I=i[A=d+5*g],P=l[A],O=l[(d+1)%5+5*g],D=l[(d+2)%5+5*g];I.high=P.high^~O.high&D.high,I.low=P.low^~O.low&D.low}I=i[0];var M=u[c];I.high^=M.high,I.low^=M.low}},_doFinalize:function(){var e=this._data,i=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;i[n>>>5]|=1<<24-n%32,i[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,h=a/8,u=[],c=0;c<h;c++){var l=s[c],d=l.high,p=l.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),u.push(p),u.push(d)}return new r.init(u,a)},clone:function(){for(var t=n.clone.call(this),e=t._state=this._state.slice(0),i=0;i<25;i++)e[i]=e[i].clone();return t}});e.SHA3=n._createHelper(d),e.HmacSHA3=n._createHmacHelper(d)}(Math),function(){var t=c,e=t.lib.Hasher,i=t.x64,r=i.Word,n=i.WordArray,o=t.algo;function s(){return r.create.apply(r,arguments)}var a=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],h=[];!function(){for(var t=0;t<80;t++)h[t]=s()}();var u=o.SHA512=e.extend({_doReset:function(){this._hash=new n.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var i=this._hash.words,r=i[0],n=i[1],o=i[2],s=i[3],u=i[4],c=i[5],l=i[6],d=i[7],p=r.high,f=r.low,g=n.high,v=n.low,m=o.high,y=o.low,_=s.high,x=s.low,A=u.high,b=u.low,w=c.high,E=c.low,T=l.high,S=l.low,C=d.high,I=d.low,P=p,O=f,D=g,M=v,R=m,B=y,k=_,N=x,F=A,L=b,U=w,j=E,H=T,X=S,z=C,G=I,Y=0;Y<80;Y++){var W=h[Y];if(Y<16)var V=W.high=0|t[e+2*Y],Q=W.low=0|t[e+2*Y+1];else{var q=h[Y-15],J=q.high,$=q.low,K=(J>>>1|$<<31)^(J>>>8|$<<24)^J>>>7,Z=($>>>1|J<<31)^($>>>8|J<<24)^($>>>7|J<<25),tt=h[Y-2],et=tt.high,it=tt.low,rt=(et>>>19|it<<13)^(et<<3|it>>>29)^et>>>6,nt=(it>>>19|et<<13)^(it<<3|et>>>29)^(it>>>6|et<<26),ot=h[Y-7],st=ot.high,at=ot.low,ht=h[Y-16],ut=ht.high,ct=ht.low;V=(V=(V=K+st+((Q=Z+at)>>>0<Z>>>0?1:0))+rt+((Q=Q+nt)>>>0<nt>>>0?1:0))+ut+((Q=Q+ct)>>>0<ct>>>0?1:0);W.high=V,W.low=Q}var lt,dt=F&U^~F&H,pt=L&j^~L&X,ft=P&D^P&R^D&R,gt=O&M^O&B^M&B,vt=(P>>>28|O<<4)^(P<<30|O>>>2)^(P<<25|O>>>7),mt=(O>>>28|P<<4)^(O<<30|P>>>2)^(O<<25|P>>>7),yt=(F>>>14|L<<18)^(F>>>18|L<<14)^(F<<23|L>>>9),_t=(L>>>14|F<<18)^(L>>>18|F<<14)^(L<<23|F>>>9),xt=a[Y],At=xt.high,bt=xt.low,wt=z+yt+((lt=G+_t)>>>0<G>>>0?1:0),Et=mt+gt;z=H,G=X,H=U,X=j,U=F,j=L,F=k+(wt=(wt=(wt=wt+dt+((lt=lt+pt)>>>0<pt>>>0?1:0))+At+((lt=lt+bt)>>>0<bt>>>0?1:0))+V+((lt=lt+Q)>>>0<Q>>>0?1:0))+((L=N+lt|0)>>>0<N>>>0?1:0)|0,k=R,N=B,R=D,B=M,D=P,M=O,P=wt+(vt+ft+(Et>>>0<mt>>>0?1:0))+((O=lt+Et|0)>>>0<lt>>>0?1:0)|0}f=r.low=f+O,r.high=p+P+(f>>>0<O>>>0?1:0),v=n.low=v+M,n.high=g+D+(v>>>0<M>>>0?1:0),y=o.low=y+B,o.high=m+R+(y>>>0<B>>>0?1:0),x=s.low=x+N,s.high=_+k+(x>>>0<N>>>0?1:0),b=u.low=b+L,u.high=A+F+(b>>>0<L>>>0?1:0),E=c.low=E+j,c.high=w+U+(E>>>0<j>>>0?1:0),S=l.low=S+X,l.high=T+H+(S>>>0<X>>>0?1:0),I=d.low=I+G,d.high=C+z+(I>>>0<G>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(r+128>>>10<<5)]=i,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(u),t.HmacSHA512=e._createHmacHelper(u)}(),function(){var t=c,e=t.x64,i=e.Word,r=e.WordArray,n=t.algo,o=n.SHA512,s=n.SHA384=o.extend({_doReset:function(){this._hash=new r.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=o._createHelper(s),t.HmacSHA384=o._createHmacHelper(s)}(),c.lib.Cipher||function(t){var e=c,i=e.lib,r=i.Base,n=i.WordArray,o=i.BufferedBlockAlgorithm,s=e.enc,a=(s.Utf8,s.Base64),h=e.algo.EvpKDF,u=i.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?_:m}return function(e){return{encrypt:function(i,r,n){return t(r).encrypt(e,i,r,n)},decrypt:function(i,r,n){return t(r).decrypt(e,i,r,n)}}}}()}),l=(i.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),d=i.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=l.CBC=function(){var e=d.extend();function i(e,i,r){var n=this._iv;if(n){var o=n;this._iv=t}else o=this._prevBlock;for(var s=0;s<r;s++)e[i+s]^=o[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize;i.call(this,t,e,n),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),e.Decryptor=e.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,o=t.slice(e,e+n);r.decryptBlock(t,e),i.call(this,t,e,n),this._prevBlock=o}}),e}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,r=i-t.sigBytes%i,o=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(o);var h=n.create(s,r);t.concat(h)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},g=(i.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:f}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv,i=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=i.createEncryptor;else{r=i.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==r?this._mode.init(this,e&&e.words):(this._mode=r.call(i,this,e&&e.words),this._mode.__creator=r)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{e=this._process(!0);t.unpad(e)}return e},blockSize:4}),i.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),v=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;if(i)var r=n.create([1398893684,1701076831]).concat(i).concat(e);else r=e;return r.toString(a)},parse:function(t){var e=a.parse(t),i=e.words;if(1398893684==i[0]&&1701076831==i[1]){var r=n.create(i.slice(2,4));i.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:r})}},m=i.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(t,e,i,r){r=this.cfg.extend(r);var n=t.createEncryptor(i,r),o=n.finalize(e),s=n.cfg;return g.create({ciphertext:o,key:i,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,i,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(i,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,i,r){r||(r=n.random(8));var o=h.create({keySize:e+i}).compute(t,r),s=n.create(o.words.slice(e),4*i);return o.sigBytes=4*e,g.create({key:o,iv:s,salt:r})}},_=i.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(t,e,i,r){var n=(r=this.cfg.extend(r)).kdf.execute(i,t.keySize,t.ivSize);r.iv=n.iv;var o=m.encrypt.call(this,t,e,n.key,r);return o.mixIn(n),o},decrypt:function(t,e,i,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var n=r.kdf.execute(i,t.keySize,t.ivSize,e.salt);return r.iv=n.iv,m.decrypt.call(this,t,e,n.key,r)}})}(),c.mode.CFB=function(){var t=c.lib.BlockCipherMode.extend();function e(t,e,i,r){var n=this._iv;if(n){var o=n.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var s=0;s<i;s++)t[e+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(t,i){var r=this._cipher,n=r.blockSize;e.call(this,t,i,n,r),this._prevBlock=t.slice(i,i+n)}}),t.Decryptor=t.extend({processBlock:function(t,i){var r=this._cipher,n=r.blockSize,o=t.slice(i,i+n);e.call(this,t,i,n,r),this._prevBlock=o}}),t}(),c.mode.ECB=((a=c.lib.BlockCipherMode.extend()).Encryptor=a.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),a.Decryptor=a.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),a),c.pad.AnsiX923={pad:function(t,e){var i=t.sigBytes,r=4*e,n=r-i%r,o=i+n-1;t.clamp(),t.words[o>>>2]|=n<<24-o%4*8,t.sigBytes+=n},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},c.pad.Iso10126={pad:function(t,e){var i=4*e,r=i-t.sigBytes%i;t.concat(c.lib.WordArray.random(r-1)).concat(c.lib.WordArray.create([r<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},c.pad.Iso97971={pad:function(t,e){t.concat(c.lib.WordArray.create([2147483648],1)),c.pad.ZeroPadding.pad(t,e)},unpad:function(t){c.pad.ZeroPadding.unpad(t),t.sigBytes--}},c.mode.OFB=(h=c.lib.BlockCipherMode.extend(),u=h.Encryptor=h.extend({processBlock:function(t,e){var i=this._cipher,r=i.blockSize,n=this._iv,o=this._keystream;n&&(o=this._keystream=n.slice(0),this._iv=void 0),i.encryptBlock(o,0);for(var s=0;s<r;s++)t[e+s]^=o[s]}}),h.Decryptor=u,h),c.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var e=c,i=e.lib.CipherParams,r=e.enc.Hex;e.format.Hex={stringify:function(t){return t.ciphertext.toString(r)},parse:function(t){var e=r.parse(t);return i.create({ciphertext:e})}}}(),function(){var t=c,e=t.lib.BlockCipher,i=t.algo,r=[],n=[],o=[],s=[],a=[],h=[],u=[],l=[],d=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,c=0;for(e=0;e<256;e++){var f=c^c<<1^c<<2^c<<3^c<<4;f=f>>>8^255&f^99,r[i]=f,n[f]=i;var g=t[i],v=t[g],m=t[v],y=257*t[f]^16843008*f;o[i]=y<<24|y>>>8,s[i]=y<<16|y>>>16,a[i]=y<<8|y>>>24,h[i]=y;y=16843009*m^65537*v^257*g^16843008*i;u[f]=y<<24|y>>>8,l[f]=y<<16|y>>>16,d[f]=y<<8|y>>>24,p[f]=y,i?(i=g^t[t[t[m^g]]],c^=t[t[c]]):i=c=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4,n=4*((this._nRounds=i+6)+1),o=this._keySchedule=[],s=0;s<n;s++)if(s<i)o[s]=e[s];else{var a=o[s-1];s%i?i>6&&s%i==4&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=r[(a=a<<8|a>>>24)>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=f[s/i|0]<<24),o[s]=o[s-i]^a}for(var h=this._invKeySchedule=[],c=0;c<n;c++){s=n-c;if(c%4)a=o[s];else a=o[s-4];h[c]=c<4||s<=4?a:u[r[a>>>24]]^l[r[a>>>16&255]]^d[r[a>>>8&255]]^p[r[255&a]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,s,a,h,r)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,u,l,d,p,n);i=t[e+1];t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,r,n,o,s,a){for(var h=this._nRounds,u=t[e]^i[0],c=t[e+1]^i[1],l=t[e+2]^i[2],d=t[e+3]^i[3],p=4,f=1;f<h;f++){var g=r[u>>>24]^n[c>>>16&255]^o[l>>>8&255]^s[255&d]^i[p++],v=r[c>>>24]^n[l>>>16&255]^o[d>>>8&255]^s[255&u]^i[p++],m=r[l>>>24]^n[d>>>16&255]^o[u>>>8&255]^s[255&c]^i[p++],y=r[d>>>24]^n[u>>>16&255]^o[c>>>8&255]^s[255&l]^i[p++];u=g,c=v,l=m,d=y}g=(a[u>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&d])^i[p++],v=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^i[p++],m=(a[l>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&c])^i[p++],y=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^i[p++];t[e]=g,t[e+1]=v,t[e+2]=m,t[e+3]=y},keySize:8});t.AES=e._createHelper(g)}(),function(){var t=c,e=t.lib,i=e.WordArray,r=e.BlockCipher,n=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=n.DES=r.extend({_doReset:function(){for(var t=this._key.words,e=[],i=0;i<56;i++){var r=o[i]-1;e[i]=t[r>>>5]>>>31-r%32&1}for(var n=this._subKeys=[],h=0;h<16;h++){var u=n[h]=[],c=a[h];for(i=0;i<24;i++)u[i/6|0]|=e[(s[i]-1+c)%28]<<31-i%6,u[4+(i/6|0)]|=e[28+(s[i+24]-1+c)%28]<<31-i%6;u[0]=u[0]<<1|u[0]>>>31;for(i=1;i<7;i++)u[i]=u[i]>>>4*(i-1)+3;u[7]=u[7]<<5|u[7]>>>27}var l=this._invSubKeys=[];for(i=0;i<16;i++)l[i]=n[15-i]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,i){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var n=i[r],o=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=h[c][((s^n[c])&u[c])>>>0];this._lBlock=s,this._rBlock=o^a}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var i=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=i,this._lBlock^=i<<t}function p(t,e){var i=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=i,this._rBlock^=i<<t}t.DES=r._createHelper(l);var f=n.TripleDES=r.extend({_doReset:function(){var t=this._key.words;this._des1=l.createEncryptor(i.create(t.slice(0,2))),this._des2=l.createEncryptor(i.create(t.slice(2,4))),this._des3=l.createEncryptor(i.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(f)}(),function(){var t=c,e=t.lib.StreamCipher,i=t.algo,r=i.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,i=t.sigBytes,r=this._S=[],n=0;n<256;n++)r[n]=n;n=0;for(var o=0;n<256;n++){var s=n%i,a=e[s>>>2]>>>24-s%4*8&255;o=(o+r[n]+a)%256;var h=r[n];r[n]=r[o],r[o]=h}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=n.call(this)},keySize:8,ivSize:0});function n(){for(var t=this._S,e=this._i,i=this._j,r=0,n=0;n<4;n++){i=(i+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[i],t[i]=o,r|=t[(t[e]+t[i])%256]<<24-8*n}return this._i=e,this._j=i,r}t.RC4=e._createHelper(r);var o=i.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)n.call(this)}});t.RC4Drop=e._createHelper(o)}(),
/** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   */
c.mode.CTRGladman=function(){var t=c.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,i=t>>8&255,r=255&t;255===e?(e=0,255===i?(i=0,255===r?r=0:++r):++i):++e,t=0,t+=e<<16,t+=i<<8,t+=r}else t+=1<<24;return t}var i=t.Encryptor=t.extend({processBlock:function(t,i){var r=this._cipher,n=r.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(s);var a=s.slice(0);r.encryptBlock(a,0);for(var h=0;h<n;h++)t[i+h]^=a[h]}});return t.Decryptor=i,t}(),function(){var t=c,e=t.lib.StreamCipher,i=t.algo,r=[],n=[],o=[],s=i.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,i=0;i<4;i++)t[i]=16711935&(t[i]<<8|t[i]>>>24)|4278255360&(t[i]<<24|t[i]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(i=0;i<4;i++)a.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,s=o[0],h=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l=u>>>16|4294901760&c,d=c<<16|65535&u;n[0]^=u,n[1]^=l,n[2]^=c,n[3]^=d,n[4]^=u,n[5]^=l,n[6]^=c,n[7]^=d;for(i=0;i<4;i++)a.call(this)}},_doProcessBlock:function(t,e){var i=this._X;a.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)r[n]=16711935&(r[n]<<8|r[n]>>>24)|4278255360&(r[n]<<24|r[n]>>>8),t[e+n]^=r[n]},blockSize:4,ivSize:2});function a(){for(var t=this._X,e=this._C,i=0;i<8;i++)n[i]=e[i];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<n[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<n[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<n[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<n[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<n[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<n[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<n[6]>>>0?1:0)|0,this._b=e[7]>>>0<n[7]>>>0?1:0;for(i=0;i<8;i++){var r=t[i]+e[i],s=65535&r,a=r>>>16,h=((s*s>>>17)+s*a>>>15)+a*a,u=((4294901760&r)*r|0)+((65535&r)*r|0);o[i]=h^u}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=e._createHelper(s)}(),c.mode.CTR=function(){var t=c.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var i=this._cipher,r=i.blockSize,n=this._iv,o=this._counter;n&&(o=this._counter=n.slice(0),this._iv=void 0);var s=o.slice(0);i.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)t[e+a]^=s[a]}});return t.Decryptor=e,t}(),function(){var t=c,e=t.lib.StreamCipher,i=t.algo,r=[],n=[],o=[],s=i.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var n=0;n<4;n++)a.call(this);for(n=0;n<8;n++)r[n]^=i[n+4&7];if(e){var o=e.words,s=o[0],h=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l=u>>>16|4294901760&c,d=c<<16|65535&u;r[0]^=u,r[1]^=l,r[2]^=c,r[3]^=d,r[4]^=u,r[5]^=l,r[6]^=c,r[7]^=d;for(n=0;n<4;n++)a.call(this)}},_doProcessBlock:function(t,e){var i=this._X;a.call(this),r[0]=i[0]^i[5]>>>16^i[3]<<16,r[1]=i[2]^i[7]>>>16^i[5]<<16,r[2]=i[4]^i[1]>>>16^i[7]<<16,r[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)r[n]=16711935&(r[n]<<8|r[n]>>>24)|4278255360&(r[n]<<24|r[n]>>>8),t[e+n]^=r[n]},blockSize:4,ivSize:2});function a(){for(var t=this._X,e=this._C,i=0;i<8;i++)n[i]=e[i];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<n[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<n[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<n[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<n[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<n[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<n[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<n[6]>>>0?1:0)|0,this._b=e[7]>>>0<n[7]>>>0?1:0;for(i=0;i<8;i++){var r=t[i]+e[i],s=65535&r,a=r>>>16,h=((s*s>>>17)+s*a>>>15)+a*a,u=((4294901760&r)*r|0)+((65535&r)*r|0);o[i]=h^u}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=e._createHelper(s)}(),c.pad.ZeroPadding={pad:function(t,e){var i=4*e;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var e=t.words,i=t.sigBytes-1;!(e[i>>>2]>>>24-i%4*8&255);)i--;t.sigBytes=i+1}},c},"object"===a(e)?t.exports=e=s():(n=[],void 0===(o="function"==typeof(r=s)?r.apply(e,n):r)||(t.exports=o))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var r=i(21),n=i(22);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),l=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=i(23);function _(t,e,i){if(t&&n.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,i),r}o.prototype.parse=function(t,e,i){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!i&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var A=s.exec(_);if(A){var b=(A=A[0]).toLowerCase();this.protocol=b,_=_.substr(A.length)}if(i||A||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===_.substr(0,2);!w||A&&v[A]||(_=_.substr(2),this.slashes=!0)}if(!v[A]&&(w||A&&!m[A])){for(var E,T,S=-1,C=0;C<d.length;C++){-1!==(I=_.indexOf(d[C]))&&(-1===S||I<S)&&(S=I)}-1!==(T=-1===S?_.lastIndexOf("@"):_.lastIndexOf("@",S))&&(E=_.slice(0,T),_=_.slice(T+1),this.auth=decodeURIComponent(E)),S=-1;for(C=0;C<l.length;C++){var I;-1!==(I=_.indexOf(l[C]))&&(-1===S||I<S)&&(S=I)}-1===S&&(S=_.length),this.host=_.slice(0,S),_=_.slice(S),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var O=this.hostname.split(/\./),D=(C=0,O.length);C<D;C++){var M=O[C];if(M&&!M.match(p)){for(var R="",B=0,k=M.length;B<k;B++)M.charCodeAt(B)>127?R+="x":R+=M[B];if(!R.match(p)){var N=O.slice(0,C),F=O.slice(C+1),L=M.match(f);L&&(N.push(L[1]),F.unshift(L[2])),F.length&&(_="/"+F.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+U,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[b])for(C=0,D=c.length;C<D;C++){var H=c[C];if(-1!==_.indexOf(H)){var X=encodeURIComponent(H);X===H&&(X=escape(H)),_=_.split(H).join(X)}}var z=_.indexOf("#");-1!==z&&(this.hash=_.substr(z),_=_.slice(0,z));var G=_.indexOf("?");if(-1!==G?(this.search=_.substr(G),this.query=_.substr(G+1),e&&(this.query=y.parse(this.query)),_=_.slice(0,G)):e&&(this.search="",this.query={}),_&&(this.pathname=_),m[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var i=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var c=h[u];"protocol"!==c&&(i[c]=t[c])}return m[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!m[t.protocol]){for(var l=Object.keys(t),d=0;d<l.length;d++){var p=l[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||v[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var g=i.pathname||"",y=i.search||"";i.path=g+y}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),A=x||_||i.host&&t.pathname,b=A,w=i.pathname&&i.pathname.split("/")||[],E=(f=t.pathname&&t.pathname.split("/")||[],i.protocol&&!m[i.protocol]);if(E&&(i.hostname="",i.port=null,i.host&&(""===w[0]?w[0]=i.host:w.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),A=A&&(""===f[0]||""===w[0])),x)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),i.search=t.search,i.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(E)i.hostname=i.host=w.shift(),(P=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=P.shift(),i.host=i.hostname=P.shift());return i.search=t.search,i.query=t.query,n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!w.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var T=w.slice(-1)[0],S=(i.host||t.host||w.length>1)&&("."===T||".."===T)||""===T,C=0,I=w.length;I>=0;I--)"."===(T=w[I])?w.splice(I,1):".."===T?(w.splice(I,1),C++):C&&(w.splice(I,1),C--);if(!A&&!b)for(;C--;C)w.unshift("..");!A||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var P,O=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(i.hostname=i.host=O?"":w.length?w.shift():"",(P=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=P.shift(),i.host=i.hostname=P.shift()));return(A=A||i.host&&w.length)&&!O&&w.unshift(""),w.length?i.pathname=w.join("/"):(i.pathname=null,i.path=null),n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,i){"use strict";var r=i(26).Loader,n=i(12).Resource,o=i(11),s=i(27);r.Resource=n,r.async=o,r.encodeBinary=s,r.base64=s,t.exports=r,t.exports.Loader=r,t.exports.default=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function o(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,i,r,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new s(i,r||t,o),h=n?n+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},u.prototype.emit=function(t,e,i,r,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var h,u,c=this._events[a],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,r),!0;case 5:return c.fn.call(c.context,e,i,r,o),!0;case 6:return c.fn.call(c.context,e,i,r,o,s),!0}for(u=1,h=new Array(l-1);u<l;u++)h[u-1]=arguments[u];c.fn.apply(c.context,h)}else{var d,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),l){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,i);break;case 4:c[u].fn.call(c[u].context,e,i,r);break;default:if(!h)for(d=1,h=new Array(l-1);d<l;d++)h[d-1]=arguments[d];c[u].fn.apply(c[u].context,h)}}return!0},u.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},u.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},u.prototype.removeListener=function(t,e,i,r){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return h(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||i&&s.context!==i||h(this,o);else{for(var a=0,u=[],c=s.length;a<c;a++)(s[a].fn!==e||r&&!s[a].once||i&&s[a].context!==i)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:h(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&h(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u},function(t,e,i){"use strict";function r(t,e,i){i=i||2;var r,a,h,u,c,p,g,v=e&&e.length,m=v?e[0]*i:t.length,y=n(t,0,m,i,!0),_=[];if(!y||y.next===y.prev)return _;if(v&&(y=function(t,e,i,r){var s,a,h,u,c,p=[];for(s=0,a=e.length;s<a;s++)h=e[s]*r,u=s<a-1?e[s+1]*r:t.length,(c=n(t,h,u,r,!1))===c.next&&(c.steiner=!0),p.push(f(c));for(p.sort(l),s=0;s<p.length;s++)d(p[s],i),i=o(i,i.next);return i}(t,e,y,i)),t.length>80*i){r=h=t[0],a=u=t[1];for(var x=i;x<m;x+=i)(c=t[x])<r&&(r=c),(p=t[x+1])<a&&(a=p),c>h&&(h=c),p>u&&(u=p);g=0!==(g=Math.max(h-r,u-a))?1/g:0}return s(y,_,i,r,a,g),_}function n(t,e,i,r,n){var o,s;if(n===T(t,e,i,r)>0)for(o=e;o<i;o+=r)s=b(o,t[o],t[o+1],s);else for(o=i-r;o>=e;o-=r)s=b(o,t[o],t[o+1],s);return s&&y(s,s.next)&&(w(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!y(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(w(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function s(t,e,i,r,n,l,d){if(t){!d&&l&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,s,a,h,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;a>0||h>0&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,u*=2}while(s>1)}(n)}(t,r,n,l);for(var f,g,v=t;t.prev!==t.next;)if(f=t.prev,g=t.next,l?h(t,r,n,l):a(t))e.push(f.i/i),e.push(t.i/i),e.push(g.i/i),w(t),t=g.next,v=g.next;else if((t=g)===v){d?1===d?s(t=u(t,e,i),e,i,r,n,l,2):2===d&&c(t,e,i,r,n,l):s(o(t),e,i,r,n,l,1);break}}}function a(t){var e=t.prev,i=t,r=t.next;if(m(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(g(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&m(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,i,r){var n=t.prev,o=t,s=t.next;if(m(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,c=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,l=p(a,h,e,i,r),d=p(u,c,e,i,r),f=t.prevZ,v=t.nextZ;f&&f.z>=l&&v&&v.z<=d;){if(f!==t.prev&&f!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&m(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,v!==t.prev&&v!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;f&&f.z>=l;){if(f!==t.prev&&f!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&m(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;v&&v.z<=d;){if(v!==t.prev&&v!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function u(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!y(n,o)&&_(n,r,r.next,o)&&x(n,o)&&x(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),w(r),w(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,i,r,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&v(h,u)){var c=A(h,u);return h=o(h,h.next),c=o(c,c.next),s(h,e,i,r,n,a),void s(c,e,i,r,n,a)}u=u.next}h=h.next}while(h!==t)}function l(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s){if(s=a,a===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===s)return i.prev;var h,u=i,c=i.x,l=i.y,d=1/0;r=i.next;for(;r!==u;)n>=r.x&&r.x>=c&&n!==r.x&&g(o<l?n:s,o,c,l,o<l?s:n,o,r.x,r.y)&&((h=Math.abs(o-r.y)/(n-r.x))<d||h===d&&r.x>i.x)&&x(r,t)&&(i=r,d=h),r=r.next;return i}(t,e)){var i=A(e,t);o(i,i.next)}}function p(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function g(t,e,i,r,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(n-s)*(r-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&_(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function m(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,i,r){return!!(y(t,e)&&y(i,r)||y(t,r)&&y(i,e))||m(t,e,i)>0!=m(t,e,r)>0&&m(i,r,t)>0!=m(i,r,e)>0}function x(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function A(t,e){var i=new E(t.i,t.x,t.y),r=new E(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function b(t,e,i,r){var n=new E(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(t,e,i,r){for(var n=0,o=e,s=i-r;o<i;o+=r)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=r,t.exports.default=r,r.deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,s=Math.abs(T(t,0,o,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,c=a<h-1?e[a+1]*i:t.length;s-=Math.abs(T(t,u,c,i))}var l=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,f=r[a+2]*i;l+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},r.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[n][o][s]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,i,r){void 0===i&&(i=!1),n(this,t),this._fn=e,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,i){"use strict";t.exports=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n}},function(t,e,i){"use strict";function r(){}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,i,r){var n=0,o=t.length;!function s(a){a||n===o?i&&i(a):r?setTimeout(function(){e(t[n++],s)},1):e(t[n++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,o={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){i=0,o.drain=r,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&i<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(i+=1)===o.concurrency&&o.saturated(),t(e.data,n(a(e)))}},length:function(){return o._tasks.length},running:function(){return i},idle:function(){return o._tasks.length+i===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var n={data:t,callback:"function"==typeof i?i:r};e?o._tasks.unshift(n):o._tasks.push(n),setTimeout(function(){return o.process()},1)}}function a(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),i<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,i){"use strict";e.__esModule=!0,e.Resource=void 0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=s(i(10)),o=s(i(9));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null;function u(){}var c=e.Resource=function(){function t(e,i,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=u,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,i){l(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){l(t._xhrTypeMap,e,i)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(i)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(d(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(d(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(d(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,h||(h=document.createElement("a")),h.href=t;var i=!(t=(0,n.default)(h.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function l(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function d(t){return t.toString().replace("object ","")}c.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},c.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},c.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},c._loadTypeMap={gif:c.LOAD_TYPE.IMAGE,png:c.LOAD_TYPE.IMAGE,bmp:c.LOAD_TYPE.IMAGE,jpg:c.LOAD_TYPE.IMAGE,jpeg:c.LOAD_TYPE.IMAGE,tif:c.LOAD_TYPE.IMAGE,tiff:c.LOAD_TYPE.IMAGE,webp:c.LOAD_TYPE.IMAGE,tga:c.LOAD_TYPE.IMAGE,svg:c.LOAD_TYPE.IMAGE,"svg+xml":c.LOAD_TYPE.IMAGE,mp3:c.LOAD_TYPE.AUDIO,ogg:c.LOAD_TYPE.AUDIO,wav:c.LOAD_TYPE.AUDIO,mp4:c.LOAD_TYPE.VIDEO,webm:c.LOAD_TYPE.VIDEO},c._xhrTypeMap={xhtml:c.XHR_RESPONSE_TYPE.DOCUMENT,html:c.XHR_RESPONSE_TYPE.DOCUMENT,htm:c.XHR_RESPONSE_TYPE.DOCUMENT,xml:c.XHR_RESPONSE_TYPE.DOCUMENT,tmx:c.XHR_RESPONSE_TYPE.DOCUMENT,svg:c.XHR_RESPONSE_TYPE.DOCUMENT,tsx:c.XHR_RESPONSE_TYPE.DOCUMENT,gif:c.XHR_RESPONSE_TYPE.BLOB,png:c.XHR_RESPONSE_TYPE.BLOB,bmp:c.XHR_RESPONSE_TYPE.BLOB,jpg:c.XHR_RESPONSE_TYPE.BLOB,jpeg:c.XHR_RESPONSE_TYPE.BLOB,tif:c.XHR_RESPONSE_TYPE.BLOB,tiff:c.XHR_RESPONSE_TYPE.BLOB,webp:c.XHR_RESPONSE_TYPE.BLOB,tga:c.XHR_RESPONSE_TYPE.BLOB,json:c.XHR_RESPONSE_TYPE.JSON,text:c.XHR_RESPONSE_TYPE.TEXT,txt:c.XHR_RESPONSE_TYPE.TEXT,ttf:c.XHR_RESPONSE_TYPE.BUFFER,otf:c.XHR_RESPONSE_TYPE.BUFFER},c.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=c},function(t,e,i){"use strict";i.r(e);var r={};i.r(r),i.d(r,"isMobile",function(){return u.a}),i.d(r,"EventEmitter",function(){return d.a}),i.d(r,"earcut",function(){return f.a}),i.d(r,"url",function(){return v.a}),i.d(r,"BaseTextureCache",function(){return tt}),i.d(r,"CanvasRenderTarget",function(){return nt}),i.d(r,"DATA_URI",function(){return at}),i.d(r,"ProgramCache",function(){return K}),i.d(r,"TextureCache",function(){return Z}),i.d(r,"clearTextureCache",function(){return it}),i.d(r,"correctBlendMode",function(){return j}),i.d(r,"createIndicesForQuads",function(){return G}),i.d(r,"decomposeDataUri",function(){return ht}),i.d(r,"deprecation",function(){return dt}),i.d(r,"destroyTextureCache",function(){return et}),i.d(r,"determineCrossOrigin",function(){return ut}),i.d(r,"getResolutionOfUrl",function(){return ct}),i.d(r,"hex2rgb",function(){return k}),i.d(r,"hex2string",function(){return N}),i.d(r,"isPow2",function(){return J}),i.d(r,"isWebGLSupported",function(){return B}),i.d(r,"log2",function(){return $}),i.d(r,"nextPow2",function(){return q}),i.d(r,"premultiplyBlendMode",function(){return U}),i.d(r,"premultiplyRgba",function(){return H}),i.d(r,"premultiplyTint",function(){return X}),i.d(r,"premultiplyTintToRgba",function(){return z}),i.d(r,"removeItems",function(){return Y}),i.d(r,"rgb2hex",function(){return L}),i.d(r,"sayHello",function(){return R}),i.d(r,"sign",function(){return Q}),i.d(r,"skipHello",function(){return M}),i.d(r,"string2hex",function(){return F}),i.d(r,"trimCanvas",function(){return rt}),i.d(r,"uid",function(){return V});var n={};i.r(n),i.d(n,"AccessibilityManager",function(){return Gt}),i.d(n,"accessibleTarget",function(){return zt});var o={};i.r(o),i.d(o,"Extract",function(){return hr});var s={};i.r(s),i.d(s,"InteractionData",function(){return ur}),i.d(s,"InteractionEvent",function(){return lr}),i.d(s,"InteractionManager",function(){return mr}),i.d(s,"InteractionTrackingData",function(){return dr}),i.d(s,"interactiveTarget",function(){return fr});var a={};i.r(a),i.d(a,"BasePrepare",function(){return rn}),i.d(a,"CountLimiter",function(){return en}),i.d(a,"Prepare",function(){return ln}),i.d(a,"TimeLimiter",function(){return gn});i(17);var h=i(1),u=i.n(h);var c={MIPMAP_TEXTURES:1,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:
/*!
 * @pixi/settings - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function(t){var e=!0;if(u.a.tablet||u.a.phone){if(e=!1,u.a.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)>=11&&(e=!0)}if(u.a.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:u.a.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!u.a.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},l=i(7),d=i.n(l),p=i(8),f=i.n(p),g=i(4),v=i.n(g),m={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},y={UNKNOWN:0,WEBGL:1,CANVAS:2},_={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},x={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},A={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},b={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},w={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},E={LINEAR:1,NEAREST:0},T={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},S={OFF:0,POW2:1,ON:2},C={AUTO:0,MANUAL:1},I={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};
/*!
 * @pixi/utils - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
c.RETINA_PREFIX=/@([0-9\.]+)x/;var P,O=!1,D="5.0.4";function M(){O=!0}function R(t){if(!O){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+D+" - â° "+t+" â°  %c  %c  http://www.pixijs.com/  %c %c â¥%câ¥%câ¥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+D+" - "+t+" - http://www.pixijs.com/");O=!0}}function B(){return void 0===P&&(P=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}}()),P}function k(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function N(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function F(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function L(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var U=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[_.NORMAL_NPM]=_.NORMAL,t[_.ADD_NPM]=_.ADD,t[_.SCREEN_NPM]=_.SCREEN,e[_.NORMAL]=_.NORMAL_NPM,e[_.ADD]=_.ADD_NPM,e[_.SCREEN]=_.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function j(t,e){return U[e?1:0][t]}function H(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function X(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n=n*e+.5|0)}function z(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function G(t){for(var e=6*t,i=new Uint16Array(e),r=0,n=0;r<e;r+=6,n+=4)i[r+0]=n+0,i[r+1]=n+1,i[r+2]=n+2,i[r+3]=n+0,i[r+4]=n+2,i[r+5]=n+3;return i}function Y(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var o=n-(i=e+i>n?n-e:i);for(r=e;r<o;++r)t[r]=t[r+i];t.length=o}}var W=0;function V(){return++W}function Q(t){return 0===t?0:t<0?-1:1}function q(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function J(t){return!(t&t-1||!t)}function $(t){var e=(t>65535)<<4,i=((t>>>=e)>255)<<3;return e|=i,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1}var K={},Z=Object.create(null),tt=Object.create(null);function et(){var t;for(t in Z)Z[t].destroy();for(t in tt)tt[t].destroy()}function it(){var t;for(t in Z)delete Z[t];for(t in tt)delete tt[t]}function rt(t){var e,i,r,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(i=e/4%n,r=~~(e/4/n),null===u.top&&(u.top=r),null===u.left?u.left=i:i<u.left&&(u.left=i),null===u.right?u.right=i+1:u.right<i&&(u.right=i+1),null===u.bottom?u.bottom=r:u.bottom<r&&(u.bottom=r));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,c=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:c}}var nt=function(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||c.RESOLUTION,this.resize(t,e)},ot={width:{configurable:!0},height:{configurable:!0}};nt.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},nt.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},nt.prototype.destroy=function(){this.context=null,this.canvas=null},ot.width.get=function(){return this.canvas.width},ot.width.set=function(t){this.canvas.width=t},ot.height.get=function(){return this.canvas.height},ot.height.set=function(t){this.canvas.height=t},Object.defineProperties(nt.prototype,ot);var st,at=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ht(t){var e=at.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function ut(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,st||(st=document.createElement("a")),st.href=t;var i=!(t=v.a.parse(st.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"}function ct(t,e){var i=c.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}var lt={};function dt(t,e,i){if(void 0===i&&(i=3),!lt[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),lt[e]=!0}}
/*!
 * @pixi/math - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};pt.prototype.clone=function(){return new pt(this.x,this.y)},pt.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},pt.prototype.copyTo=function(t){return t.set(this.x,this.y),t},pt.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},pt.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)};var ft=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e},gt={x:{configurable:!0},y:{configurable:!0}};ft.prototype.clone=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=t||this.cb,r=e||this.scope;return new ft(i,r,this._x,this._y)},ft.prototype.set=function(t,e){var i=t||0,r=e||(0!==e?i:0);this._x===i&&this._y===r||(this._x=i,this._y=r,this.cb.call(this.scope))},ft.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},ft.prototype.copyTo=function(t){return t.set(this._x,this._y),t},ft.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},gt.x.get=function(){return this._x},gt.x.set=function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},gt.y.get=function(){return this._y},gt.y.set=function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},Object.defineProperties(ft.prototype,gt);var vt=2*Math.PI,mt=180/Math.PI,yt=Math.PI/180,_t={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},xt=function(t,e,i,r,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this.array=null},At={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};xt.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},xt.prototype.set=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},xt.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},xt.prototype.apply=function(t,e){e=e||new pt;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},xt.prototype.applyInverse=function(t,e){e=e||new pt;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},xt.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},xt.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},xt.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},xt.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},xt.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},xt.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},xt.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=-Math.atan2(-r,n),s=Math.atan2(i,e),a=Math.abs(o+s);return a<1e-5||Math.abs(vt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},xt.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(t*this.ty-e*n)/o,this},xt.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},xt.prototype.clone=function(){var t=new xt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},xt.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},xt.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},At.IDENTITY.get=function(){return new xt},At.TEMP_MATRIX.get=function(){return new xt},Object.defineProperties(xt,At);var bt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],wt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Et=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Tt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],St=[],Ct=[];function It(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];Ct.push(e);for(var i=0;i<16;i++)for(var r=It(bt[t]*bt[i]+Et[t]*wt[i]),n=It(wt[t]*bt[i]+Tt[t]*wt[i]),o=It(bt[t]*Et[i]+Et[t]*Tt[i]),s=It(wt[t]*Et[i]+Tt[t]*Tt[i]),a=0;a<16;a++)if(bt[a]===r&&wt[a]===n&&Et[a]===o&&Tt[a]===s){e.push(a);break}}for(var h=0;h<16;h++){var u=new xt;u.set(bt[h],wt[h],Et[h],Tt[h],0,0),St.push(u)}}();var Pt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return bt[t]},uY:function(t){return wt[t]},vX:function(t){return Et[t]},vY:function(t){return Tt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Ct[t][e]},sub:function(t,e){return Ct[t][Pt.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Pt.S:Pt.N:2*Math.abs(e)<=Math.abs(t)?t>0?Pt.E:Pt.W:e>0?t>0?Pt.SE:Pt.SW:t>0?Pt.NE:Pt.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=St[Pt.inv(e)];n.tx=i,n.ty=r,t.append(n)}},Ot=function(){this.worldTransform=new xt,this.localTransform=new xt,this.position=new ft(this.onChange,this,0,0),this.scale=new ft(this.onChange,this,1,1),this.pivot=new ft(this.onChange,this,0,0),this.skew=new ft(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},Dt={rotation:{configurable:!0}};Ot.prototype.onChange=function(){this._localID++},Ot.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},Ot.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Ot.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},Ot.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Dt.rotation.get=function(){return this._rotation},Dt.rotation.set=function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},Object.defineProperties(Ot.prototype,Dt),Ot.IDENTITY=new Ot;var Mt=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=_t.RECT},Rt={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},Bt={EMPTY:{configurable:!0}};Rt.left.get=function(){return this.x},Rt.right.get=function(){return this.x+this.width},Rt.top.get=function(){return this.y},Rt.bottom.get=function(){return this.y+this.height},Bt.EMPTY.get=function(){return new Mt(0,0,0,0)},Mt.prototype.clone=function(){return new Mt(this.x,this.y,this.width,this.height)},Mt.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Mt.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Mt.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},Mt.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},Mt.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0)},Mt.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y},Mt.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=r,this.height=n-r},Object.defineProperties(Mt.prototype,Rt),Object.defineProperties(Mt,Bt);var kt=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=_t.CIRC};kt.prototype.clone=function(){return new kt(this.x,this.y,this.radius)},kt.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},kt.prototype.getBounds=function(){return new Mt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var Nt=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=_t.ELIP};Nt.prototype.clone=function(){return new Nt(this.x,this.y,this.width,this.height)},Nt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},Nt.prototype.getBounds=function(){return new Mt(this.x-this.width,this.y-this.height,this.width,this.height)};var Ft=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof pt){for(var i=[],r=0,n=t.length;r<n;r++)i.push(t[r].x,t[r].y);t=i}this.points=t,this.type=_t.POLY,this.closeStroke=!0};Ft.prototype.clone=function(){var t=new Ft(this.points.slice());return t.closeStroke=this.closeStroke,t},Ft.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(i=!i)}return i};var Lt=function(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=_t.RREC};Lt.prototype.clone=function(){return new Lt(this.x,this.y,this.width,this.height,this.radius)},Lt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},
/*!
 * @pixi/display - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
c.SORTABLE_CHILDREN=!1;var Ut=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Ut.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Ut.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Ut.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Mt.EMPTY:((t=t||new Mt(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Ut.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Ut.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[2])<e?o:e,i=(s=t[3])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[4])<e?o:e,i=(s=t[5])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[6])<e?o:e,i=(s=t[7])<i?s:i,r=o>r?o:r,n=s>n?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},Ut.prototype.addFrame=function(t,e,i,r,n){var o=t.worldTransform,s=o.a,a=o.b,h=o.c,u=o.d,c=o.tx,l=o.ty,d=this.minX,p=this.minY,f=this.maxX,g=this.maxY,v=s*e+h*i+c,m=a*e+u*i+l;d=v<d?v:d,p=m<p?m:p,f=v>f?v:f,g=m>g?m:g,d=(v=s*r+h*i+c)<d?v:d,p=(m=a*r+u*i+l)<p?m:p,f=v>f?v:f,g=m>g?m:g,d=(v=s*e+h*n+c)<d?v:d,p=(m=a*e+u*n+l)<p?m:p,f=v>f?v:f,g=m>g?m:g,d=(v=s*r+h*n+c)<d?v:d,p=(m=a*r+u*n+l)<p?m:p,f=v>f?v:f,g=m>g?m:g,this.minX=d,this.minY=p,this.maxX=f,this.maxY=g},Ut.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<i;a+=2){var h=t[a],u=t[a+1];r=h<r?h:r,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=r,this.minY=n,this.maxX=o,this.maxY=s},Ut.prototype.addVertices=function(t,e,i,r){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,c=n.ty,l=this.minX,d=this.minY,p=this.maxX,f=this.maxY,g=i;g<r;g+=2){var v=e[g],m=e[g+1],y=o*v+a*m+u,_=h*m+s*v+c;l=y<l?y:l,d=_<d?_:d,p=y>p?y:p,f=_>f?_:f}this.minX=l,this.minY=d,this.maxX=p,this.maxY=f},Ut.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},Ut.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},Ut.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}};var jt=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Ot,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ut,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},i._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new Mt),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new Mt),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=i,this.transform=e,r},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i.x.get=function(){return this.position.x},i.x.set=function(t){this.transform.position.x=t},i.y.get=function(){return this.position.y},i.y.set=function(t){this.transform.position.y=t},i.worldTransform.get=function(){return this.transform.worldTransform},i.localTransform.get=function(){return this.transform.localTransform},i.position.get=function(){return this.transform.position},i.position.set=function(t){this.transform.position.copyFrom(t)},i.scale.get=function(){return this.transform.scale},i.scale.set=function(t){this.transform.scale.copyFrom(t)},i.pivot.get=function(){return this.transform.pivot},i.pivot.set=function(t){this.transform.pivot.copyFrom(t)},i.skew.get=function(){return this.transform.skew},i.skew.set=function(t){this.transform.skew.copyFrom(t)},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.angle.get=function(){return this.transform.rotation*mt},i.angle.set=function(t){this.transform.rotation=t*yt},i.zIndex.get=function(){return this._zIndex},i.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},i.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},i.mask.get=function(){return this._mask},i.mask.set=function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(e.prototype,i),e}(d.a);function Ht(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}jt.prototype.displayObjectUpdateTransform=jt.prototype.updateTransform;var Xt=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=c.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.addChild(e[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);Y(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.removeChild(e[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,Y(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Y(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var i,r=t,n="number"==typeof e?e:this.children.length,o=n-r;if(o>0&&o<=n){i=this.children.splice(r,o);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<i.length;++a)i[a].emit("removed",this),this.emit("childRemoved",i[a],this,a);return i}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Ht),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].render(t);t.batch.flush(),i&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},i.width.get=function(){return this.scale.x*this.getLocalBounds().width},i.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},i.height.get=function(){return this.scale.y*this.getLocalBounds().height},i.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,i),e}(jt);Xt.prototype.containerUpdateTransform=Xt.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var zt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};jt.mixin(zt);var Gt=function(t){this._hookDiv=null,(u.a.tablet||u.a.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};Gt.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},Gt.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},Gt.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},Gt.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},Gt.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},Gt.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,Y(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{r=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(r.style.left=(a.tx+s.x*a.a)*e+"px",r.style.top=(a.ty+s.y*a.d)*i+"px",r.style.width=s.width*a.a*e+"px",r.style.height=s.height*a.d*i+"px"):(s=o.getBounds(),this.capHitArea(s),r.style.left=s.x*e+"px",r.style.top=s.y*i+"px",r.style.width=s.width*e+"px",r.style.height=s.height*i+"px",r.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(r.title=o.accessibleTitle),r.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&r.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},Gt.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},Gt.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},Gt.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},Gt.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},Gt.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},Gt.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},Gt.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},Gt.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};
/*!
 * @pixi/runner - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Yt=function(t){this.items=[],this._name=t},Wt={empty:{configurable:!0},name:{configurable:!0}};Yt.prototype.emit=function(t,e,i,r,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");for(var h=this,u=h.name,c=h.items,l=0,d=c.length;l<d;l++)c[l][u](t,e,i,r,n,o,s,a);return this},Yt.prototype.add=function(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this},Yt.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&this.items.splice(e,1),this},Yt.prototype.contains=function(t){return-1!==this.items.indexOf(t)},Yt.prototype.removeAll=function(){return this.items.length=0,this},Yt.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Wt.empty.get=function(){return 0===this.items.length},Wt.name.get=function(){return this._name},Object.defineProperties(Yt.prototype,Wt),Yt.prototype.dispatch=Yt.prototype.emit,Yt.prototype.run=Yt.prototype.emit,
/*!
 * @pixi/ticker - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
c.TARGET_FPMS=.06;var Vt={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},Qt=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1};Qt.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},Qt.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},Qt.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},Qt.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e};var qt=function(){var t=this;this._head=new Qt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/c.TARGET_FPMS,this.elapsedMS=1/c.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},Jt={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},$t={shared:{configurable:!0},system:{configurable:!0}};qt.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},qt.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},qt.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},qt.prototype.add=function(t,e,i){return void 0===i&&(i=Vt.NORMAL),this._addListener(new Qt(t,e,i))},qt.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Vt.NORMAL),this._addListener(new Qt(t,e,i,!0))},qt.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},qt.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},qt.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},qt.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},qt.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},qt.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS&&e+1<this._minElapsedMS)return;this.deltaMS=e,this.deltaTime=this.deltaMS*c.TARGET_FPMS;for(var i=this._head,r=i.next;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Jt.FPS.get=function(){return 1e3/this.elapsedMS},Jt.minFPS.get=function(){return 1e3/this._maxElapsedMS},Jt.minFPS.set=function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,c.TARGET_FPMS);this._maxElapsedMS=1/i},Jt.maxFPS.get=function(){return this._minElapsedMS?1e3/this._minElapsedMS:1e3*c.TARGET_FPMS},Jt.maxFPS.set=function(t){if(t/1e3>=c.TARGET_FPMS)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t),i=Math.min(Math.max(1,e)/1e3,c.TARGET_FPMS);this._minElapsedMS=1/i}},$t.shared.get=function(){if(!qt._shared){var t=qt._shared=new qt;t.autoStart=!0,t._protected=!0}return qt._shared},$t.system.get=function(){if(!qt._system){var t=qt._system=new qt;t.autoStart=!0,t._protected=!0}return qt._system},Object.defineProperties(qt.prototype,Jt),Object.defineProperties(qt,$t);var Kt=function(){};Kt.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Vt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?qt.shared:new qt,t.autoStart&&this.start()},Kt.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};
/*!
 * @pixi/core - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Zt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Yt("setRealSize",2),this.onUpdate=new Yt("update")},te={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};Zt.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},Zt.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t)},Zt.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},te.valid.get=function(){return!!this._width&&!!this._height},Zt.prototype.update=function(){this.destroyed||this.onUpdate.run()},Zt.prototype.load=function(){return Promise.resolve()},te.width.get=function(){return this._width},te.height.get=function(){return this._height},Zt.prototype.upload=function(t,e,i){return!1},Zt.prototype.style=function(t,e,i){return!1},Zt.prototype.dispose=function(){},Zt.prototype.destroy=function(){this.destroyed||(this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null,this.destroyed=!0,this.dispose())},Object.defineProperties(Zt.prototype,te);var ee=function(t){function e(e){var i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;t.call(this,i,r),this.source=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=ut(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var n=t.gl,o=e.realWidth,s=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),e.target===n.TEXTURE_2D&&i.width===o&&i.height===s?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,r):(i.width=o,i.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,r)),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Zt),ie=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLImageElement)){var r=new Image;t.crossOrigin(r,e,i.crossorigin),r.src=e,e=r}t.call(this,e),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==i.createBitmap?i.createBitmap:c.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==i.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise(function(t){e.url=e.source.src;var i=e.source,r=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?r():i.onload=r}),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,r){if(i.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var n=!0;for(var o in i._glTextures){var s=i._glTextures[o];if(s!==r&&s.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(ee),re=[];function ne(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=re.length-1;n>=0;--n){var o=re[n];if(o.test&&o.test(t,i))return new o(t,e)}return new ie(t,e)}var oe=function(t){function e(e,i){var r=i||{},n=r.width,o=r.height;if(!n||!o)throw new Error("BufferResource width or height invalid");t.call(this,n,o),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;if(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height)r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data);else{i.width=e.width,i.height=e.height;var n=e.format;2===t.context.webGLVersion&&e.type===t.gl.FLOAT&&e.format===t.gl.RGBA&&(n=t.gl.RGBA32F),r.texImage2D(e.target,0,n,e.width,e.height,0,e.format,e.type,this.data)}return!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Zt),se={scaleMode:E.NEAREST,format:A.RGBA,premultiplyAlpha:!1},ae=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null),t.call(this);var r=(i=i||{}).premultiplyAlpha,n=i.mipmap,o=i.scaleMode,s=i.width,a=i.height,h=i.wrapMode,u=i.format,l=i.type,d=i.target,p=i.resolution,f=i.resourceOptions;!e||e instanceof Zt||((e=ne(e,f)).internal=!0),this.width=s||0,this.height=a||0,this.resolution=p||c.RESOLUTION,this.mipmap=void 0!==n?n:c.MIPMAP_TEXTURES,this.wrapMode=h||c.WRAP_MODE,this.scaleMode=void 0!==o?o:c.SCALE_MODE,this.format=u||A.RGBA,this.type=l||w.UNSIGNED_BYTE,this.target=d||b.TEXTURE_2D,this.premultiplyAlpha=!1!==r,this.uid=V(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=s>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={realWidth:{configurable:!0},realHeight:{configurable:!0}};return i.realWidth.get=function(){return this.width*this.resolution},i.realHeight.get=function(){return this.height*this.resolution},e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=J(this.realWidth)&&J(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete tt[this.cacheId],delete Z[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,i){var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+V()),r=t._pixiId);var n=tt[r];return n||((n=new e(t,i)).cacheId=r,e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){t=t||new Float32Array(i*r*4);var o=new oe(t,{width:i,height:r}),s=t instanceof Float32Array?w.FLOAT:w.UNSIGNED_BYTE;return new e(o,Object.assign(se,n||{width:i,height:r,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),tt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),tt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=tt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete tt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete tt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,i),e}(d.a);ae._globalBatch=0;var he=function(t){function e(e,i){var r;i=i||{};var n=e;Array.isArray(e)&&(r=e,n=e.length),t.call(this,i.width,i.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<n;o++){var s=new ae;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,r)for(var a=0;a<n;a++)this.addResourceAt(ne(r[a],i),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=b.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}),i=e.map(function(t){return t.load()});return this._load=Promise.all(i).then(function(){var i=e[0],r=i.width,n=i.height;return t.resize(r,n),Promise.resolve(t)}),this._load},e.prototype.upload=function(t,e,i){var r=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;i.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var a=0;a<r;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(Zt),ue=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return t instanceof HTMLCanvasElement},e}(ee),ce=function(t){function e(i,r){if(r=r||{},t.call(this,i,r),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=b.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=b.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(n[o]=s.dirtyId,s.valid&&s.resource.upload(t,s,r))}return!0},e}(he);ce.SIDES=6;var le=function(t){function e(e,i){i=i||{},t.call(this,document.createElement("canvas")),this.svg=e,this.scale=i.scale||1,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var e=this,i=new Image;t.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onload=function(){var t=i.width,r=i.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=Math.round(t*e.scale),o=Math.round(r*e.scale),s=e.source;s.width=n,s.height=o,s._pixiId="canvas_"+V(),s.getContext("2d").drawImage(i,0,0,t,r,0,0,n,o),e._resolve(),e._resolve=null}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(ee);le.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var de=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(r,e[0].src||e[0],i.crossorigin);for(var n=0;n<e.length;++n){var o=document.createElement("source"),s=e[n],a=s.src,h=s.mime,u=(a=a||e[n]).split("?").shift().toLowerCase(),c=u.substr(u.lastIndexOf(".")+1);h=h||"video/"+c,o.src=a,o.type=h,r.appendChild(o)}e=r}t.call(this,e),this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==i.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),!1!==i.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var i=qt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay)),this._load=new Promise(function(i){t.valid?i(t):(t._resolve=i,e.load())}),this._load},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(qt.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(qt.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&qt.shared.remove(this.update,this),this.source&&(this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},i.autoUpdate.get=function(){return this._autoUpdate},i.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(qt.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(qt.shared.add(this.update,this),this._isAutoUpdating=!0))},i.updateFPS.get=function(){return this._updateFPS},i.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},Object.defineProperties(e.prototype,i),e}(ee);de.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],re.push(ie,ue,de,le,oe,ce,he);var pe={INSTALLED:re,autoDetectResource:ne,ArrayResource:he,BufferResource:oe,CanvasResource:ue,CubeResource:ce,ImageResource:ie,SVGResource:le,VideoResource:de,Resource:Zt,BaseImageResource:ee},fe=function(t){this.renderer=t,this.renderer.runners.contextChange.add(this)};fe.prototype.contextChange=function(t){},fe.prototype.destroy=function(){this.renderer.runners.contextChange.remove(this),this.renderer=null};var ge=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(oe),ve=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Yt("disposeFramebuffer",2)},me={colorTexture:{configurable:!0}};me.colorTexture.get=function(){return this.colorTextures[0]},ve.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new ae(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},ve.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ae(new ge(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:A.DEPTH_COMPONENT,type:w.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},ve.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},ve.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},ve.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,e/o)}}},ve.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(ve.prototype,me);var ye=function(t){function e(e){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});t.call(this,null,e);var i=e||{},r=i.width,n=i.height;this.mipmap=!1,this.width=Math.ceil(r)||100,this.height=Math.ceil(n)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new ve(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this).enableStencil(),this.stencilMaskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null,this.renderer=null},e}(ae),_e=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};_e.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var o=t.width/2/r,s=t.height/2/n,a=t.x/r+o,h=t.y/n+s;i=Pt.add(i,Pt.NW),this.x0=a+o*Pt.uX(i),this.y0=h+s*Pt.uY(i),i=Pt.add(i,2),this.x1=a+o*Pt.uX(i),this.y1=h+s*Pt.uY(i),i=Pt.add(i,2),this.x2=a+o*Pt.uX(i),this.y2=h+s*Pt.uY(i),i=Pt.add(i,2),this.x3=a+o*Pt.uX(i),this.y3=h+s*Pt.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var xe=new _e,Ae=function(t){function e(i,r,n,o,s,a){if(t.call(this),this.noFrame=!1,r||(this.noFrame=!0,r=new Mt(0,0,1,1)),i instanceof e&&(i=i.baseTexture),this.baseTexture=i,this._frame=r,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=xe,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new pt(a.x,a.y):new pt(0,0),this._updateID=0,this.textureCacheIds=[],i.valid?this.noFrame?i.valid&&this.onBaseTextureUpdated(i):this.frame=r:i.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&i.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&Z[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===xe&&(this._uvs=new _e),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i){void 0===i&&(i={});var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+V()),r=t._pixiId);var n=Z[r];return n||(i.resolution||(i.resolution=ct(t)),(n=new e(new ae(t,i))).baseTexture.cacheId=r,ae.addToCache(n.baseTexture,r),e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){return new e(ae.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,r){var n=new ie(t);n.url=i;var o=new e(new ae(n,{scaleMode:c.SCALE_MODE,resolution:ct(i)}));return r||(r=i),ae.addToCache(o.baseTexture,r),e.addToCache(o,r),r!==i&&(ae.addToCache(o.baseTexture,i),e.addToCache(o,i)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Z[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Z[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Z[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Z[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)Z[t.textureCacheIds[r]]===t&&delete Z[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},i.frame.get=function(){return this._frame},i.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,o=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},i.rotate.get=function(){return this._rotate},i.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},i.width.get=function(){return this.orig.width},i.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,i),e}(d.a);function be(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Ae.EMPTY=new Ae(new ae),be(Ae.EMPTY),be(Ae.EMPTY.baseTexture),Ae.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Ae(new ae(new ue(t)))}(),be(Ae.WHITE),be(Ae.WHITE.baseTexture);var we=function(t){function e(e,i){var r=null;if(!(e instanceof ye)){var n=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),r=arguments[0],i=null,e=new ye({width:n,height:o,scaleMode:s,resolution:a})}t.call(this,e,i),this.legacyRenderer=r,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new ye(t))},e}(Ae),Ee=function(t,e,i,r,n,o,s){void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=o,this.instance=s};Ee.prototype.destroy=function(){this.buffer=null},Ee.from=function(t,e,i,r,n){return new Ee(t,e,i,r,n)};var Te=0,Se=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Te++,this.disposeRunner=new Yt("disposeBuffer",2)};function Ce(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Se.prototype.update=function(t){this.data=t||this.data,this._updateID++},Se.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Se.prototype.destroy=function(){this.dispose(),this.data=null},Se.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Se(t)};var Ie={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Pe={5126:4,5123:2,5121:1},Oe=0,De={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Me=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Oe++,this.instanced=!1,this.instanceCount=1,this._size=null,this.disposeRunner=new Yt("disposeGeometry",2),this.refCount=0};Me.prototype.addAttribute=function(t,e,i,r,n,o,s,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new Se(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var c=this.buffers.indexOf(e);return-1===c&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new Ee(c,i,r,n,o,s,a),this.instanced=this.instanced||a,this},Me.prototype.getAttribute=function(t){return this.attributes[t]},Me.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Me.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Se(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Me.prototype.getIndex=function(){return this.indexBuffer},Me.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new Se;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),i.push(n.size*Pe[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},o=0;o<t.length;o++)r+=e[o],i+=t[o].length;for(var s=new ArrayBuffer(4*i),a=null,h=0,u=0;u<t.length;u++){var c=e[u],l=t[u],d=Ce(l);n[d]||(n[d]=new Ie[d](s)),a=n[d];for(var p=0;p<l.length;p++)a[(p/c|0)*r+h+p%c]=l[p];h+=c}return new Float32Array(s)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Me.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Me.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Me.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},Me.prototype.clone=function(){for(var t=new Me,e=0;e<this.buffers.length;e++)t.buffers[e]=new Se(this.buffers[e].data.slice());for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new Ee(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Me.merge=function(t){for(var e,i=new Me,r=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(var h=0;h<e.buffers.length;h++)r[h]=new(De[Ce(e.buffers[h].data)])(n[h]),i.buffers[h]=new Se(r[h]);for(var u=0;u<t.length;u++){e=t[u];for(var c=0;c<e.buffers.length;c++)r[c].set(e.buffers[c].data,o[c]),o[c]+=e.buffers[c].data.length}if(i.attributes=e.attributes,e.indexBuffer){i.indexBuffer=i.buffers[e.buffers.indexOf(e.indexBuffer)],i.indexBuffer.index=!0;for(var l=0,d=0,p=0,f=0,g=0;g<e.buffers.length;g++)if(e.buffers[g]!==e.indexBuffer){f=g;break}for(var v in e.attributes){var m=e.attributes[v];(0|m.buffer)===f&&(d+=m.size*Pe[m.type]/4)}for(var y=0;y<t.length;y++){for(var _=t[y].indexBuffer.data,x=0;x<_.length;x++)i.indexBuffer.data[x+p]+=l;l+=e.buffers[f].data.length/d,p+=_.length}}return i};var Re=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Me),Be=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Se(this.vertices),this.uvBuffer=new Se(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Me),ke=0,Ne=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ke++,this.static=!!e};Ne.prototype.update=function(){this.dirtyId++},Ne.prototype.add=function(t,e,i){this.uniforms[t]=new Ne(e,i)},Ne.from=function(t,e){return new Ne(t,e)};var Fe=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Mt,this.destinationFrame=new Mt,this.filters=[]};Fe.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Le=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool={},this.statePool=[],this.quad=new Re,this.quadUv=new Be,this.tempRect=new Mt,this.activeState={},this.globalUniforms=new Ne({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new Fe,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var c=e[u];o=Math.min(o,c.resolution),s=Math.max(s,c.padding),a=a||c.autoFit,h=h||c.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,o=r.inputPixel,s=r.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=r.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,e.resolution);c.filterFrame=u.filterFrame;var l=0;for(l=0;l<i.length-1;++l){i[l].apply(this,u,c,!0,e);var d=u;u=c,c=d}i[l].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;n.renderTexture.bind(i,i?i.filterFrame:null),r&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.setState(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(x.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(x.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,r.x,r.y),a=e.worldTransform.copyTo(xt.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(t){void 0===t&&(t=!1),t?this.texturePool={}:this.emptyPool()},e.prototype.getOptimalFilterTexture=function(t,e,i){void 0===i&&(i=1);var r="screen";e*=i,(t*=i)===this._pixelsWidth&&e===this._pixelsHeight||(r=(65535&(t=q(t)))<<16|65535&(e=q(e))),this.texturePool[r]||(this.texturePool[r]=[]);var n=this.texturePool[r].pop();return n||(n=we.create({width:t,height:e})),n.filterPoolKey=r,n.setResolution(i),n},e.prototype.getFilterTexture=function(t){var e=this.activeState.renderTexture,i=this.getOptimalFilterTexture(e.width,e.height,t||e.baseTexture.resolution);return i.filterFrame=e.filterFrame,i},e.prototype.returnFilterTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},e.prototype.emptyPool=function(){for(var t in this.texturePool){var e=this.texturePool[t];if(e)for(var i=0;i<e.length;i++)e[i].destroy(!0)}this.texturePool={}},e.prototype.resize=function(){var t=this.texturePool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool.screen=[],this._pixelsWidth=this.renderer.view.width,this._pixelsHeight=this.renderer.view.height},e}(fe),Ue=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(fe),je=function(t){function e(e){t.call(this,e),this.emptyRenderer=new Ue(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e}(fe);c.PREFER_ENV=u.a.any?m.WEBGL:m.WEBGL2;var He=0,Xe=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isLost:{configurable:!0}};return i.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=He++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(c.PREFER_ENV>=m.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),i},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion&&Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),floatTexture:t.getExtension("OES_texture_float"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,i),e}(fe),ze=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new ve(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Mt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;c.PREFER_ENV===m.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},i.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,i,r){var n=this.gl;n.clearColor(t,e,i,r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1));for(var n=[],o=0;o<r;o++){var s=t.colorTextures[o];s.texturePart?(this.renderer.texture.bind(s.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_CUBE_MAP_NEGATIVE_X+s.side,s.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height))},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.stencil&&r.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.count;i++)this.disposeFramebuffer(e[i],t)},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Mt},Object.defineProperties(e.prototype,i),e}(fe),Ge=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Ye={5126:4,5123:2,5121:1},We=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var i=this.renderer.context.extensions.vertexArrayObject;c.PREFER_ENV===m.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,n,o){return r.drawElementsInstancedANGLE(t,e,i,n,o)},t.drawArraysInstanced=function(t,e,i,n){return r.drawArraysInstancedANGLE(t,e,i,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID];r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={});var n=r[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r=t.buffers[i],n=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==n.updateID){n.updateID=r._updateID;var o=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=r.data.byteLength)e.bufferSubData(o,0,r.data);else{var s=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=r.data.byteLength,e.bufferData(o,r.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=["g",t.id];for(var o in i)r[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,r=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},c={};for(var l in a)u[l]=0,c[l]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*Ye[h[d].type];for(var p in h){var f=h[p],g=f.size;void 0===f.stride&&(u[f.buffer]===g*Ye[f.type]?f.stride=0:f.stride=u[f.buffer]),void 0===f.start&&(f.start=c[f.buffer],c[f.buffer]+=g*Ye[f.type])}s=i.createVertexArray(),i.bindVertexArray(s);for(var v=0;v<a.length;v++){var m=a[v];m._glBuffers[r]||(m._glBuffers[r]=new Ge(i.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[r].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),i){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in i)if("g"===a[0]){var h=i[a];this._activeVao===h&&this.unbind(),r.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);e=Object.keys(this.managedBuffers);for(var r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[r];if(e.attributeData[a]){s!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),s=u);var c=e.attributeData[a].location;if(i.enableVertexAttribArray(c),i.vertexAttribPointer(c,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(t,e,i,r){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(i||0)*s,r||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(i||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,i,e||o.getSize(),r||1):n.drawArrays(t,i,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(fe);function Ve(t,e,i,r){var n=Qe(t,t.VERTEX_SHADER,e),o=Qe(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),r)for(var a in r)t.bindAttribLocation(s,r[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function Qe(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.warn(i),console.error(t.getShaderInfoLog(r)),null)}function qe(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Je(2*e);case"bvec3":return Je(3*e);case"bvec4":return Je(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Je(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}var $e,Ke=null;function Ze(){if(!Ke){var t,e=document.createElement("canvas");if(c.PREFER_ENV>=m.WEBGL2&&(t=e.getContext("webgl2",{})),!t){if(!(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{})))throw new Error("This browser does not support WebGL. Try using the canvas renderer");t.getExtension("WEBGL_draw_buffers")}return Ke=t,t}return Ke}function ti(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===I.HIGH&&i!==I.HIGH&&(r=I.MEDIUM),"precision "+r+" float;\n"+t}return i!==I.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var ei={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ii(t){return ei[t]}var ri=null,ni={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function oi(t,e){if(!ri){var i=Object.keys(ni);ri={};for(var r=0;r<i.length;++r){var n=i[r];ri[t[n]]=ni[n]}}return ri[e]}var si={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},ai={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var hi,ui=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ci(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=ui.replace(/%forloop%/gi,li(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}function li(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var di=0,pi={},fi=function t(e,i,r){void 0===r&&(r="pixi-shader"),this.id=di++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),pi[r]?(pi[r]++,r+="-"+pi[r]):pi[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=ti(this.vertexSrc,c.PRECISION_VERTEX,I.HIGH),this.fragmentSrc=ti(this.fragmentSrc,c.PRECISION_FRAGMENT,function(){if(!$e){$e=I.MEDIUM;var t=Ze();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);$e=e.precision?I.HIGH:I.MEDIUM}}return $e}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},gi={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};fi.prototype.extractData=function(t,e){var i=Ze();if(i){var r=Ve(i,t,e);this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)}else this.uniformData={},this.attributeData={}},fi.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=oi(e,s.type),h={type:a,name:s.name,size:ii(a),location:0};i[s.name]=h,r.push(h)}r.sort(function(t,e){return t.name>e.name?1:-1});for(var u=0;u<r.length;u++)r[u].location=u;return i},fi.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]/,""),a=o.name.match(/\[.*?\]/,""),h=oi(e,o.type);i[s]={type:h,size:o.size,isArray:a,value:qe(h,o.size)}}return i},gi.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},gi.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},fi.from=function(t,e,i){var r=t+e,n=K[r];return n||(K[r]=n=new fi(t,e,i)),n},Object.defineProperties(fi,gi);var vi=function(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Ne?e:new Ne(e):new Ne({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))},mi={uniforms:{configurable:!0}};vi.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},vi.prototype.destroy=function(){this.uniformGroup=null},mi.uniforms.get=function(){return this.uniformGroup.uniforms},vi.from=function(t,e,i){var r=fi.from(t,e);return new vi(r,i)},Object.defineProperties(vi.prototype,mi);var yi=function(){this.data=0,this.blendMode=_.NORMAL,this.polygonOffset=0,this.blend=!0},_i={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};_i.blend.get=function(){return!!(1&this.data)},_i.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},_i.offsets.get=function(){return!!(2&this.data)},_i.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},_i.culling.get=function(){return!!(4&this.data)},_i.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},_i.depthTest.get=function(){return!!(8&this.data)},_i.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},_i.clockwiseFrontFace.get=function(){return!!(16&this.data)},_i.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},_i.blendMode.get=function(){return this._blendMode},_i.blendMode.set=function(t){this.blend=t!==_.NONE,this._blendMode=t},_i.polygonOffset.get=function(){return this._polygonOffset},_i.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},yi.for2d=function(){var t=new yi;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(yi.prototype,_i);var xi=function(t){function e(i,r,n){var o=fi.from(i||e.defaultVertexSrc,r||e.defaultFragmentSrc);t.call(this,o,n),this.padding=0,this.resolution=c.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new yi}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r,n)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},r.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},r.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,i),Object.defineProperties(e,r),e}(vi);xi.SOURCE_KEY_MAP={};var Ai="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",bi="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",wi=new xt,Ei=function(t,e){this._texture=t,this.mapCoord=new xt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},Ti={texture:{configurable:!0}};Ti.texture.get=function(){return this._texture},Ti.texture.set=function(t){this._texture=t,this._updateID=-1},Ei.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[r]=n*i.a+o*i.c+i.tx,e[r+1]=n*i.b+o*i.d+i.ty}return e},Ei.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(wi.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(wi));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},Object.defineProperties(Ei.prototype,Ti);var Si=function(t){function e(e){var i=new xt;t.call(this,Ai,bi),e.renderable=!1,this.maskSprite=e,this.maskMatrix=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,i,r){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new Ei(o,0)),o.transform.update(),this.uniforms.npmAlpha=o.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,i,r))},e}(xi),Ci=function(t){function e(e){t.call(this,e),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){if(e.isSprite)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.pop=function(t,e){e.isSprite?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Si(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var r=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filter.push(t,i),t.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(r.x*n,(i.root?i.size.height-r.y-r.height:r.y)*n,r.width*n,r.height*n),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(fe),Ii=function(t){function e(e){t.call(this,e),this.stencilMaskStack=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){var e=this.renderer.gl;t.length!==this.stencilMaskStack.length&&(0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)),this.stencilMaskStack=t},e.prototype.pushStencil=function(t){var e=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,i,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},e.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.stencilMaskStack=null},e}(fe),Pi=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new xt,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix;r?(n.a=1/t.width*2*i,n.d=-1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*i,n.d=1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(fe),Oi=new Mt,Di=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Mt,this.destinationFrame=new Mt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,i){void 0===t&&(t=null),this.current=t;var r,n=this.renderer;if(t){var o=t.baseTexture;r=o.resolution,i||(Oi.width=o.realWidth,Oi.height=o.realHeight,i=Oi),e||(e=i),this.renderer.framebuffer.bind(o.framebuffer,i),this.renderer.projection.update(i,e,r,!1),this.renderer.stencil.setMaskStack(o.stencilMaskStack)}else r=this.renderer.resolution,i||(Oi.width=n.width,Oi.height=n.height,i=Oi),e||(e=i),n.framebuffer.bind(null,i),this.renderer.projection.update(i,e,r,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=i.x/r,this.destinationFrame.y=i.y/r,this.destinationFrame.width=i.width/r,this.destinationFrame.height=i.height/r,e===i&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(fe),Mi=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Mi.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Ri=0,Bi=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Ri++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof hi)return hi;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");hi=!0===t({a:"b"},"a","b")}catch(t){hi=!1}return hi}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||this.syncUniformGroup(t.uniformGroup),r},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i=0,r="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var o=e[n];o?"float"===o.type&&1===o.size?r+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n":"sampler2D"!==o.type&&"samplerCube"!==o.type&&"sampler2DArray"!==o.type||1!==o.size||o.isArray?"mat3"===o.type&&1===o.size?void 0!==t.uniforms[n].a?r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n":"vec2"===o.type&&1===o.size?void 0!==t.uniforms[n].x?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n":"vec4"===o.type&&1===o.size?void 0!==t.uniforms[n].width?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n":r+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===o.size?si:ai)[o.type].replace("location","ud."+n+".location")+";\n":(r+="\n            renderer.texture.bind(uv."+n+", "+i+");\n\n            if(ud."+n+".value !== "+i+")\n            {\n                ud."+n+".value = "+i+";\n                gl.uniform1i(ud."+n+".location, "+i+");\n; // eslint-disable-line max-len\n            }\n",i++):t.uniforms[n].group&&(r+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",r)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,r=[];for(var n in i)r.push(n),e[n]&&r.push(e[n].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(var n in i.attributeData)r[n]=i.attributeData[n].location;var o=Ve(e,i.vertexSrc,i.fragmentSrc,r),s={};for(var a in i.uniformData){var h=i.uniformData[a];s[a]={location:e.getUniformLocation(o,a),value:qe(h.type,h.size)}}var u=new Mi(o,s);return i.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(fe);var ki=0,Ni=1,Fi=2,Li=3,Ui=4,ji=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_.NONE,this._blendEq=!1,this.map=[],this.map[ki]=this.setBlend,this.map[Ni]=this.setOffset,this.map[Fi]=this.setCullFace,this.map[Li]=this.setDepthTest,this.map[Ui]=this.setFrontFace,this.checks=[],this.defaultState=new yi,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[_.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.ADD]=[t.ONE,t.ONE],e[_.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.NONE]=[0,0],e[_.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.setState(this.defaultState),this.reset()},e.prototype.setState=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(fe),Hi=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=c.GC_MAX_IDLE,this.checkCountMax=c.GC_MAX_CHECK_COUNT,this.mode=c.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.count++,this.mode!==C.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(fe),Xi=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071},zi=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ae}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Xi(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Xi(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.boundTextures[e]!==t&&i.bindTexture(t.target,r.texture),r.dirtyId!==t.dirtyId&&this.updateTexture(t),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(var n=0;n<i.length;n++)i[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),i[n]=null)},e.prototype.initTexture=function(t){var e=new Xi(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID],i=this.renderer;if(t.resource&&t.resource.upload(i,t,e));else{var r=t.realWidth,n=t.realHeight,o=i.gl;(e.width!==r||e.height!==n||e.dirtyId<0)&&(e.width=r,e.height=n,o.texImage2D(t.target,0,t.format,r,n,0,t.format,t.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Y(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==S.POW2&&2===this.webGLVersion||t.isPowerOfTwo?(e.mipmap=t.mipmap>=1,e.wrapMode=t.wrapMode):(e.mipmap=0,e.wrapMode=T.CLAMP),t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST):i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR:i.NEAREST),i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode?i.LINEAR:i.NEAREST)},e}(fe),Gi={FilterSystem:Le,BatchSystem:je,ContextSystem:Xe,FramebufferSystem:ze,GeometrySystem:We,MaskSystem:Ci,StencilSystem:Ii,ProjectionSystem:Pi,RenderTextureSystem:Di,ShaderSystem:Bi,StateSystem:ji,TextureGCSystem:Hi,TextureSystem:zi},Yi=new xt,Wi=function(t){function e(e,i){t.call(this),(i=Object.assign({},c.RENDER_OPTIONS,i)).roundPixels&&(c.ROUND_PIXELS=i.roundPixels,dt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=y.UNKNOWN,this.screen=new Mt(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||c.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Xt,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},i.width.get=function(){return this.view.width},i.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds()).width&&(r.width=1),0===r.height&&(r.height=1);var n=we.create(0|r.width,0|r.height,e,i);return Yi.tx=-r.x,Yi.ty=-r.y,this.render(t,n,!1,Yi,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=y.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i.backgroundColor.get=function(){return this._backgroundColor},i.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=N(t),k(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,i),e}(d.a),Vi=function(t){function e(i){void 0===i&&(i={}),t.call(this,"WebGL",i),i=this.options,this.type=y.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new Yt("destroy"),contextChange:new Yt("contextChange",1),reset:new Yt("reset"),update:new Yt("update"),postrender:new Yt("postrender"),prerender:new Yt("prerender"),resize:new Yt("resize",2)},this.globalUniforms=new Ne({projectionMatrix:new xt},!0),this.addSystem(Ci,"mask").addSystem(Xe,"context").addSystem(ji,"state").addSystem(Bi,"shader").addSystem(zi,"texture").addSystem(We,"geometry").addSystem(ze,"framebuffer").addSystem(Ii,"stencil").addSystem(Pi,"projection").addSystem(Hi,"textureGC").addSystem(Le,"filter").addSystem(Di,"renderTexture").addSystem(je,"batch"),this.initPlugins(e.__plugins),i.context?this.context.initFromContext(i.context):this.context.initFromOptions({alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,R(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(B())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.run(e,i)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){this.runners.destroy.run(),t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(Wi);function Qi(t){return Vi.create(t)}var qi="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Ji="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",$i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,i){return new e(new ce(t,i))},e}(ae),Ki=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new Se(null,e,!1),this._indexBuffer=new Se(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,w.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,w.FLOAT).addAttribute("aColor",this._buffer,4,!0,w.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,w.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Me),Zi=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},tr=function(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)};tr.prototype.destroy=function(){this.vertices=null,this.float32View=null,this.uint32View=null};var er="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ir=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"),rr={},nr={};function or(t,e){if(!nr[e]){for(var i=new Int32Array(e),r=0;r<e;r++)i[r]=r;rr[e]=Ne.from({uSamplers:i},!0);var n=ir;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e)),nr[e]=new fi(er,n)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new xt,default:rr[e]};return new vi(nr[e],o)}var sr=function(t){function e(e){t.call(this,e),this.vertSize=6,this.vertByteSize=4*this.vertSize,this.size=8e3,this.currentSize=0,this.currentIndexSize=0,this.attributeBuffers={},this.aBuffers={},this.iBuffers={},this.onlySprites=!1,this.shader=null,this.currentIndex=0,this.groups=[];for(var i=0;i<this.size/4;i++)this.groups[i]=new Zi;this.elements=[],this.vaos=[],this.vaoMax=2,this.vertexCount=0,this.renderer.on("prerender",this.onPrerender,this),this.state=yi.for2d()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;c.PREFER_ENV===m.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ci(this.MAX_TEXTURES,t)),this.shader=or(0,this.MAX_TEXTURES);for(var e=0;e<this.vaoMax;e++)this.vaos[e]=new Ki},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){t._texture.valid&&(this.currentSize+t.vertexData.length/2>this.size&&this.flush(),this.elements[this.currentIndex++]=t,this.currentSize+=t.vertexData.length/2,this.currentIndexSize+=t.indices.length)},e.prototype.getIndexBuffer=function(t){var e=q(Math.ceil(t/12)),i=$(e),r=12*e;this.iBuffers.length<=i&&(this.iBuffers.length=i+1);var n=this.iBuffers[i];return n||(this.iBuffers[i]=n=new Uint16Array(r)),n},e.prototype.getAttributeBuffer=function(t){var e=q(Math.ceil(t/8)),i=$(e),r=8*e;this.aBuffers.length<=i&&(this.iBuffers.length=i+1);var n=this.aBuffers[r];return n||(this.aBuffers[r]=n=new tr(r*this.vertByteSize)),n},e.prototype.flush=function(){if(0!==this.currentSize){var t,e,i=this.renderer.gl,r=this.MAX_TEXTURES,n=this.getAttributeBuffer(this.currentSize),o=this.getIndexBuffer(this.currentIndexSize),s=this.elements,a=this.groups,h=n.float32View,u=n.uint32View,l=this.renderer.textureGC.count,d=0,p=0,f=0,g=0,v=a[0],m=-1;v.textureCount=0,v.start=0,v.blend=m;var y,_=++ae._globalBatch;for(y=0;y<this.currentIndex;++y){var x=s[y];s[y]=null,t=x._texture.baseTexture;var A=U[t.premultiplyAlpha?1:0][x.blendMode];m!==A&&(m=A,e=null,g=r,_++),e!==t&&(e=t,t._batchEnabled!==_&&(g===r&&(_++,g=0,v.size=p-v.start,(v=a[f++]).textureCount=0,v.blend=m,v.start=p),t.touched=l,t._batchEnabled=_,t._id=g,v.textures[v.textureCount++]=t,g++)),this.packGeometry(x,h,u,o,d,p),d+=x.vertexData.length/2*this.vertSize,p+=x.indices.length}ae._globalBatch=_,v.size=p-v.start,c.CAN_UPLOAD_SAME_BUFFER?(this.vaos[this.vertexCount]._buffer.update(n.vertices,0),this.vaos[this.vertexCount]._indexBuffer.update(o,0),this.renderer.geometry.updateBuffers()):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vaos[this.vertexCount]=new Ki),this.vaos[this.vertexCount]._buffer.update(n.vertices,0),this.vaos[this.vertexCount]._indexBuffer.update(o,0),this.renderer.geometry.bind(this.vaos[this.vertexCount]),this.renderer.geometry.updateBuffers(),this.vertexCount++);var b=this.renderer.texture,w=this.renderer.state;for(y=0;y<f;y++){for(var E=a[y],T=E.textureCount,S=0;S<T;S++)b.bind(E.textures[S],S),E.textures[S]=null;w.setBlendMode(E.blend),i.drawElements(E.type,E.size,i.UNSIGNED_SHORT,2*E.start)}this.currentIndex=0,this.currentSize=0,this.currentIndexSize=0}},e.prototype.packGeometry=function(t,e,i,r,n,o){for(var s=n/this.vertSize,a=t.uvs,h=t.indices,u=t.vertexData,c=t._texture.baseTexture._id,l=Math.min(t.worldAlpha,1),d=l<1&&t._texture.baseTexture.premultiplyAlpha?X(t._tintRGB,l):t._tintRGB+(255*l<<24),p=0;p<u.length;p+=2)e[n++]=u[p],e[n++]=u[p+1],e[n++]=a[p],e[n++]=a[p+1],i[n++]=d,e[n++]=c;for(var f=0;f<h.length;f++)r[o++]=s+h[f]},e.prototype.start=function(){this.renderer.state.setState(this.state),this.renderer.shader.bind(this.shader),c.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this.vaos[this.vertexCount])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null,t.prototype.destroy.call(this)},e}(Ue),ar=new Mt,hr=function(t){this.renderer=t,t.extract=this};
/*!
 * @pixi/extract - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */hr.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},hr.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},hr.prototype.canvas=function(t){var e,i,r,n=this.renderer,o=!1,s=!1;t&&(t instanceof we?r=t:(r=this.renderer.generateTexture(t),s=!0)),r?(e=r.baseTexture.resolution,i=r.frame,o=!1,n.renderTexture.bind(r)):(e=this.renderer.resolution,o=!0,(i=ar).width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var a=i.width*e,h=i.height*e,u=new nt(a,h,1),c=new Uint8Array(4*a*h),l=n.gl;l.readPixels(i.x*e,i.y*e,a,h,l.RGBA,l.UNSIGNED_BYTE,c);var d=u.context.getImageData(0,0,a,h);return d.data.set(c),u.context.putImageData(d,0,0),o&&(u.context.scale(1,-1),u.context.drawImage(u.canvas,0,-h)),s&&r.destroy(!0),u.canvas},hr.prototype.pixels=function(t){var e,i,r,n=this.renderer,o=!1;t&&(t instanceof we?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(e=r.baseTexture.resolution,i=r.frame,n.renderTexture.bind(r)):(e=n.resolution,(i=ar).width=n.width,i.height=n.height,n.renderTexture.bind(null));var s=i.width*e,a=i.height*e,h=new Uint8Array(4*s*a),u=n.gl;return u.readPixels(i.x*e,i.y*e,s,a,u.RGBA,u.UNSIGNED_BYTE,h),o&&r.destroy(!0),h},hr.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};
/*!
 * @pixi/interaction - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ur=function(){this.global=new pt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},cr={pointerId:{configurable:!0}};cr.pointerId.get=function(){return this.identifier},ur.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},ur.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},ur.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(ur.prototype,cr);var lr=function(){this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};lr.prototype.stopPropagation=function(){this.stopped=!0},lr.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};var dr=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},pr={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};dr.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},pr.pointerId.get=function(){return this._pointerId},pr.flags.get=function(){return this._flags},pr.flags.set=function(t){this._flags=t},pr.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},pr.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},pr.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},pr.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},pr.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},pr.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},pr.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(dr.prototype,pr),dr.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var fr={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};jt.mixin(fr);var gr=1,vr={target:null,data:{global:null}},mr=function(t){function e(e,i){t.call(this),i=i||{},this.renderer=e,this.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,this.interactionFrequency=i.interactionFrequency||10,this.mouse=new ur,this.mouse.identifier=gr,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[gr]=this.mouse,this.interactionDataPool=[],this.eventData=new lr,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new pt,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return vr.target=null,vr.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(vr,e,null,!0),vr.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(qt.system.add(this.update,this,Vt.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(qt.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},e.prototype.processInteractive=function(t,e,i,r,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(r=!1,h=!1)),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,c=u.length-1;c>=0;c--){var l=u[c],d=this.processInteractive(t,l,i,r,a);if(d){if(!l.parent)continue;a=!1,d&&(t.target&&(r=!1),s=!0)}}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new dr(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=r[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var c=2===a.button;this.emit(c?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType,h=!1;if(a){var u=2===r.button,c=dr.FLAGS,l=u?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&l;i?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t;var a="touch"!==n.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new dr(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===gr||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new ur).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=gr),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(d.a),yr={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},_r=function(){this.reset()};_r.prototype.clone=function(){var t=new _r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},_r.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ae.WHITE,this.matrix=null,this.visible=!1},_r.prototype.destroy=function(){this.texture=null,this.matrix=null};var xr=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]};xr.prototype.clone=function(){return new xr(this.shape,this.fillStyle,this.lineStyle,this.matrix)},xr.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var Ar={build:function(t){var e,i,r=t.shape,n=t.points,o=r.x,s=r.y;if(n.length=0,t.type===_t.CIRC?(e=r.radius,i=r.radius):(e=r.width,i=r.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a;u++)n.push(o+Math.sin(-h*u)*e,s+Math.cos(-h*u)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=o;r.push(t.shape.x,t.shape.y);for(var a=0;a<i.length;a+=2)r.push(i[a],i[a+1]),n.push(o++,s,o)}};function br(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.points||t.shape.points;if(0===r.length)return;var n=e.points,o=e.indices,s=r.length/2,a=n.length/2;for(i=1;i<s;i++){var h=r[2*(i-1)],u=r[2*(i-1)+1],c=r[2*i],l=r[2*i+1];n.push(h,u),n.push(c,l),o.push(a++,a++)}}(t,e):function(t,e){var i=t.shape,r=t.points||i.points.slice();if(0===r.length)return;var n=t.lineStyle,o=new pt(r[0],r[1]),s=new pt(r[r.length-2],r[r.length-1]),a=i.type!==_t.POLY||i.closeStroke,h=o.x===s.x&&o.y===s.y;if(a){r=r.slice(),h&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var u=s.x+.5*(o.x-s.x),c=s.y+.5*(o.y-s.y);r.unshift(u,c),r.push(u,c)}var l=e.points,d=r.length/2,p=r.length,f=l.length/2,g=n.width/2,v=r[0],m=r[1],y=r[2],_=r[3],x=0,A=0,b=-(m-_),w=v-y,E=0,T=0,S=0,C=0,I=Math.sqrt(b*b+w*w);b/=I,w/=I,b*=g,w*=g;var P=n.alignment,O=2*(1-P),D=2*P;l.push(v-b*O,m-w*O),l.push(v+b*D,m+w*D);for(var M=1;M<d-1;++M){v=r[2*(M-1)],m=r[2*(M-1)+1],y=r[2*M],_=r[2*M+1],x=r[2*(M+1)],A=r[2*(M+1)+1],b=-(m-_),w=v-y,I=Math.sqrt(b*b+w*w),b/=I,w/=I,b*=g,w*=g,E=-(_-A),T=y-x,I=Math.sqrt(E*E+T*T),E/=I,T/=I;var R=-w+m-(-w+_),B=-b+y-(-b+v),k=(-b+v)*(-w+_)-(-b+y)*(-w+m),N=-(T*=g)+A-(-T+_),F=-(E*=g)+y-(-E+x),L=(-E+x)*(-T+_)-(-E+y)*(-T+A),U=R*F-N*B;if(Math.abs(U)<.1)U+=10.1,l.push(y-b*O,_-w*O),l.push(y+b*D,_+w*D);else{var j=(B*L-F*k)/U,H=(N*k-R*L)/U,X=(j-y)*(j-y)+(H-_)*(H-_);X>196*g*g?(S=b-E,C=w-T,I=Math.sqrt(S*S+C*C),S/=I,C/=I,S*=g,C*=g,l.push(y-S*O,_-C*O),l.push(y+S*D,_+C*D),l.push(y-S*D*O,_-C*O),p++):(l.push(y+(j-y)*O,_+(H-_)*O),l.push(y-(j-y)*D,_-(H-_)*D))}}v=r[2*(d-2)],m=r[2*(d-2)+1],y=r[2*(d-1)],_=r[2*(d-1)+1],b=-(m-_),w=v-y,I=Math.sqrt(b*b+w*w),b/=I,w/=I,b*=g,w*=g,l.push(y-b*O,_-w*O),l.push(y+b*D,_+w*D);for(var z=e.indices,G=0;G<p-2;++G)z.push(f,f+1,f+2),f++}(t,e)}var wr={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,o=e.indices;if(i.length>=6){for(var s=[],a=0;a<r.length;a++){var h=r[a];s.push(i.length/2),i=i.concat(h.points)}var u=f()(i,s,2);if(!u)return;for(var c=n.length/2,l=0;l<u.length;l+=3)o.push(u[l]+c),o.push(u[l+1]+c),o.push(u[l+2]+c);for(var d=0;d<i.length;d++)n.push(i[d])}}},Er={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,o=e.width,s=e.height,a=e.radius;i.length=0,Sr(r,n+a,r,n,r+a,n,i),Sr(r+o-a,n,r+o,n,r+o,n+a,i),Sr(r+o,n+s-a,r+o,n+s,r+o-a,n+s,i),Sr(r+a,n+s,r,n+s,r,n+s-a,i)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,o=r.length/2,s=f()(i,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(var u=0,c=i.length;u<c;u++)r.push(i[u],i[++u])}};function Tr(t,e,i){return t+(e-t)*i}function Sr(t,e,i,r,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,c=0,l=0,d=0,p=0,f=0,g=0;f<=20;++f)h=Tr(t,i,g=f/20),u=Tr(e,r,g),c=Tr(i,n,g),l=Tr(r,o,g),d=Tr(h,c,g),p=Tr(u,l,g),a.push(d,p);return a}var Cr=[],Ir=[],Pr={};Pr[_t.POLY]=wr,Pr[_t.CIRC]=Ar,Pr[_t.ELIP]=Ar,Pr[_t.RECT]={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(i,r,i+n,r,i+n,r+o,i,r+o)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},Pr[_t.RREC]=Er;var Or=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},Dr=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Ut,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={bounds:{configurable:!0}};return i.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.clear=function(){if(this.graphicsData.length>0){this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.batchDirty++,this.graphicsData.length=0,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Ir.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var i=this.batches[e];i.start=0,i.attribStart=0,i.style=null,Cr.push(i)}this.batches.length=0}return this},e.prototype.drawShape=function(t,e,i,r){var n=new xr(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var i=new xr(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,i},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&r.shape.contains(t.x,t.y))){if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].shape.contains(t.x,t.y))return!1}return!0}}return!1},e.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty&&0!==this.graphicsData.length){if(this.dirty!==this.cacheDirty)for(var t=0;t<this.graphicsData.length;t++){var e=this.graphicsData[t];if(e.fillStyle&&!e.fillStyle.texture.baseTexture.valid)return;if(e.lineStyle&&!e.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var i=this.uvs,r=this.batches.pop()||Cr.pop()||new Or;r.style=r.style||this.graphicsData[0].fillStyle||this.graphicsData[0].lineStyle;var n=r.style.texture.baseTexture,o=r.style.color+r.style.alpha;this.batches.push(r);for(var s=this.shapeIndex;s<this.graphicsData.length;s++){this.shapeIndex++;var a=this.graphicsData[s],h=Pr[a.type],u=a.fillStyle,c=a.lineStyle;h.build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var l=0;l<2;l++){var d=0===l?u:c;if(d.visible){var p=d.texture.baseTexture;if(n!==p||d.color+d.alpha!==o){p.wrapMode=10497,n=p,o=d.color+d.alpha;var f=this.indices.length,g=this.points.length/2;r.size=f-r.start,r.attribSize=g-r.attribStart,r.size>0&&(r=Cr.pop()||new Or,this.batches.push(r)),r.style=d,r.start=f,r.attribStart=g}var v=this.points.length/2;if(0===l)a.holes.length?(this.processHoles(a.holes),wr.triangulate(a,this)):h.triangulate(a,this);else{br(a,this);for(var m=0;m<a.holes.length;m++)br(a.holes[m],this)}var y=this.points.length/2-v;this.addUvs(this.points,i,d.texture,v,y,d.matrix)}}}var _=this.indices.length,x=this.points.length/2;if(r.size=_-r.start,r.attribSize=x-r.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var A=0;A<this.batches.length;A++)for(var b=this.batches[A],w=0;w<b.size;w++){var E=b.start+w;this.indicesUint16[E]=this.indicesUint16[E]-b.attribStart}}else this.buildDrawCalls()}},e.prototype.isBatchable=function(){for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++ae._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Ir.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.uvs,r=this.colors,n=this.textureIds,o=Ir.pop()||new Zi;o.textureCount=0,o.start=0,o.size=0,o.type=x.TRIANGLES;var s=0,a=null,h=0,u=!1,c=x.TRIANGLES,l=0;this.drawCalls.push(o);for(var d=0;d<this.batches.length;d++){var p=this.batches[d],f=p.style,g=f.texture.baseTexture;u!==f.native&&(c=(u=f.native)?x.LINES:x.TRIANGLES,a=null,s=8,t++),a!==g&&(a=g,g._batchEnabled!==t&&(8===s&&(t++,s=0,o.size>0&&(o=Ir.pop()||new Zi,this.drawCalls.push(o)),o.start=l,o.size=0,o.textureCount=0,o.type=c),g.touched=1,g._batchEnabled=t,g._id=s,g.wrapMode=10497,o.textures[o.textureCount++]=g,s++)),o.size+=p.size,l+=p.size,h=g._id,this.addColors(r,f.color,f.alpha,p.attribSize),this.addTextureIds(n,h,p.attribSize)}ae._globalBatch=t;for(var v=this.points,m=new ArrayBuffer(3*v.length*4),y=new Float32Array(m),_=new Uint32Array(m),A=0,b=0;b<v.length/2;b++)y[A++]=v[2*b],y[A++]=v[2*b+1],y[A++]=i[2*b],y[A++]=i[2*b+1],_[A++]=r[b],y[A++]=n[b];this._buffer.update(m),this._indexBuffer.update(this.indicesUint16)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];Pr[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=1/0,e=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n=null,o=0,s=0,a=0,h=0,u=0;u<this.graphicsData.length;u++){var c=this.graphicsData[u],l=c.type,d=c.lineStyle?c.lineStyle.width:0;if(n=c.shape,l===_t.RECT||l===_t.RREC)o=n.x-d/2,s=n.y-d/2,t=o<t?o:t,e=o+(a=n.width+d)>e?o+a:e,i=s<i?s:i,r=s+(h=n.height+d)>r?s+h:r;else if(l===_t.CIRC)o=n.x,s=n.y,t=o-(a=n.radius+d/2)<t?o-a:t,e=o+a>e?o+a:e,i=s-(h=n.radius+d/2)<i?s-h:i,r=s+h>r?s+h:r;else if(l===_t.ELIP)o=n.x,s=n.y,t=o-(a=n.width+d/2)<t?o-a:t,e=o+a>e?o+a:e,i=s-(h=n.height+d/2)<i?s-h:i,r=s+h>r?s+h:r;else for(var p=n.points,f=0,g=0,v=0,m=0,y=0,_=0,x=0,A=0,b=0;b+2<p.length;b+=2)o=p[b],s=p[b+1],f=p[b+2],g=p[b+3],v=Math.abs(f-o),m=Math.abs(g-s),h=d,(a=Math.sqrt(v*v+m*m))<1e-9||(t=(x=(f+o)/2)-(y=(h/a*m+v)/2)<t?x-y:t,e=x+y>e?x+y:e,i=(A=(g+s)/2)-(_=(h/a*v+m)/2)<i?A-_:i,r=A+_>r?A+_:r)}else t=0,e=0,i=0,r=0;var w=this.boundsPadding;this._bounds.minX=t-w,this._bounds.maxX=e+w,this._bounds.minY=i-w,this._bounds.maxY=r+w},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r){for(var n=X((e>>16)+(65280&e)+((255&e)<<16),i);r-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,r,n,o){for(var s=0,a=e.length,h=i.frame;s<n;){var u=t[2*(r+s)],c=t[2*(r+s)+1];if(o){var l=o.a*u+o.c*c+o.tx;c=o.b*u+o.d*c+o.ty,u=l}s++,e.push(u/h.width,c/h.height)}var d=i.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,i,a,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,o=i+2*r,s=e.frame,a=s.width/n.width,h=s.height/n.height,u=s.x/s.width,c=s.y/s.height,l=Math.floor(t[i]+1e-6),d=Math.floor(t[i+1]+1e-6),p=i+2;p<o;p+=2)l=Math.min(l,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=l,c-=d;for(var f=i;f<o;f+=2)t[f]=(t[f]+u)*a,t[f+1]=(t[f+1]+c)*h},Object.defineProperties(e.prototype,i),e}(Ki);Dr.BATCHABLE_SIZE=100;var Mr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(_r),Rr=function(){};Rr.curveLength=function(t,e,i,r,n,o,s,a){for(var h=0,u=0,c=0,l=0,d=0,p=0,f=0,g=0,v=0,m=0,y=0,_=t,x=e,A=1;A<=10;++A)m=_-(g=(f=(p=(d=1-(u=A/10))*d)*d)*t+3*p*u*i+3*d*(c=u*u)*n+(l=c*u)*s),y=x-(v=f*e+3*p*u*r+3*d*c*o+l*a),_=g,x=v,h+=Math.sqrt(m*m+y*y);return h},Rr.curveTo=function(t,e,i,r,n,o,s){var a=s[s.length-2],h=s[s.length-1];s.length-=2;var u=yr._segmentsCount(Rr.curveLength(a,h,t,e,i,r,n,o)),c=0,l=0,d=0,p=0,f=0;s.push(a,h);for(var g=1,v=0;g<=u;++g)d=(l=(c=1-(v=g/u))*c)*c,f=(p=v*v)*v,s.push(d*a+3*l*v*t+3*c*p*i+f*n,d*h+3*l*v*e+3*c*p*r+f*o)};var Br=function(){};Br.curveLength=function(t,e,i,r,n,o){var s=t-2*i+n,a=e-2*r+o,h=2*i-2*t,u=2*r-2*e,c=4*(s*s+a*a),l=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(c+l+d),f=Math.sqrt(c),g=2*c*f,v=2*Math.sqrt(d),m=l/f;return(g*p+f*l*(p-v)+(4*d*c-l*l)*Math.log((2*f+m+p)/(m+v)))/(4*g)},Br.curveTo=function(t,e,i,r,n){for(var o=n[n.length-2],s=n[n.length-1],a=yr._segmentsCount(Br.curveLength(o,s,t,e,i,r)),h=0,u=0,c=1;c<=a;++c){var l=c/a;h=o+(t-o)*l,u=s+(e-s)*l,n.push(h+(t+(i-t)*l-h)*l,u+(e+(r-e)*l-u)*l)}};var kr=function(){};kr.curveTo=function(t,e,i,r,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=r-e,c=i-t,l=Math.abs(a*c-h*u);if(l<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+c*c,f=a*u+h*c,g=n*Math.sqrt(d)/l,v=n*Math.sqrt(p)/l,m=g*f/d,y=v*f/p,_=g*c+v*h,x=g*u+v*a,A=h*(v+m),b=a*(v+m),w=c*(g+y),E=u*(g+y);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(b-x,A-_),endAngle:Math.atan2(E-x,w-_),anticlockwise:h*u>c*a}},kr.arc=function(t,e,i,r,n,o,s,a,h){for(var u=s-o,c=yr._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/vt)),l=u/(2*c),d=2*l,p=Math.cos(l),f=Math.sin(l),g=c-1,v=g%1/g,m=0;m<=g;++m){var y=l+o+d*(m+v*m),_=Math.cos(y),x=-Math.sin(y);h.push((p*_+f*x)*n+i,(p*-x+f*_)*n+r)}};var Nr=function(t){function e(e,i,r,n,o,s){o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*r,u=vt/h,c=[],l=0;l<h;l++){var d=l%2?o:n,p=l*u+a;c.push(e+d*Math.cos(p),i+d*Math.sin(p))}t.call(this,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ft),Fr=new Float32Array(3),Lr=null,Ur=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new Dr,this.geometry.refCount++,this.shader=null,this.state=yi.for2d(),this._fillStyle=new _r,this._lineStyle=new Mr,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.tint=16777215,this.blendMode=_.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t},i.fill.get=function(){return this._fillStyle},i.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t,e,i,r,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,Ae.WHITE,e,i,null,r,n),this},e.prototype.lineTextureStyle=function(t,e,i,r,n,o,s){void 0===t&&(t=0),void 0===e&&(e=Ae.WHITE),void 0===i&&(i=16777215),void 0===r&&(r=1),void 0===n&&(n=null),void 0===o&&(o=.5),void 0===s&&(s=!1),this.currentPath&&this.startPoly();var a=t>0&&r>0;return a?(n&&(n=n.clone()).invert(),Object.assign(this._lineStyle,{color:i,width:t,alpha:r,matrix:n,texture:e,alignment:o,native:s,visible:a})):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ft,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ft,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Br.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,o){return this._initCurve(),Rr.curveTo(t,e,i,r,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var o=this.currentPath.points,s=kr.curveTo(t,e,i,r,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,c=s.startAngle,l=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,c,l,d)}return this},e.prototype.arc=function(t,e,i,r,n,o){if(void 0===o&&(o=!1),r===n)return this;if(!o&&n<=r?n+=vt:o&&r<=n&&(r+=vt),0===n-r)return this;var s=t+Math.cos(r)*i,a=e+Math.sin(r)*i,h=this.currentPath?this.currentPath.points:null;if(h){var u=Math.abs(h[h.length-2]-s),c=Math.abs(h[h.length-1]-a);u<.001&&c<.001||h.push(s,a)}else this.moveTo(s,a),h=this.currentPath.points;return kr.arc(s,a,t,e,i,r,n,o,h),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill(Ae.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,i,r){void 0===t&&(t=Ae.WHITE),void 0===e&&(e=16777215),void 0===i&&(i=1),void 0===r&&(r=null),this.currentPath&&this.startPoly();var n=i>0;return n?(r&&(r=r.clone()).invert(),Object.assign(this._fillStyle,{color:e,alpha:i,texture:t,matrix:r,visible:n})):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new Mt(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new Lt(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new kt(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new Nt(t,e,i,r))},e.prototype.drawPolygon=function(t){var e=arguments,i=t,r=!0;if(i.points&&(r=i.closeStroke,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var n=0;n<i.length;++n)i[n]=e[n]}var o=new Ft(i);return o.closeStroke=r,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,i,r,n,o){return void 0===o&&(o=0),this.drawPolygon(new Nr(t,e,i,r,n,o))},e.prototype.clear=function(){return this.geometry.clear(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;if(e.updateBatches(),e.batchable){if(this.batchDirty!==e.batchDirty){this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.vertexData=new Float32Array(e.points);for(var i=this.blendMode,r=0;r<e.batches.length;r++){var n=e.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:k(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}}if(t.batch.setObjectRenderer(t.plugins.batch),this.batches.length){this.calculateVertices(),this.calculateTints();for(var u=0;u<this.batches.length;u++){var c=this.batches[u];c.worldAlpha=this.worldAlpha*c.alpha,t.plugins.batch.render(c)}}}else{if(t.batch.flush(),!this.shader){if(!Lr){for(var l=new Int32Array(16),d=0;d<16;d++)l[d]=d;var p={tint:new Float32Array([1,1,1,1]),translationMatrix:new xt,default:Ne.from({uSamplers:l},!0)},f=t.plugins.batch.shader.program;Lr=new vi(f,p)}this.shader=Lr}var g=this.shader.uniforms;g.translationMatrix=this.transform.worldTransform;var v=this.tint,m=this.worldAlpha;g.tint[0]=(v>>16&255)/255*m,g.tint[1]=(v>>8&255)/255*m,g.tint[2]=(255&v)/255*m,g.tint[3]=m,t.shader.bind(this.shader),t.geometry.bind(e,this.shader),t.state.setState(this.state);for(var y=0;y<e.drawCalls.length;y++){for(var _=e.drawCalls[y],x=_.textureCount,A=0;A<x;A++)t.texture.bind(_.textures[A],A);t.geometry.draw(_.type,_.size,_.start)}}},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry.bounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=k(this.tint,Fr),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,i=t.b,r=t.c,n=t.d,o=t.tx,s=t.ty,a=this.geometry.points,h=this.vertexData,u=0,c=0;c<a.length;c+=2){var l=a[c],d=a[c+1];h[u++]=e*l+r*d+o,h[u++]=n*d+i*l+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,i),e}(Xt);Ur._TEMP_POINT=new pt;
/*!
 * @pixi/sprite - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var jr=new pt,Hr=new Uint16Array([0,1,2,0,2,3]),Xr=function(t){function e(e){t.call(this),this._anchor=new ft(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=_.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||Ae.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Hr,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=c.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this._width&&(this.scale.x=Q(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Q(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,c=t.orig,l=this._anchor,d=0,p=0,f=0,g=0;if(u?(d=(p=u.x-l._x*c.width)+u.width,f=(g=u.y-l._y*c.height)+u.height):(d=(p=-l._x*c.width)+c.width,f=(g=-l._y*c.height)+c.height),h[0]=i*p+n*g+s,h[1]=o*g+r*p+a,h[2]=i*d+n*g+s,h[3]=o*g+r*d+a,h[4]=i*d+n*f+s,h[5]=o*f+r*d+a,h[6]=i*p+n*f+s,h[7]=o*f+r*p+a,this._roundPixels)for(var v=0;v<8;v++)h[v]=Math.round(h[v])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,c=n.ty,l=-r._x*i.width,d=l+i.width,p=-r._y*i.height,f=p+i.height;e[0]=o*l+a*p+u,e[1]=h*p+s*l+c,e[2]=o*d+a*p+u,e[3]=h*p+s*d+c,e[4]=o*d+a*f+u,e[5]=h*f+s*d+c,e[6]=o*l+a*f+u,e[7]=h*f+s*l+c},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Mt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,jr);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return jr.x>=r&&jr.x<r+e&&(n=-i*this.anchor.y,jr.y>=n&&jr.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t,i){return new e(t instanceof Ae?t:Ae.from(t,i))},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){var e=Q(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){var e=Q(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){this._anchor.copyFrom(t)},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},i.texture.get=function(){return this._texture},i.texture.set=function(t){this._texture!==t&&(this._texture=t||Ae.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,i),e}(Xt),zr={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Gr={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:zr.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Yr=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Wr=function(t){this.styleID=0,this.reset(),Jr(this,t,t)},Vr={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Qr(t){return"number"==typeof t?N(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function qr(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Qr(t[e]);return t}return Qr(t)}function Jr(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}Wr.prototype.clone=function(){var t={};return Jr(t,this,Gr),new Wr(t)},Wr.prototype.reset=function(){Jr(this,Gr,Gr)},Vr.align.get=function(){return this._align},Vr.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},Vr.breakWords.get=function(){return this._breakWords},Vr.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},Vr.dropShadow.get=function(){return this._dropShadow},Vr.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},Vr.dropShadowAlpha.get=function(){return this._dropShadowAlpha},Vr.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},Vr.dropShadowAngle.get=function(){return this._dropShadowAngle},Vr.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},Vr.dropShadowBlur.get=function(){return this._dropShadowBlur},Vr.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},Vr.dropShadowColor.get=function(){return this._dropShadowColor},Vr.dropShadowColor.set=function(t){var e=qr(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},Vr.dropShadowDistance.get=function(){return this._dropShadowDistance},Vr.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},Vr.fill.get=function(){return this._fill},Vr.fill.set=function(t){var e=qr(t);this._fill!==e&&(this._fill=e,this.styleID++)},Vr.fillGradientType.get=function(){return this._fillGradientType},Vr.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},Vr.fillGradientStops.get=function(){return this._fillGradientStops},Vr.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},Vr.fontFamily.get=function(){return this._fontFamily},Vr.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},Vr.fontSize.get=function(){return this._fontSize},Vr.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},Vr.fontStyle.get=function(){return this._fontStyle},Vr.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},Vr.fontVariant.get=function(){return this._fontVariant},Vr.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},Vr.fontWeight.get=function(){return this._fontWeight},Vr.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},Vr.letterSpacing.get=function(){return this._letterSpacing},Vr.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},Vr.lineHeight.get=function(){return this._lineHeight},Vr.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},Vr.leading.get=function(){return this._leading},Vr.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},Vr.lineJoin.get=function(){return this._lineJoin},Vr.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},Vr.miterLimit.get=function(){return this._miterLimit},Vr.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},Vr.padding.get=function(){return this._padding},Vr.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},Vr.stroke.get=function(){return this._stroke},Vr.stroke.set=function(t){var e=qr(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},Vr.strokeThickness.get=function(){return this._strokeThickness},Vr.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},Vr.textBaseline.get=function(){return this._textBaseline},Vr.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},Vr.trim.get=function(){return this._trim},Vr.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},Vr.whiteSpace.get=function(){return this._whiteSpace},Vr.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},Vr.wordWrap.get=function(){return this._wordWrap},Vr.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},Vr.wordWrapWidth.get=function(){return this._wordWrapWidth},Vr.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Wr.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Yr.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Wr.prototype,Vr);var $r=function(t,e,i,r,n,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h};$r.measureText=function(t,e,i,r){void 0===r&&(r=$r._canvas),i=null==i?e.wordWrap:i;var n=e.toFontString(),o=$r.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=r.getContext("2d");s.font=n;for(var a=(i?$r.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,c=0;c<a.length;c++){var l=s.measureText(a[c]).width+(a[c].length-1)*e.letterSpacing;h[c]=l,u=Math.max(u,l)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new $r(t,e,d,f,a,h,p+e.leading,u,o)},$r.wordWrap=function(t,e,i){void 0===i&&(i=$r._canvas);for(var r=i.getContext("2d"),n=0,o="",s="",a={},h=e.letterSpacing,u=e.whiteSpace,c=$r.collapseSpaces(u),l=$r.collapseNewlines(u),d=!c,p=e.wordWrapWidth+h,f=$r.tokenize(t),g=0;g<f.length;g++){var v=f[g];if($r.isNewline(v)){if(!l){s+=$r.addLine(o),d=!c,o="",n=0;continue}v=" "}if(c){var m=$r.isBreakingSpace(v),y=$r.isBreakingSpace(o[o.length-1]);if(m&&y)continue}var _=$r.getFromCache(v,h,a,r);if(_>p)if(""!==o&&(s+=$r.addLine(o),o="",n=0),$r.canBreakWords(v,e.breakWords))for(var x=v.split(""),A=0;A<x.length;A++){for(var b=x[A],w=1;x[A+w];){var E=x[A+w],T=b[b.length-1];if($r.canBreakChars(T,E,v,A,e.breakWords))break;b+=E,w++}A+=b.length-1;var S=$r.getFromCache(b,h,a,r);S+n>p&&(s+=$r.addLine(o),d=!1,o="",n=0),o+=b,n+=S}else{o.length>0&&(s+=$r.addLine(o),o="",n=0);var C=g===f.length-1;s+=$r.addLine(v,!C),d=!1,o="",n=0}else _+n>p&&(d=!1,s+=$r.addLine(o),o="",n=0),(o.length>0||!$r.isBreakingSpace(v)||d)&&(o+=v,n+=_)}return s+=$r.addLine(o,!1)},$r.addLine=function(t,e){return void 0===e&&(e=!0),t=$r.trimRight(t),t=e?t+"\n":t},$r.getFromCache=function(t,e,i,r){var n=i[t];if(void 0===n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},$r.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},$r.collapseNewlines=function(t){return"normal"===t},$r.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var i=t[e];if(!$r.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},$r.isNewline=function(t){return"string"==typeof t&&$r._newlines.indexOf(t.charCodeAt(0))>=0},$r.isBreakingSpace=function(t){return"string"==typeof t&&$r._breakingSpaces.indexOf(t.charCodeAt(0))>=0},$r.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var n=t[r];$r.isBreakingSpace(n)||$r.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e},$r.canBreakWords=function(t,e){return e},$r.canBreakChars=function(t,e,i,r,n){return!0},$r.measureFont=function(t){if($r._fonts[t])return $r._fonts[t];var e={},i=$r._canvas,r=$r._context;r.font=t;var n=$r.METRICS_STRING+$r.BASELINE_SYMBOL,o=Math.ceil(r.measureText(n).width),s=Math.ceil(r.measureText($r.BASELINE_SYMBOL).width),a=2*s;s=s*$r.BASELINE_MULTIPLIER|0,i.width=o,i.height=a,r.fillStyle="#f00",r.fillRect(0,0,o,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,s);var h=r.getImageData(0,0,o,a).data,u=h.length,c=4*o,l=0,d=0,p=!1;for(l=0;l<s;++l){for(var f=0;f<c;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=c}for(e.ascent=s-l,d=u-c,p=!1,l=a;l>s;--l){for(var g=0;g<c;g+=4)if(255!==h[d+g]){p=!0;break}if(p)break;d-=c}return e.descent=l-s,e.fontSize=e.ascent+e.descent,$r._fonts[t]=e,e},$r.clearMetrics=function(t){void 0===t&&(t=""),t?delete $r._fonts[t]:$r._fonts={}};var Kr=document.createElement("canvas");Kr.width=Kr.height=10,$r._canvas=Kr,$r._context=Kr.getContext("2d"),$r._fonts={},$r.METRICS_STRING="|ÃqÃ",$r.BASELINE_SYMBOL="M",$r.BASELINE_MULTIPLIER=1.4,$r._newlines=[10,13],$r._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Zr={texture:!0,children:!1,baseTexture:!0},tn=function(t){function e(e,i,r){(r=r||document.createElement("canvas")).width=3,r.height=3;var n=Ae.from(r);n.orig=new Mt,n.trim=new Mt,t.call(this,n),this.canvas=r,this.context=this.canvas.getContext("2d"),this._resolution=c.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=i,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,o=$r.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,c=o.lineWidths,l=o.maxLineWidth,d=o.fontProperties;if(this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,e.dropShadow){var p=e.dropShadowColor,f=k("number"==typeof p?p:F(p));n.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance}else n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;n.fillStyle=this._generateFillStyle(e,h);for(var g=0;g<h.length;g++)i=e.strokeThickness/2,r=e.strokeThickness/2+g*u+d.ascent,"right"===e.align?i+=l-c[g]:"center"===e.align&&(i+=(l-c[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[g],i+e.padding,r+e.padding,!0),e.fill&&this.drawLetterSpacing(h[g],i+e.padding,r+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=0;a<s.length;++a){var h=s[a];r?this.context.strokeText(h,o,i):this.context.fillText(h,o,i),o+=this.context.measureText(h).width+n}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=rt(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;i.trim.width=i._frame.width=t.width/this._resolution,i.trim.height=i._frame.height=t.height/this._resolution,i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype.render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.render.call(this,e)},e.prototype._renderCanvas=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;var i,r,n,o,s=this.canvas.width/this._resolution,a=this.canvas.height/this._resolution,h=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var c=h.length+1,l=1;l<c;++l)u.push(l/c);if(h.unshift(t.fill[0]),u.unshift(0),h.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===zr.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,0,s/2,a),r=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)o="number"==typeof u[p]?u[p]/e.length+d/e.length:n/r,i.addColorStop(o,h[p]),n++}}else{i=this.context.createLinearGradient(0,a/2,s,a/2),r=h.length+1,n=1;for(var f=0;f<h.length;f++)o="number"==typeof u[f]?u[f]:n/r,i.addColorStop(o,h[f]),n++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Zr,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){this.updateText(!0);var e=Q(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){this.updateText(!0);var e=Q(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.style.get=function(){return this._style},i.style.set=function(t){t=t||{},this._style=t instanceof Wr?t:new Wr(t),this.localStyleID=-1,this.dirty=!0},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.resolution.get=function(){return this._resolution},i.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,i),e}(Xr);
/*!
 * @pixi/prepare - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
c.UPLOADS_PER_FRAME=4;var en=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};en.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},en.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var rn=function(t){var e=this;this.limiter=new en(c.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(un),this.registerFindHook(cn),this.registerFindHook(nn),this.registerFindHook(on),this.registerFindHook(sn),this.registerUploadHook(an),this.registerUploadHook(hn)};function nn(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof Ae){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function on(t,e){return t instanceof ae&&(-1===e.indexOf(t)&&e.push(t),!0)}function sn(t,e){if(t._texture&&t._texture instanceof Ae){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function an(t,e){return e instanceof tn&&(e.updateText(!0),!0)}function hn(t,e){if(e instanceof Wr){var i=e.toFontString();return $r.measureFont(i),!0}return!1}function un(t,e){if(t instanceof tn){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function cn(t,e){return t instanceof Wr&&(-1===e.indexOf(t)&&e.push(t),!0)}rn.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,qt.system.addOnce(this.tick,this,Vt.UTILITY))):e&&e()},rn.prototype.tick=function(){setTimeout(this.delayedTick,0)},rn.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)qt.system.addOnce(this.tick,this,Vt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,s=n.length;o<s;o++)n[o]()}},rn.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},rn.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},rn.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Xt)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},rn.prototype.destroy=function(){this.ticking&&qt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var ln=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(fn),this.registerUploadHook(dn),this.registerUploadHook(pn)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(rn);function dn(t,e){return e instanceof ae&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function pn(t,e){return e instanceof Ur&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function fn(t,e){return t instanceof Ur&&(e.push(t),!0)}var gn=function(t){this.maxMilliseconds=t,this.frameStart=0};gn.prototype.beginFrame=function(){this.frameStart=Date.now()},gn.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};
/*!
 * @pixi/app - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var vn=function t(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Qi(e),this.stage=new Xt,t._plugins.forEach(function(t){t.init.call(i,e)})},mn={view:{configurable:!0},screen:{configurable:!0}};vn.registerPlugin=function(t){vn._plugins.push(t)},vn.prototype.render=function(){this.renderer.render(this.stage)},mn.view.get=function(){return this.renderer.view},mn.screen.get=function(){return this.renderer.screen},vn.prototype.destroy=function(t){var e=this,i=vn._plugins.slice(0);i.reverse(),i.forEach(function(t){t.destroy.call(e)}),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(vn.prototype,mn),vn._plugins=[];var yn=function(){};yn.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},yn.destroy=function(){this.resizeTo=null,this.resize=null},vn.registerPlugin(yn);var _n=i(5),xn=i.n(_n);
/*!
 * @pixi/loaders - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function An(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bn(t,e){return t(e={exports:{}},e.exports),e.exports}var wn=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n},En=bn(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,i,n){void 0===i&&(i=!1),r(this,t),this._fn=e,this._once=i,this._thisArg=n,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){r(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=arguments,e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,t),e=e._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default});An(En);var Tn=bn(function(t,e){e.__esModule=!0,e.Resource=void 0;var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),r=o(wn),n=o(En);function o(t){return t&&t.__esModule?t:{default:t}}var s=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),a=null;function h(){}var u=e.Resource=function(){function t(e,i,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new n.default,this.onProgress=new n.default,this.onComplete=new n.default,this.onAfterMiddleware=new n.default}return t.setExtensionLoadType=function(e,i){c(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){c(t._xhrTypeMap,e,i)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(i)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(l(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(l(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(l(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,a||(a=document.createElement("a")),a.href=t;var i=!(t=(0,r.default)(a.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function l(t){return t.toString().replace("object ","")}u.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},u.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},u.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},u.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},u._loadTypeMap={gif:u.LOAD_TYPE.IMAGE,png:u.LOAD_TYPE.IMAGE,bmp:u.LOAD_TYPE.IMAGE,jpg:u.LOAD_TYPE.IMAGE,jpeg:u.LOAD_TYPE.IMAGE,tif:u.LOAD_TYPE.IMAGE,tiff:u.LOAD_TYPE.IMAGE,webp:u.LOAD_TYPE.IMAGE,tga:u.LOAD_TYPE.IMAGE,svg:u.LOAD_TYPE.IMAGE,"svg+xml":u.LOAD_TYPE.IMAGE,mp3:u.LOAD_TYPE.AUDIO,ogg:u.LOAD_TYPE.AUDIO,wav:u.LOAD_TYPE.AUDIO,mp4:u.LOAD_TYPE.VIDEO,webm:u.LOAD_TYPE.VIDEO},u._xhrTypeMap={xhtml:u.XHR_RESPONSE_TYPE.DOCUMENT,html:u.XHR_RESPONSE_TYPE.DOCUMENT,htm:u.XHR_RESPONSE_TYPE.DOCUMENT,xml:u.XHR_RESPONSE_TYPE.DOCUMENT,tmx:u.XHR_RESPONSE_TYPE.DOCUMENT,svg:u.XHR_RESPONSE_TYPE.DOCUMENT,tsx:u.XHR_RESPONSE_TYPE.DOCUMENT,gif:u.XHR_RESPONSE_TYPE.BLOB,png:u.XHR_RESPONSE_TYPE.BLOB,bmp:u.XHR_RESPONSE_TYPE.BLOB,jpg:u.XHR_RESPONSE_TYPE.BLOB,jpeg:u.XHR_RESPONSE_TYPE.BLOB,tif:u.XHR_RESPONSE_TYPE.BLOB,tiff:u.XHR_RESPONSE_TYPE.BLOB,webp:u.XHR_RESPONSE_TYPE.BLOB,tga:u.XHR_RESPONSE_TYPE.BLOB,json:u.XHR_RESPONSE_TYPE.JSON,text:u.XHR_RESPONSE_TYPE.TEXT,txt:u.XHR_RESPONSE_TYPE.TEXT,ttf:u.XHR_RESPONSE_TYPE.BUFFER,otf:u.XHR_RESPONSE_TYPE.BUFFER},u.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=u});An(Tn);Tn.Resource;var Sn=bn(function(t,e){e.__esModule=!0,e.encodeBinary=r;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=255&t.charCodeAt(r++):n[s]=0;switch(o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2],r-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=i.charAt(o[a])}return e}t.exports.default=r});An(Sn);Sn.encodeBinary;var Cn=bn(function(t,e){e.__esModule=!0,e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===Tn.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=i.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Tn.Resource.TYPE.IMAGE,void(t.data.onload=function(){i.revokeObjectURL(r),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+(0,Sn.encodeBinary)(t.xhr.responseText),t.type=Tn.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var i=window.URL||window.webkitURL});An(Cn);var In=Cn.blobMiddlewareFactory,Pn=function(){};Pn.use=function(t,e){t.data&&t.type===_n.Resource.TYPE.IMAGE&&(t.texture=Ae.fromLoader(t.data,t.url,t.name)),e()};var On=function(t){function e(i,r){var n=this;t.call(this,i,r),d.a.call(this);for(var o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&this.pre(a),h&&this.use(h)}this.onStart.add(function(t){return n.emit("start",t)}),this.onProgress.add(function(t,e){return n.emit("progress",t,e)}),this.onError.add(function(t,e,i){return n.emit("error",t,e,i)}),this.onLoad.add(function(t,e){return n.emit("load",t,e)}),this.onComplete.add(function(t,e){return n.emit("complete",t,e)}),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},i.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,i),e}(xn.a);Object.assign(On.prototype,d.a.prototype),On._plugins=[],On.registerPlugin=function(t){return On._plugins.push(t),t.add&&t.add(),On},On.registerPlugin({use:In()}),On.registerPlugin(Pn);var Dn=function(){};Dn.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?On.shared:new On},Dn.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Mn=_n.Resource,Rn=function(t){function e(e,i,r,n){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===n&&(n=!1),t.call(this);r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=_.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(i),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,k(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,i),e}(Xt),Bn=function(t,e,i){this.geometry=new Me,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n=t[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||w.FLOAT,offset:n.offset},e[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};
/*!
 * @pixi/particles - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Bn.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Se(G(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var r=this.dynamicProperties[i];r.offset=e,e+=r.size,this.dynamicStride+=r.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Se(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new Se(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var c=this.dynamicProperties[u];t.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===w.UNSIGNED_BYTE,c.type,4*this.dynamicStride,4*c.offset)}for(var l=0;l<this.staticProperties.length;++l){var d=this.staticProperties[l];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===w.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},Bn.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===w.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},Bn.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===w.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},Bn.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var kn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",Nn="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Fn=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new xt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:w.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=vi.from(kn,Nn,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>i&&!t.autoResize&&(o=i);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(j(t.blendMode,a.premultiplyAlpha));var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=H(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultiplyAlpha),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var c=!1,l=0,d=0;l<o;l+=r,d+=1){var p=o-l;p>r&&(p=r),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,l,p);var g=t._bufferUpdateIDs[d]||0;(c=c||f._updateID<g)&&(f._updateID=t._updateID,f.uploadStatic(e,l,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,o=0;o<i;o+=r)e.push(new Bn(this.properties,n,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new Bn(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,r,n,o){for(var s=0,a=0,h=0,u=0,c=0;c<i;++c){var l=t[e+c],d=l._texture,p=l.scale.x,f=l.scale.y,g=d.trim,v=d.orig;g?(s=(a=g.x-l.anchor.x*v.width)+g.width,h=(u=g.y-l.anchor.y*v.height)+g.height):(s=v.width*(1-l.anchor.x),a=v.width*-l.anchor.x,h=v.height*(1-l.anchor.y),u=v.height*-l.anchor.y),r[o]=a*p,r[o+1]=u*f,r[o+n]=s*p,r[o+n+1]=u*f,r[o+2*n]=s*p,r[o+2*n+1]=h*f,r[o+3*n]=a*p,r[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+n]=a.x,r[o+n+1]=a.y,r[o+2*n]=a.x,r[o+2*n+1]=a.y,r[o+3*n]=a.x,r[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;r[o]=a,r[o+n]=a,r[o+2*n]=a,r[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+n]=a.x1,r[o+n+1]=a.y1,r[o+2*n]=a.x2,r[o+2*n+1]=a.y2,r[o+3*n]=a.x3,r[o+3*n+1]=a.y3,o+=4*n):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s],h=a._texture.baseTexture.premultiplyAlpha,u=a.alpha,c=u<1&&h?X(a._tintRGB,u):a._tintRGB+(255*u<<24);r[o]=c,r[o+n]=c,r[o+2*n]=c,r[o+3*n]=c,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Ue),Ln=function(t,e,i){void 0===i&&(i=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(i||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},Un={BATCH_SIZE:{configurable:!0}};Un.BATCH_SIZE.get=function(){return 1e3},Ln.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=ct(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},Ln.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=Ln.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},Ln.prototype._processFrames=function(t){for(var e=t,i=Ln.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],n=this._frames[r],o=n.frame;if(o){var s=null,a=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,u=new Mt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=n.rotated?new Mt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Mt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new Mt(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new Ae(this.baseTexture,s,u,a,n.rotated?2:0,n.anchor),Ae.addToCache(this.textures[r],r)}e++}},Ln.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var r=t[e][i];this.animations[e].push(this.textures[r])}}},Ln.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},Ln.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*Ln.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*Ln.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},Ln.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(Ln,Un);var jn=function(){};jn.use=function(t,e){var i=t.name+"_image";if(t.data&&t.type===Mn.TYPE.JSON&&t.data.frames&&!this.resources[i]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=jn.getResourcePath(t,this.baseUrl);this.add(i,n,r,function(i){if(i.error)e(i.error);else{var r=new Ln(i.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()},jn.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:v.a.resolve(t.url.replace(e,""),t.data.meta.image)};
/*!
 * @pixi/sprite-tiling - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Hn=new pt,Xn=function(t){function e(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100),t.call(this,e),this.tileTransform=new Ot,this._width=i,this._height=r,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new Ei(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return i.clampMargin.get=function(){return this.uvMatrix.clampMargin},i.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},i.tileScale.get=function(){return this.tileTransform.scale},i.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},i.tilePosition.get=function(){return this.tileTransform.position},i.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Mt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Hn);var e=this._width,i=this._height,r=-e*this.anchor._x;if(Hn.x>=r&&Hn.x<r+e){var n=-i*this.anchor._y;if(Hn.y>=n&&Hn.y<n+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,i,r){return new e(Ae.from(t),i,r)},e.fromFrame=function(t,i,r){var n=Z[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,i,r)},e.fromImage=function(t,i,r,n){return n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(Ae.from(t,n),i,r)},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,i),e}(Xr),zn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Gn="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",Yn="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",Wn=new xt,Vn=function(t){function e(e){t.call(this,e);var i={globals:this.renderer.globalUniforms};this.shader=vi.from(zn,Gn,i),this.simpleShader=vi.from(zn,Yn,i),this.quad=new Be}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==T.CLAMP:o.wrapMode===T.CLAMP&&(o.wrapMode=T.REPEAT));var u=h?this.simpleShader:this.shader,c=n.width,l=n.height,d=t._width,p=t._height;Wn.set(s.a*c/d,s.b*c/p,s.c*l/d,s.d*l/p,s.tx/d,s.ty/p),Wn.invert(),h?Wn.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=Wn.toArray(!0),u.uniforms.uColor=z(t.tint,t.worldAlpha,u.uniforms.uColor,o.premultiplyAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(i),e.state.setBlendMode(j(t.blendMode,o.premultiplyAlpha)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Ue),Qn=function(t){function e(e,i){var r=this;void 0===i&&(i={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new ft(function(){r.dirty=!0},this,0,0),this.dirty=!1,this.roundPixels=c.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,r=new pt,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*t.size/this._font.size,u=null,c=0,l=0,d=0,p=-1,f=0,g=0,v=0,m=0;m<a;m++){var y=s.charCodeAt(m),_=s.charAt(m);if(/(?:\s)/.test(_)&&(p=m,f=c),"\r"!==_&&"\n"!==_){var x=t.chars[y];x&&(u&&x.kerning[u]&&(r.x+=x.kerning[u]),n.push({texture:x.texture,line:d,charCode:y,position:new pt(r.x+x.xOffset+this._letterSpacing/2,r.y+x.yOffset)}),r.x+=x.xAdvance+this._letterSpacing,c=r.x,v=Math.max(v,x.yOffset+x.texture.height),u=y,-1!==p&&h>0&&r.x>h&&(Y(n,1+p-++g,1+m-p),m=p,p=-1,o.push(f),l=Math.max(l,f),d++,r.x=0,r.y+=t.lineHeight,u=null))}else o.push(c),l=Math.max(l,c),++d,++g,r.x=0,r.y+=t.lineHeight,u=null}var A=s.charAt(s.length-1);"\r"!==A&&"\n"!==A&&(/(?:\s)/.test(A)&&(c=f),o.push(c),l=Math.max(l,c));for(var b=[],w=0;w<=d;w++){var E=0;"right"===this._font.align?E=l-o[w]:"center"===this._font.align&&(E=(l-o[w])/2),b.push(E)}for(var T=n.length,S=this.tint,C=0;C<T;C++){var I=this._glyphs[C];I?I.texture=n[C].texture:((I=new Xr(n[C].texture)).roundPixels=this.roundPixels,this._glyphs.push(I)),I.position.x=(n[C].position.x+b[n[C].line])*i,I.position.y=n[C].position.y*i,I.scale.x=I.scale.y=i,I.tint=S,I.parent||this.addChild(I)}for(var P=T;P<this._glyphs.length;++P)this.removeChild(this._glyphs[P]);if(this._textWidth=l*i,this._textHeight=(r.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var O=0;O<T;O++)this._glyphs[O].x-=this._textWidth*this.anchor.x,this._glyphs[O].y-=this._textHeight*this.anchor.y;this._maxLineHeight=v*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.tint.get=function(){return this._font.tint},i.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},i.align.get=function(){return this._font.align},i.align.set=function(t){this._font.align=t||"left",this.dirty=!0},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},i.font.get=function(){return this._font},i.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.maxWidth.get=function(){return this._maxWidth},i.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},i.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},i.textWidth.get=function(){return this.validate(),this._textWidth},i.letterSpacing.get=function(){return this._letterSpacing},i.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},i.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,i){var r={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=ct(s[0].getAttribute("file"),c.RESOLUTION),h={};r.font=n.getAttribute("face"),r.size=parseInt(n.getAttribute("size"),10),r.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,r.chars={},i instanceof Ae&&(i=[i]);for(var u=0;u<s.length;u++){var l=s[u].getAttribute("id"),d=s[u].getAttribute("file");h[l]=i instanceof Array?i[u]:i[d]}for(var p=t.getElementsByTagName("char"),f=0;f<p.length;f++){var g=p[f],v=parseInt(g.getAttribute("id"),10),m=g.getAttribute("page")||0,y=new Mt(parseInt(g.getAttribute("x"),10)/a+h[m].frame.x/a,parseInt(g.getAttribute("y"),10)/a+h[m].frame.y/a,parseInt(g.getAttribute("width"),10)/a,parseInt(g.getAttribute("height"),10)/a);r.chars[v]={xOffset:parseInt(g.getAttribute("xoffset"),10)/a,yOffset:parseInt(g.getAttribute("yoffset"),10)/a,xAdvance:parseInt(g.getAttribute("xadvance"),10)/a,kerning:{},texture:new Ae(h[m].baseTexture,y),page:m}}for(var _=t.getElementsByTagName("kerning"),x=0;x<_.length;x++){var A=_[x],b=parseInt(A.getAttribute("first"),10)/a,w=parseInt(A.getAttribute("second"),10)/a,E=parseInt(A.getAttribute("amount"),10)/a;r.chars[w]&&(r.chars[w].kerning[b]=E)}return e.fonts[r.font]=r,r},Object.defineProperties(e.prototype,i),e}(Xt);Qn.fonts={};var qn=function(){};qn.parse=function(t,e){t.bitmapFont=Qn.registerFont(t.data,e)},qn.add=function(){Mn.setExtensionXhrType("fnt",Mn.XHR_RESPONSE_TYPE.DOCUMENT)},qn.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},qn.use=function(t,e){if(t.data&&t.type===Mn.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var i=t.isDataUrl?"":qn.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var r=t.data.getElementsByTagName("page"),n={},o=function(i){n[i.metadata.pageFile]=i.texture,Object.keys(n).length===r.length&&(qn.parse(t,n),e())},s=0;s<r.length;++s){var a=r[s].getAttribute("file"),h=i+a,u=!1;for(var c in this.resources){var l=this.resources[c];if(l.url===h){l.metadata.pageFile=a,l.texture?o(l):l.onAfterMiddleware.add(o),u=!0;break}}if(!u){var d={crossOrigin:t.crossOrigin,loadType:Mn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,d,o)}}}else e();else e()};
/*!
 * @pixi/filter-alpha - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Jn="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",$n=function(t){function e(e){void 0===e&&(e=1),t.call(this,qi,Jn,{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={alpha:{configurable:!0}};return i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(xi),Kn="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n    \n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n    \n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n    \n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var Zn={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},to=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var eo=function(t){function e(e,i,r,n,o){var s=function(t,e){var i,r=Math.ceil(t/2),n=Kn,o="";i=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=i.replace("%index%",s);o+=a=a.replace("%sampleIndex%",s-(r-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o=o||5,e),a=function(t){for(var e,i=Zn[t],r=i.length,n=to,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);e=s,s>=r&&(e=t-s-1),o+=a=a.replace("%value%",i[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o);t.call(this,s,a),this.horizontal=e,this.resolution=n||c.RESOLUTION,this._quality=0,this.quality=r||4,this.blur=i||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,!1);for(var h=1;h<this.passes-1;h++){o.renderTexture.bind(s,s.filterFrame),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,r),t.returnFilterTexture(n)}},i.blur.get=function(){return this.strength},i.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},i.quality.get=function(){return this._quality},i.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,i),e}(xi),io=function(t){function e(e,i,r,n){t.call(this),this.blurXFilter=new eo(!0,e,i,r,n),this.blurYFilter=new eo(!1,e,i,r,n),this.resolution=r||c.RESOLUTION,this.quality=i||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,!0),this.blurYFilter.apply(t,s,i,r),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,i,r):this.blurXFilter.apply(t,e,i,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},i.blur.get=function(){return this.blurXFilter.blur},i.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},i.quality.get=function(){return this.blurXFilter.quality},i.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},i.blurX.get=function(){return this.blurXFilter.blur},i.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},i.blurY.get=function(){return this.blurYFilter.blur},i.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},i.blendMode.get=function(){return this.blurYFilter.blendMode},i.blendMode.set=function(t){this.blurYFilter.blendMode=t},i.repeatEdgePixels.get=function(){return this._repeatEdgePixels},i.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,i),e}(xi),ro="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",no=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Ji,ro,e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[i+(1-i)*n,n*(1-i)-o*r,n*(1-i)+o*r,0,0,n*(1-i)+o*r,i+n*(1-i),n*(1-i)-o*r,0,0,n*(1-i)-o*r,n*(1-i)+o*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,r,n){var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,h=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,c=(255&r)/255,l=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,c,e=e||.15,0,o-h,s-u,a-c,0,0];this._loadMatrix(l,n)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i.matrix.get=function(){return this.uniforms.m},i.matrix.set=function(t){this.uniforms.m=t},i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(xi);no.prototype.grayscale=no.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var oo="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",so="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",ao=function(t){function e(e,i){var r=new xt;e.renderable=!1,t.call(this,oo,so,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,null==i&&(i=20),this.scale=new pt(i,i)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={map:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.transform.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,i,r)},i.map.get=function(){return this.uniforms.mapSampler},i.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,i),e}(xi),ho="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",uo='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',co=function(t){function e(){t.call(this,ho,uo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(xi),lo="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",po=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random()),t.call(this,Ji,lo,{uNoise:0,uSeed:0}),this.noise=e,this.seed=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={noise:{configurable:!0},seed:{configurable:!0}};return i.noise.get=function(){return this.uniforms.uNoise},i.noise.set=function(t){this.uniforms.uNoise=t},i.seed.get=function(){return this.uniforms.uSeed},i.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,i),e}(xi),fo=new xt;jt.prototype._cacheAsBitmap=!1,jt.prototype._cacheData=!1;var go=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(jt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new go),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),jt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},jt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds().clone();if(this.filters){var r=this.filters[0].padding;i.pad(r)}i.ceil(c.RESOLUTION);var n=t._activeRenderTarget,o=we.create(i.width,i.height),s="cacheAsBitmap_"+V();this._cacheData.textureCacheId=s,ae.addToCache(o.baseTexture,s),Ae.addToCache(o,s);var a=fo;a.tx=-i.x,a.ty=-i.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,o,!0,a,!0),t.renderTexture.bind(n),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new Xr(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-i.x/i.width,h.anchor.y=-i.y/i.height,h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},jt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},jt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var r=t.context;e.ceil(c.RESOLUTION);var n=we.create(e.width,e.height),o="cacheAsBitmap_"+V();this._cacheData.textureCacheId=o,ae.addToCache(n.baseTexture,o),Ae.addToCache(n,o);var s=fo;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var a=new Xr(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a.alpha=i,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a)}},jt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},jt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},jt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ae.removeFromCache(this._cacheData.textureCacheId),Ae.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},jt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
jt.prototype.name=null,Xt.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},
/*!
 * @pixi/mixin-get-global-position - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
jt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new pt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var vo=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};vo.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var mo=new pt,yo=new Ft,_o=function(t){function e(e,i,r,n){void 0===n&&(n=x.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=i,this.state=r||yi.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=_.NORMAL,this._roundPixels=c.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return i.uvBuffer.get=function(){return this.geometry.buffers[1]},i.verticesBuffer.get=function(){return this.geometry.buffers[0]},i.material.set=function(t){this.shader=t},i.material.get=function(){return this.shader},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.tint.get=function(){return this.shader.tint},i.tint.set=function(t){this.shader.tint=t},i.texture.get=function(){return this.shader.texture},i.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===x.TRIANGLES&&i.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.setState(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,n=i.b,o=i.c,s=i.d,a=i.tx,h=i.ty,u=this.vertexData,c=0;c<u.length/2;c++){var l=e[2*c],d=e[2*c+1];u[2*c]=r*l+o*d+a,u[2*c+1]=n*l+s*d+h}if(this._roundPixels)for(var p=0;p<u.length;p++)u[p]=Math.round(u[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new vo(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,mo);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=yo.points,r=this.geometry.getIndex().data,n=r.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*r[s],h=2*r[s+1],u=2*r[s+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[h],i[3]=e[h+1],i[4]=e[u],i[5]=e[u+1],yo.contains(mo.x,mo.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,i),e}(Xt);_o.BATCHABLE_SIZE=100;var xo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",Ao="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",bo=function(t){function e(e,i){var r={uSampler:e,alpha:1,uTextureMatrix:xt.IDENTITY,uColor:new Float32Array([1,1,1,1])};(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(r,i.uniforms),t.call(this,i.program||fi.from(xo,Ao),r),this._colorDirty=!1,this.uvMatrix=new Ei(e),this.batchable=void 0===i.program,this.pluginName=i.pluginName,this.tint=i.tint,this.alpha=i.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return i.texture.get=function(){return this.uniforms.uSampler},i.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},i.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},i.alpha.get=function(){return this._alpha},i.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},i.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;z(this._tint,this._alpha,this.uniforms.uColor,t.premultiplyAlpha)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,i),e}(vi),wo=function(t){function e(e,i,r){t.call(this);var n=new Se(e),o=new Se(i,!0),s=new Se(r,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,w.FLOAT).addAttribute("aTextureCoord",o,2,!1,w.FLOAT).addIndex(s),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertexDirtyId:{configurable:!0}};return i.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,i),e}(Me),Eo=function(t){function e(e,i,r,n){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===n&&(n=10),t.call(this),this.segWidth=r,this.segHeight=n,this.width=e,this.height=i,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,c=h/this.segWidth|0;e.push(u*s,c*a),i.push(u/n,c/o)}for(var l=n*o,d=0;d<l;d++){var p=d%n,f=d/n|0,g=f*this.segWidth+p,v=f*this.segWidth+p+1,m=(f+1)*this.segWidth+p,y=(f+1)*this.segWidth+p+1;r.push(g,v,m,v,y,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(wo),To=function(t){function e(e,i){void 0===e&&(e=200),t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1))),this.points=i,this.width=e,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,o=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=t.length,a=0;a<s;a++){var h=4*a,u=a/(s-1);n[h]=u,n[h+1]=0,n[h+2]=u,n[h+3]=1}for(var c=0,l=0;l<s-1;l++){var d=2*l;o[c++]=d,o[c++]=d+1,o[c++]=d+2,o[c++]=d+2,o[c++]=d+1,o[c++]=d+3}i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-i.x),r=e.y-i.y;var c=Math.sqrt(r*r+n*n),l=this.width/2;r/=c,n/=c,r*=l,n*=l,o[u]=h.x+r,o[u+1]=h.y+n,o[u+2]=h.x-r,o[u+3]=h.y-n,i=h}this.buffers[0].update()}},e.prototype.update=function(){this.updateVertices()},e}(wo),So=function(t){function e(e,i){var r=new To(e.height,i),n=new bo(e);t.call(this,r,n),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(_o),Co=function(t){function e(e,i,r){var n=new Eo(e.width,e.height,i,r),o=new bo(Ae.WHITE);t.call(this,n,o),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},i.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},i.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,i),e}(_o),Io=function(t){function e(e,i,r,n,o){void 0===e&&(e=Ae.EMPTY);var s=new wo(i,r,n);s.getBuffer("aVertexPosition").static=!1;var a=new bo(e);t.call(this,s,a,null,o),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertices:{configurable:!0}};return i.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},i.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,i),e}(_o),Po=10,Oo=function(t){function e(e,i,r,n,o){t.call(this,Ae.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==i?i:Po,this._rightWidth=void 0!==n?n:Po,this._topHeight=void 0!==r?r:Po,this._bottomHeight=void 0!==o?o:Po,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},i.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},i.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,i=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*i,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*i,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,i=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*i,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*i,t[6]=t[14]=t[22]=t[30]=this._width},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t,this._refresh()},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t,this._refresh()},i.leftWidth.get=function(){return this._leftWidth},i.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},i.rightWidth.get=function(){return this._rightWidth},i.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},i.topHeight.get=function(){return this._topHeight},i.topHeight.set=function(t){this._topHeight=t,this._refresh()},i.bottomHeight.get=function(){return this._bottomHeight},i.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,i),e}(Co),Do=function(t){function e(e,i){t.call(this,e[0]instanceof Ae?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==i,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&qt.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&qt.shared.add(this.update,this,Vt.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var i=[],r=0;r<t.length;++r)i.push(Ae.from(t[r]));return new e(i)},e.fromImages=function(t){for(var i=[],r=0;r<t.length;++r)i.push(Ae.from(t[r]));return new e(i)},i.totalFrames.get=function(){return this._textures.length},i.textures.get=function(){return this._textures},i.textures.set=function(t){if(t[0]instanceof Ae)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},i.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,i),e}(Xr);i.d(e,"VERSION",function(){return Bo}),i.d(e,"filters",function(){return ko}),i.d(e,"useDeprecated",function(){return Ro}),i.d(e,"accessibility",function(){return n}),i.d(e,"extract",function(){return o}),i.d(e,"interaction",function(){return s}),i.d(e,"prepare",function(){return a}),i.d(e,"utils",function(){return r}),i.d(e,"Application",function(){return vn}),i.d(e,"AbstractRenderer",function(){return Wi}),i.d(e,"Attribute",function(){return Ee}),i.d(e,"BaseRenderTexture",function(){return ye}),i.d(e,"BaseTexture",function(){return ae}),i.d(e,"BatchDrawCall",function(){return Zi}),i.d(e,"BatchGeometry",function(){return Ki}),i.d(e,"BatchRenderer",function(){return sr}),i.d(e,"Buffer",function(){return Se}),i.d(e,"CubeTexture",function(){return $i}),i.d(e,"Filter",function(){return xi}),i.d(e,"Framebuffer",function(){return ve}),i.d(e,"GLProgram",function(){return Mi}),i.d(e,"GLTexture",function(){return ae}),i.d(e,"Geometry",function(){return Me}),i.d(e,"ObjectRenderer",function(){return Ue}),i.d(e,"Program",function(){return fi}),i.d(e,"Quad",function(){return Re}),i.d(e,"QuadUv",function(){return Be}),i.d(e,"RenderTexture",function(){return we}),i.d(e,"Renderer",function(){return Vi}),i.d(e,"Shader",function(){return vi}),i.d(e,"SpriteMaskFilter",function(){return Si}),i.d(e,"State",function(){return yi}),i.d(e,"System",function(){return fe}),i.d(e,"Texture",function(){return Ae}),i.d(e,"TextureMatrix",function(){return Ei}),i.d(e,"TextureUvs",function(){return _e}),i.d(e,"UniformGroup",function(){return Ne}),i.d(e,"autoDetectRenderer",function(){return Qi}),i.d(e,"checkMaxIfStatementsInShader",function(){return ci}),i.d(e,"defaultFilterVertex",function(){return Ji}),i.d(e,"defaultVertex",function(){return qi}),i.d(e,"generateMultiTextureShader",function(){return or}),i.d(e,"resources",function(){return pe}),i.d(e,"systems",function(){return Gi}),i.d(e,"AppLoaderPlugin",function(){return Dn}),i.d(e,"Loader",function(){return On}),i.d(e,"LoaderResource",function(){return Mn}),i.d(e,"TextureLoader",function(){return Pn}),i.d(e,"ParticleContainer",function(){return Rn}),i.d(e,"ParticleRenderer",function(){return Fn}),i.d(e,"Spritesheet",function(){return Ln}),i.d(e,"SpritesheetLoader",function(){return jn}),i.d(e,"TilingSprite",function(){return Xn}),i.d(e,"TilingSpriteRenderer",function(){return Vn}),i.d(e,"BitmapFontLoader",function(){return qn}),i.d(e,"BitmapText",function(){return Qn}),i.d(e,"Ticker",function(){return qt}),i.d(e,"TickerPlugin",function(){return Kt}),i.d(e,"UPDATE_PRIORITY",function(){return Vt}),i.d(e,"BLEND_MODES",function(){return _}),i.d(e,"DRAW_MODES",function(){return x}),i.d(e,"ENV",function(){return m}),i.d(e,"FORMATS",function(){return A}),i.d(e,"GC_MODES",function(){return C}),i.d(e,"MIPMAP_MODES",function(){return S}),i.d(e,"PRECISION",function(){return I}),i.d(e,"RENDERER_TYPE",function(){return y}),i.d(e,"SCALE_MODES",function(){return E}),i.d(e,"TARGETS",function(){return b}),i.d(e,"TYPES",function(){return w}),i.d(e,"WRAP_MODES",function(){return T}),i.d(e,"Bounds",function(){return Ut}),i.d(e,"Container",function(){return Xt}),i.d(e,"DisplayObject",function(){return jt}),i.d(e,"FillStyle",function(){return _r}),i.d(e,"GRAPHICS_CURVES",function(){return yr}),i.d(e,"Graphics",function(){return Ur}),i.d(e,"GraphicsData",function(){return xr}),i.d(e,"GraphicsGeometry",function(){return Dr}),i.d(e,"LineStyle",function(){return Mr}),i.d(e,"Circle",function(){return kt}),i.d(e,"DEG_TO_RAD",function(){return yt}),i.d(e,"Ellipse",function(){return Nt}),i.d(e,"GroupD8",function(){return Pt}),i.d(e,"Matrix",function(){return xt}),i.d(e,"ObservablePoint",function(){return ft}),i.d(e,"PI_2",function(){return vt}),i.d(e,"Point",function(){return pt}),i.d(e,"Polygon",function(){return Ft}),i.d(e,"RAD_TO_DEG",function(){return mt}),i.d(e,"Rectangle",function(){return Mt}),i.d(e,"RoundedRectangle",function(){return Lt}),i.d(e,"SHAPES",function(){return _t}),i.d(e,"Transform",function(){return Ot}),i.d(e,"Mesh",function(){return _o}),i.d(e,"MeshBatchUvs",function(){return vo}),i.d(e,"MeshGeometry",function(){return wo}),i.d(e,"MeshMaterial",function(){return bo}),i.d(e,"NineSlicePlane",function(){return Oo}),i.d(e,"PlaneGeometry",function(){return Eo}),i.d(e,"RopeGeometry",function(){return To}),i.d(e,"SimpleMesh",function(){return Io}),i.d(e,"SimplePlane",function(){return Co}),i.d(e,"SimpleRope",function(){return So}),i.d(e,"Runner",function(){return Yt}),i.d(e,"Sprite",function(){return Xr}),i.d(e,"AnimatedSprite",function(){return Do}),i.d(e,"TEXT_GRADIENT",function(){return zr}),i.d(e,"Text",function(){return tn}),i.d(e,"TextMetrics",function(){return $r}),i.d(e,"TextStyle",function(){return Wr}),i.d(e,"isMobile",function(){return u.a}),i.d(e,"settings",function(){return c});
/*!
 * pixi.js - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Mo="5.0.0";function Ro(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return dt(Mo,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return dt(Mo,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return dt(Mo,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return dt(Mo,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return dt(Mo,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return dt(Mo,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return dt(Mo,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return dt(Mo,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return dt(Mo,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return dt(Mo,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return dt(Mo,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return dt(Mo,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return dt(Mo,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return dt(Mo,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return dt(Mo,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return dt(Mo,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return dt(Mo,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return dt(Mo,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return dt(Mo,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return dt(Mo,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return dt(Mo,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return dt(Mo,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return dt(Mo,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return dt(Mo,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return dt(Mo,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return dt(Mo,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return dt(Mo,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return dt(Mo,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return dt(Mo,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return dt(Mo,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return dt(Mo,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return dt(Mo,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return dt(Mo,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){dt(Mo,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){dt(Mo,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){dt(Mo,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){dt(Mo,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return dt(Mo,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){dt(Mo,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function(e){dt(Mo,"PIXI.BaseTexture.loadSource method has been deprecated");var i=t.resources.autoDetectResource(e);i.internal=!0,this.setResource(i),this.update()},Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return dt(Mo,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return dt(Mo,"PIXI.BaseTexture.imageUrl property has been removed, use resource.url"),this.resource&&this.resource.url}},source:{get:function(){return dt(Mo,"PIXI.BaseTexture.source property has been moved, use `resource.source`"),this.resource&&this.resource.source},set:function(t){dt(Mo,"PIXI.BaseTexture.source property has been moved, use `resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}}}),e.fromImage=function(t,i,r,n){dt(Mo,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:i};return e.from(t,{scaleMode:r,resourceOptions:o})},e.fromCanvas=function(t,i){return dt(Mo,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:i})},e.fromSVG=function(t,i,r,n){dt(Mo,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:i};return e.from(t,{scaleMode:r,resourceOptions:o})},t.Point.prototype.copy=function(t){return dt(Mo,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return dt(Mo,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return dt(Mo,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return dt(Mo,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return dt(Mo,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){dt(Mo,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){dt(Mo,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),i=this.activeState,r=i.sourceFrame,n=i.destinationFrame;return e.translate(r.x/n.width,r.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){dt(Mo,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,i=e.sourceFrame,r=e.destinationFrame,n=t.identity();n.translate(i.x/r.width,i.y/r.height);var o=r.width/i.width,s=r.height/i.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return dt(Mo,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return dt(Mo,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function e(e,i,r,n){dt(Mo,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,i,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),r=function(t){function e(e,i,r,n){dt(Mo,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,i,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:r});var n=t.Sprite,o=t.Texture,s=t.Graphics;function a(t,e,i,r){return dt(Mo,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),n.from(e,{resourceOptions:{scale:r,crossorigin:i}})}function h(t,e,i,r){return dt(Mo,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),o.from(e,{resourceOptions:{scale:r,crossorigin:i}})}s.prototype.generateCanvasTexture||(s.prototype.generateCanvasTexture=function(){dt(Mo,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),n.fromImage=a.bind(null,"fromImage"),n.fromSVG=a.bind(null,"fromSVG"),n.fromCanvas=a.bind(null,"fromCanvas"),n.fromVideo=a.bind(null,"fromVideo"),n.fromFrame=a.bind(null,"fromFrame"),o.fromImage=h.bind(null,"fromImage"),o.fromSVG=h.bind(null,"fromSVG"),o.fromCanvas=h.bind(null,"fromCanvas"),o.fromVideo=h.bind(null,"fromVideo"),o.fromFrame=h.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return dt(Mo,"PIXI.AbstractRenderer.autoResize property is deprecated, use autoDensity"),this.autoDensity},set:function(t){dt(Mo,"PIXI.AbstractRenderer.autoResize property is deprecated, use autoDensity"),this.autoDensity=t}}),t.utils.mixins={mixin:function(){dt(Mo,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){dt(Mo,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){dt(Mo,"PIXI.utils.mixins.performMixins function is no longer available")}}}Vi.registerPlugin("accessibility",Gt),Vi.registerPlugin("extract",hr),Vi.registerPlugin("interaction",mr),Vi.registerPlugin("particle",Fn),Vi.registerPlugin("prepare",ln),Vi.registerPlugin("batch",sr),Vi.registerPlugin("tilingSprite",Vn),On.registerPlugin(qn),On.registerPlugin(jn),vn.registerPlugin(Kt),vn.registerPlugin(Dn);var Bo="5.0.4",ko={AlphaFilter:$n,BlurFilter:io,BlurFilterPass:eo,ColorMatrixFilter:no,DisplacementFilter:ao,FXAAFilter:co,NoiseFilter:po}},function(t,e,i){var r,n,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";function t(t){return!!t&&(t instanceof HTMLCollection||t instanceof NodeList)}var e=[];function i(e){if(e){if(e instanceof i)return e;this.selector=e;var r,n,o=e.nodeType,s=[];9===o?s=[e]:1===o?s=[e]:t(e)||e instanceof Array?s=e:"string"==typeof e&&(0===(e=e.replace("/\n/mg","").trim()).indexOf("<")?(r=e,n=void 0,(n=document.createElement("div")).innerHTML=r,s=n.children):s=function(e){var i=document.querySelectorAll(e);return t(i)?i:[i]}(e));var a=s.length;if(!a)return this;var h=void 0;for(h=0;h<a;h++)this[h]=s[h];this.length=a}}function r(t){return new i(t)}i.prototype={constructor:i,forEach:function(t){var e=void 0;for(e=0;e<this.length;e++){var i=this[e];if(!1===t.call(i,i,e))break}return this},clone:function(t){var e=[];return this.forEach(function(i){e.push(i.cloneNode(!!t))}),r(e)},get:function(t){var e=this.length;return t>=e&&(t%=e),r(this[t])},first:function(){return this.get(0)},last:function(){var t=this.length;return this.get(t-1)},on:function(t,i,r){r||(r=i,i=null);var n=[];return n=t.split(/\s+/),this.forEach(function(t){n.forEach(function(n){n&&(e.push({elem:t,type:n,fn:r}),i?t.addEventListener(n,function(t){var e=t.target;e.matches(i)&&r.call(e,t)}):t.addEventListener(n,r))})})},off:function(t,e){return this.forEach(function(i){i.removeEventListener(t,e)})},attr:function(t,e){return null==e?this[0].getAttribute(t):this.forEach(function(i){i.setAttribute(t,e)})},addClass:function(t){return t?this.forEach(function(e){var i=void 0;e.className?((i=(i=e.className.split(/\s/)).filter(function(t){return!!t.trim()})).indexOf(t)<0&&i.push(t),e.className=i.join(" ")):e.className=t}):this},removeClass:function(t){return t?this.forEach(function(e){var i=void 0;e.className&&(i=(i=e.className.split(/\s/)).filter(function(e){return!(!(e=e.trim())||e===t)}),e.className=i.join(" "))}):this},css:function(t,e){var i=t+":"+e+";";return this.forEach(function(e){var r=(e.getAttribute("style")||"").trim(),n=[];r?(r.split(";").forEach(function(t){var e=t.split(":").map(function(t){return t.trim()});2===e.length&&n.push(e[0]+":"+e[1])}),(n=n.map(function(e){return 0===e.indexOf(t)?i:e})).indexOf(i)<0&&n.push(i),e.setAttribute("style",n.join("; "))):e.setAttribute("style",i)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var t=this[0];return t?r(t.children):null},childNodes:function(){var t=this[0];return t?r(t.childNodes):null},append:function(t){return this.forEach(function(e){t.forEach(function(t){e.appendChild(t)})})},remove:function(){return this.forEach(function(t){if(t.remove)t.remove();else{var e=t.parentElement;e&&e.removeChild(t)}})},isContain:function(t){var e=this[0],i=t[0];return e.contains(i)},getSizeData:function(){return this[0].getBoundingClientRect()},getNodeName:function(){return this[0].nodeName},find:function(t){return r(this[0].querySelectorAll(t))},text:function(t){return t?this.forEach(function(e){e.innerHTML=t}):this[0].innerHTML.replace(/<.*?>/g,function(){return""})},html:function(t){var e=this[0];return null==t?e.innerHTML:(e.innerHTML=t,this)},val:function(){return this[0].value.trim()},focus:function(){return this.forEach(function(t){t.focus()})},parent:function(){return r(this[0].parentElement)},parentUntil:function(t,e){var i=document.querySelectorAll(t),n=i.length;if(!n)return null;var o=e||this[0];if("BODY"===o.nodeName)return null;var s=o.parentElement,a=void 0;for(a=0;a<n;a++)if(s===i[a])return r(s);return this.parentUntil(t,s)},equal:function(t){return 1===t.nodeType?this[0]===t:this[0]===t[0]},insertBefore:function(t){var e=r(t)[0];return e?this.forEach(function(t){e.parentNode.insertBefore(t,e)}):this},insertAfter:function(t){var e=r(t)[0];return e?this.forEach(function(t){var i=e.parentNode;i.lastChild===e?i.appendChild(t):i.insertBefore(t,e.nextSibling)}):this}},r.offAll=function(){e.forEach(function(t){var e=t.elem,i=t.type,r=t.fn;e.removeEventListener(i,r)})};var n={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],fontNames:["å®ä½","å¾®è½¯éé»","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"é»è®¤",type:"image",content:[{alt:"[åç¬]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[èå±]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[æ±¡]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"æ°æµª",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[èæ³¥é©¬]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[ç¥é©¬]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[æµ®äº]"}]},{title:"emoji",type:"emoji",content:"ð ð ð ð ð ð ð ð ð ð ð ð ð ðª ð´ ð ð¤ ð¬ ð¤".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(t,e){return!0},linkImgCheck:function(t){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(t){return t},showLinkImg:!0,linkImgCallback:function(t){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(t,e,i){},success:function(t,e,i){},fail:function(t,e,i){},error:function(t,e){},timeout:function(t,e){}},qiniu:!1},o={_ua:navigator.userAgent,isWebkit:function(){return/webkit/i.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};function a(t,e){var i=void 0;for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(t,i,t[i]))break}function h(t,e){var i=void 0,r=void 0,n=t.length||0;for(i=0;i<n&&(r=t[i],!1!==e.call(t,r,i));i++);}function u(t){return t+Math.random().toString().slice(2)}function c(t){return null==t?"":t.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function l(t){return"function"==typeof t}function d(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-bold"></i>\n        </div>'),this.type="click",this._active=!1}d.prototype={constructor:d,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("bold"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("bold")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var p=function(t,e){var i=t.config.langArgs||[],r=e;return i.forEach(function(t){var e=t.reg,i=t.val;e.test(r)&&(r=r.replace(e,function(){return i}))}),r},f=function(){};function g(t,e){var i=this,n=t.editor;this.menu=t,this.opt=e;var o=r('<div class="w-e-droplist"></div>'),s=e.$title,a=void 0;s&&(a=s.html(),a=p(n,a),s.html(a),s.addClass("w-e-dp-title"),o.append(s));var h=e.list||[],u=e.type||"list",c=e.onClick||f,l=r('<ul class="'+("list"===u?"w-e-list":"w-e-block")+'"></ul>');o.append(l),h.forEach(function(t){var e=t.$elem,o=e.html();o=p(n,o),e.html(o);var s=t.value,a=r('<li class="w-e-item"></li>');e&&(a.append(e),l.append(a),a.on("click",function(t){c(s),i.hideTimeoutId=setTimeout(function(){i.hide()},0)}))}),o.on("mouseleave",function(t){i.hideTimeoutId=setTimeout(function(){i.hide()},0)}),this.$container=o,this._rendered=!1,this._show=!1}function v(t){var e=this;this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-header"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new g(this,{width:100,$title:r("<p>è®¾ç½®æ é¢</p>"),type:"list",list:[{$elem:r("<h1>H1</h1>"),value:"<h1>"},{$elem:r("<h2>H2</h2>"),value:"<h2>"},{$elem:r("<h3>H3</h3>"),value:"<h3>"},{$elem:r("<h4>H4</h4>"),value:"<h4>"},{$elem:r("<h5>H5</h5>"),value:"<h5>"},{$elem:r("<p>æ­£æ</p>"),value:"<p>"}],onClick:function(t){e._command(t)}})}function m(t){var e=this;this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-text-heigh"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new g(this,{width:160,$title:r("<p>å­å·</p>"),type:"list",list:[{$elem:r('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:r('<span style="font-size: small;">small</span>'),value:"2"},{$elem:r("<span>normal</span>"),value:"3"},{$elem:r('<span style="font-size: large;">large</span>'),value:"4"},{$elem:r('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:r('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(t){e._command(t)}})}function y(t){var e=this;this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-font"></i></div>'),this.type="droplist",this._active=!1;var i=t.config.fontNames||[];this.droplist=new g(this,{width:100,$title:r("<p>å­ä½</p>"),type:"list",list:i.map(function(t){return{$elem:r('<span style="font-family: '+t+';">'+t+"</span>"),value:t}}),onClick:function(t){e._command(t)}})}g.prototype={constructor:g,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var t=this.menu.$elem,e=this.$container;if(!this._show){if(this._rendered)e.show();else{var i=t.getSizeData().height||0,r=this.opt.width||100;e.css("margin-top",i+"px").css("width",r+"px"),t.append(e),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var t=this.$container;this._show&&(t.hide(),this._show=!1)}},v.prototype={constructor:v,_command:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem();e.$textElem.equal(i)||e.cmd.do("formatBlock",t)},tryChangeActive:function(t){var e=this.editor,i=this.$elem,r=e.cmd.queryCommandValue("formatBlock");/^h/i.test(r)?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},m.prototype={constructor:m,_command:function(t){this.editor.cmd.do("fontSize",t)}},y.prototype={constructor:y,_command:function(t){this.editor.cmd.do("fontName",t)}};var _=function(){},x=[];function A(t,e){this.menu=t,this.opt=e}function b(t){this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-link"></i></div>'),this.type="panel",this._active=!1}function w(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-italic"></i>\n        </div>'),this.type="click",this._active=!1}function E(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-redo"></i>\n        </div>'),this.type="click",this._active=!1}function T(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"></i>\n        </div>'),this.type="click",this._active=!1}function S(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-underline"></i>\n        </div>'),this.type="click",this._active=!1}function C(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-undo"></i>\n        </div>'),this.type="click",this._active=!1}function I(t){var e=this;this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new g(this,{width:120,$title:r("<p>è®¾ç½®åè¡¨</p>"),type:"list",list:[{$elem:r('<span><i class="w-e-icon-list-numbered"></i> æåºåè¡¨</span>'),value:"insertOrderedList"},{$elem:r('<span><i class="w-e-icon-list2"></i> æ åºåè¡¨</span>'),value:"insertUnorderedList"}],onClick:function(t){e._command(t)}})}function P(t){var e=this;this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new g(this,{width:100,$title:r("<p>å¯¹é½æ¹å¼</p>"),type:"list",list:[{$elem:r('<span><i class="w-e-icon-paragraph-left"></i> é å·¦</span>'),value:"justifyLeft"},{$elem:r('<span><i class="w-e-icon-paragraph-center"></i> å±ä¸­</span>'),value:"justifyCenter"},{$elem:r('<span><i class="w-e-icon-paragraph-right"></i> é å³</span>'),value:"justifyRight"}],onClick:function(t){e._command(t)}})}function O(t){var e=this;this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-pencil2"></i></div>'),this.type="droplist";var i=t.config.colors||[];this._active=!1,this.droplist=new g(this,{width:120,$title:r("<p>æå­é¢è²</p>"),type:"inline-block",list:i.map(function(t){return{$elem:r('<i style="color:'+t+';" class="w-e-icon-pencil2"></i>'),value:t}}),onClick:function(t){e._command(t)}})}function D(t){var e=this;this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-paint-brush"></i></div>'),this.type="droplist";var i=t.config.colors||[];this._active=!1,this.droplist=new g(this,{width:120,$title:r("<p>èæ¯è²</p>"),type:"inline-block",list:i.map(function(t){return{$elem:r('<i style="color:'+t+';" class="w-e-icon-paint-brush"></i>'),value:t}}),onClick:function(t){e._command(t)}})}function M(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"></i>\n        </div>'),this.type="click",this._active=!1}function R(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"></i>\n        </div>'),this.type="panel",this._active=!1}function B(t){this.editor=t,this.$elem=r('<div class="w-e-menu">\n            <i class="w-e-icon-happy"></i>\n        </div>'),this.type="panel",this._active=!1}function k(t){this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-table2"></i></div>'),this.type="panel",this._active=!1}function N(t){this.editor=t,this.$elem=r('<div class="w-e-menu"><i class="w-e-icon-play"></i></div>'),this.type="panel",this._active=!1}function F(t){this.editor=t;var e=u("w-e-img");this.$elem=r('<div class="w-e-menu" id="'+e+'"><i class="w-e-icon-image"></i></div>'),t.imgMenuId=e,this.type="panel",this._active=!1}A.prototype={constructor:A,show:function(){var t=this,e=this.menu;if(!(x.indexOf(e)>=0)){var i=e.editor,n=r("body"),o=i.$textContainerElem,s=this.opt,a=r('<div class="w-e-panel-container"></div>'),h=s.width||300;a.css("width",h+"px").css("margin-left",(0-h)/2+"px");var u=r('<i class="w-e-icon-close w-e-panel-close"></i>');a.append(u),u.on("click",function(){t.hide()});var c=r('<ul class="w-e-panel-tab-title"></ul>'),l=r('<div class="w-e-panel-tab-content"></div>');a.append(c).append(l);var d=s.height;d&&l.css("height",d+"px").css("overflow-y","auto");var f=s.tabs||[],g=[],v=[];f.forEach(function(t,e){if(t){var n=t.title||"",o=t.tpl||"";n=p(i,n),o=p(i,o);var s=r('<li class="w-e-item">'+n+"</li>");c.append(s);var a=r(o);l.append(a),s._index=e,g.push(s),v.push(a),0===e?(s._active=!0,s.addClass("w-e-active")):a.hide(),s.on("click",function(t){s._active||(g.forEach(function(t){t._active=!1,t.removeClass("w-e-active")}),v.forEach(function(t){t.hide()}),s._active=!0,s.addClass("w-e-active"),a.show())})}}),a.on("click",function(t){t.stopPropagation()}),n.on("click",function(e){t.hide()}),o.append(a),f.forEach(function(e,i){e&&(e.events||[]).forEach(function(e){var r=e.selector,n=e.type,o=e.fn||_;v[i].find(r).on(n,function(e){e.stopPropagation(),o(e)&&t.hide()})})});var m=a.find("input[type=text],textarea");m.length&&m.get(0).focus(),this.$container=a,this._hideOtherPanels(),x.push(e)}},hide:function(){var t=this.menu,e=this.$container;e&&e.remove(),x=x.filter(function(e){return e!==t})},_hideOtherPanels:function(){x.length&&x.forEach(function(t){var e=t.panel||{};e.hide&&e.hide()})}},b.prototype={constructor:b,onClick:function(t){var e=this.editor,i=void 0;if(this._active){if(!(i=e.selection.getSelectionContainerElem()))return;e.selection.createRangeByElem(i),e.selection.restoreSelection(),this._createPanel(i.text(),i.attr("href"))}else e.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(e.selection.getSelectionText(),"")},_createPanel:function(t,e){var i=this,n=u("input-link"),o=u("input-text"),s=u("btn-ok"),a=u("btn-del"),h=this._active?"inline-block":"none",c=new A(this,{width:300,tabs:[{title:"é¾æ¥",tpl:'<div>\n                            <input id="'+o+'" type="text" class="block" value="'+t+'" placeholder="é¾æ¥æå­"/></td>\n                            <input id="'+n+'" type="text" class="block" value="'+e+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+s+'" class="right">æå¥</button>\n                                <button id="'+a+'" class="gray right" style="display:'+h+'">å é¤é¾æ¥</button>\n                            </div>\n                        </div>',events:[{selector:"#"+s,type:"click",fn:function(){var t=r("#"+n),e=r("#"+o),s=t.val(),a=e.val();return i._insertLink(a,s),!0}},{selector:"#"+a,type:"click",fn:function(){return i._delLink(),!0}}]}]});c.show(),this.panel=c},_delLink:function(){if(this._active){var t=this.editor;if(t.selection.getSelectionContainerElem()){var e=t.selection.getSelectionText();t.cmd.do("insertHTML","<span>"+e+"</span>")}}},_insertLink:function(t,e){var i=this.editor,r=i.config.linkCheck,n=!0;r&&"function"==typeof r&&(n=r(t,e)),!0===n?i.cmd.do("insertHTML",'<a href="'+e+'" target="_blank">'+t+"</a>"):alert(n)},tryChangeActive:function(t){var e=this.editor,i=this.$elem,r=e.selection.getSelectionContainerElem();r&&("A"===r.getNodeName()?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active")))}},w.prototype={constructor:w,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("italic"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("italic")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},E.prototype={constructor:E,onClick:function(t){this.editor.cmd.do("redo")}},T.prototype={constructor:T,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("strikeThrough"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("strikeThrough")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},S.prototype={constructor:S,onClick:function(t){var e=this.editor,i=e.selection.isSelectionEmpty();i&&e.selection.createEmptyRange(),e.cmd.do("underline"),i&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("underline")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},C.prototype={constructor:C,onClick:function(t){this.editor.cmd.do("undo")}},I.prototype={constructor:I,_command:function(t){var e=this.editor,i=e.$textElem;if(e.selection.restoreSelection(),!e.cmd.queryCommandState(t)){e.cmd.do(t);var r=e.selection.getSelectionContainerElem();if("LI"===r.getNodeName()&&(r=r.parent()),!1!==/^ol|ul$/i.test(r.getNodeName())&&!r.equal(i)){var n=r.parent();n.equal(i)||(r.insertAfter(n),n.remove())}}},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e.cmd.queryCommandState("insertUnOrderedList")||e.cmd.queryCommandState("insertOrderedList")?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},P.prototype={constructor:P,_command:function(t){this.editor.cmd.do(t)}},O.prototype={constructor:O,_command:function(t){this.editor.cmd.do("foreColor",t)}},D.prototype={constructor:D,_command:function(t){this.editor.cmd.do("backColor",t)}},M.prototype={constructor:M,onClick:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem(),n=i.getNodeName();if(o.isIE()){if("P"===n)return r("<blockquote>"+i.text()+"</blockquote>").insertAfter(i),void i.remove();"BLOCKQUOTE"===n&&(r("<p>"+i.text()+"</p>").insertAfter(i),i.remove())}else"BLOCKQUOTE"===n?e.cmd.do("formatBlock","<P>"):e.cmd.do("formatBlock","<BLOCKQUOTE>")},tryChangeActive:function(t){var e=this.editor,i=this.$elem,r=e.cmd.queryCommandValue("formatBlock");/^BLOCKQUOTE$/i.test(r)?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}},R.prototype={constructor:R,onClick:function(t){var e=this.editor,i=e.selection.getSelectionStartElem(),n=e.selection.getSelectionEndElem(),o=e.selection.isSelectionEmpty(),s=e.selection.getSelectionText(),a=void 0;if(i.equal(n))return o?void(this._active?this._createPanel(i.html()):this._createPanel()):(a=r("<code>"+s+"</code>"),e.cmd.do("insertElem",a),e.selection.createRangeByElem(a,!1),void e.selection.restoreSelection());e.selection.restoreSelection()},_createPanel:function(t){var e=this,i=(t=t||"")?"edit":"new",n=u("texxt"),o=u("btn"),s=new A(this,{width:500,tabs:[{title:"æå¥ä»£ç ",tpl:'<div>\n                        <textarea id="'+n+'" style="height:145px;;">'+t+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+o+'" class="right">æå¥</button>\n                        </div>\n                    <div>',events:[{selector:"#"+o,type:"click",fn:function(){var t=r("#"+n),o=t.val()||t.html();return o=c(o),"new"===i?e._insertCode(o):e._updateCode(o),!0}}]}]});s.show(),this.panel=s},_insertCode:function(t){this.editor.cmd.do("insertHTML","<pre><code>"+t+"</code></pre><p><br></p>")},_updateCode:function(t){var e=this.editor,i=e.selection.getSelectionContainerElem();i&&(i.html(t),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,i=this.$elem,r=e.selection.getSelectionContainerElem();if(r){var n=r.parent();"CODE"===r.getNodeName()&&"PRE"===n.getNodeName()?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}}},B.prototype={constructor:B,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=this.editor.config.emotions||[],i=[];e.forEach(function(e){var n=e.type,o=e.content||[],s="";"emoji"===n&&o.forEach(function(t){t&&(s+='<span class="w-e-item">'+t+"</span>")}),"image"===n&&o.forEach(function(t){var e=t.src,i=t.alt;e&&(s+='<span class="w-e-item"><img src="'+e+'" alt="'+i+'" data-w-e="1"/></span>')}),i.push({title:e.title,tpl:'<div class="w-e-emoticon-container">'+s+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(e){var i=r(e.target),n=void 0;return n="IMG"===i.getNodeName()?i.parent().html():"<span>"+i.html()+"</span>",t._insert(n),!0}}]})});var n=new A(this,{width:300,height:200,tabs:i});n.show(),this.panel=n},_insert:function(t){this.editor.cmd.do("insertHTML",t)}},k.prototype={constructor:k,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var t=this,e=u("btn"),i=u("row"),n=u("col"),o=new A(this,{width:250,tabs:[{title:"æå¥è¡¨æ ¼",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            åå»º\n                            <input id="'+i+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            è¡\n                            <input id="'+n+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            åçè¡¨æ ¼\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+e+'" class="right">æå¥</button>\n                        </div>\n                    </div>',events:[{selector:"#"+e,type:"click",fn:function(){var e=parseInt(r("#"+i).val()),o=parseInt(r("#"+n).val());return e&&o&&e>0&&o>0&&t._insert(e,o),!0}}]}]});o.show(),this.panel=o},_insert:function(t,e){var i=void 0,r=void 0,n='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(i=0;i<t;i++){if(n+="<tr>",0===i)for(r=0;r<e;r++)n+="<th>&nbsp;</th>";else for(r=0;r<e;r++)n+="<td>&nbsp;</td>";n+="</tr>"}n+="</table><p><br></p>";var o=this.editor;o.cmd.do("insertHTML",n),o.cmd.do("enableObjectResizing",!1),o.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var t=this,e=u("add-row"),i=u("add-col"),r=u("del-row"),n=u("del-col"),o=u("del-table");new A(this,{width:320,tabs:[{title:"ç¼è¾è¡¨æ ¼",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+e+'" class="left">å¢å è¡</button>\n                            <button id="'+r+'" class="red left">å é¤è¡</button>\n                            <button id="'+i+'" class="left">å¢å å</button>\n                            <button id="'+n+'" class="red left">å é¤å</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+o+'" class="gray left">å é¤è¡¨æ ¼</button>\n                        </dv>\n                    </div>',events:[{selector:"#"+e,type:"click",fn:function(){return t._addRow(),!0}},{selector:"#"+i,type:"click",fn:function(){return t._addCol(),!0}},{selector:"#"+r,type:"click",fn:function(){return t._delRow(),!0}},{selector:"#"+n,type:"click",fn:function(){return t._delCol(),!0}},{selector:"#"+o,type:"click",fn:function(){return t._delTable(),!0}}]}]}).show()},_getLocationData:function(){var t={},e=this.editor.selection.getSelectionContainerElem();if(e){var i=e.getNodeName();if("TD"===i||"TH"===i){var r=e.parent(),n=r.children(),o=n.length;n.forEach(function(i,r){if(i===e[0])return t.td={index:r,elem:i,length:o},!1});var s=r.parent().children(),a=s.length;return s.forEach(function(e,i){if(e===r[0])return t.tr={index:i,elem:e,length:a},!1}),t}}},_addRow:function(){var t=this._getLocationData();if(t){var e=r(t.tr.elem),i=t.td.length,n=document.createElement("tr"),o="",s=void 0;for(s=0;s<i;s++)o+="<td>&nbsp;</td>";n.innerHTML=o,r(n).insertAfter(e)}},_addCol:function(){var t=this._getLocationData();if(t){var e=t.tr,i=t.td.index;r(e.elem).parent().children().forEach(function(t){var e=r(t).children().get(i),n=e.getNodeName().toLowerCase();r(document.createElement(n)).insertAfter(e)})}},_delRow:function(){var t=this._getLocationData();t&&r(t.tr.elem).remove()},_delCol:function(){var t=this._getLocationData();if(t){var e=t.tr,i=t.td.index;r(e.elem).parent().children().forEach(function(t){r(t).children().get(i).remove()})}},_delTable:function(){var t=this.editor.selection.getSelectionContainerElem();if(t){var e=t.parentUntil("table");e&&e.remove()}},tryChangeActive:function(t){var e=this.editor,i=this.$elem,r=e.selection.getSelectionContainerElem();if(r){var n=r.getNodeName();"TD"===n||"TH"===n?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}}},N.prototype={constructor:N,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=u("text-val"),i=u("btn"),n=new A(this,{width:350,tabs:[{title:"æå¥è§é¢",tpl:'<div>\n                        <input id="'+e+'" type="text" class="block" placeholder="æ ¼å¼å¦ï¼<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+i+'" class="right">æå¥</button>\n                        </div>\n                    </div>',events:[{selector:"#"+i,type:"click",fn:function(){var i=r("#"+e).val().trim();return i&&t._insert(i),!0}}]}]});n.show(),this.panel=n},_insert:function(t){this.editor.cmd.do("insertHTML",t+"<p><br></p>")}},F.prototype={constructor:F,onClick:function(){this.editor.config.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var t=this.editor,e=u("width-30"),i=u("width-50"),r=u("width-100"),n=u("del-btn"),o=new A(this,{width:300,tabs:[{title:"ç¼è¾å¾ç",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">æå¤§å®½åº¦ï¼</span>\n                        <button id="'+e+'" class="left">30%</button>\n                        <button id="'+i+'" class="left">50%</button>\n                        <button id="'+r+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+n+'" class="gray left">å é¤å¾ç</button>\n                    </dv>\n                </div>',events:[{selector:"#"+e,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","30%"),!0}},{selector:"#"+i,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","50%"),!0}},{selector:"#"+r,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","100%"),!0}},{selector:"#"+n,type:"click",fn:function(){var e=t._selectedImg;return e&&e.remove(),!0}}]}]});o.show(),this.panel=o},_createInsertPanel:function(){var t=this.editor,e=t.uploadImg,i=t.config,n=u("up-trigger"),o=u("up-file"),s=u("link-url"),a=u("link-btn"),h=[{title:"ä¸ä¼ å¾ç",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+n+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+o+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+n,type:"click",fn:function(){var t=r("#"+o)[0];if(!t)return!0;t.click()}},{selector:"#"+o,type:"change",fn:function(){var t=r("#"+o)[0];if(!t)return!0;var i=t.files;return i.length&&e.uploadImg(i),!0}}]},{title:"ç½ç»å¾ç",tpl:'<div>\n                    <input id="'+s+'" type="text" class="block" placeholder="å¾çé¾æ¥"/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+a+'" class="right">æå¥</button>\n                    </div>\n                </div>',events:[{selector:"#"+a,type:"click",fn:function(){var t=r("#"+s).val().trim();return t&&e.insertLinkImg(t),!0}}]}],c=[];(i.uploadImgShowBase64||i.uploadImgServer||i.customUploadImg)&&window.FileReader&&c.push(h[0]),i.showLinkImg&&c.push(h[1]);var l=new A(this,{width:300,tabs:c});l.show(),this.panel=l},tryChangeActive:function(t){var e=this.editor,i=this.$elem;e._selectedImg?(this._active=!0,i.addClass("w-e-active")):(this._active=!1,i.removeClass("w-e-active"))}};var L={};function U(t){this.editor=t,this.menus={}}function j(t){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return c(null==e?window.clipboardData&&window.clipboardData.getData("text"):e.getData("text/plain"))}function H(t){this.editor=t}function X(t){this.editor=t}function z(t){this.editor=t,this._currentRange=null}function G(t){this.editor=t,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=t.$textContainerElem,this.$bar=r('<div class="w-e-progress"></div>')}L.bold=d,L.head=v,L.fontSize=m,L.fontName=y,L.link=b,L.italic=w,L.redo=E,L.strikeThrough=T,L.underline=S,L.undo=C,L.list=I,L.justify=P,L.foreColor=O,L.backColor=D,L.quote=M,L.code=R,L.emoticon=B,L.table=k,L.video=N,L.image=F,U.prototype={constructor:U,init:function(){var t=this,e=this.editor;((e.config||{}).menus||[]).forEach(function(i){var r=L[i];r&&"function"==typeof r&&(t.menus[i]=new r(e))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var t=this.editor,e=t.$toolbarElem,i=this.menus,r=t.config.zIndex+1;a(i,function(t,i){var n=i.$elem;n&&(n.css("z-index",r),e.append(n))})},_bindEvent:function(){var t=this.menus,e=this.editor;a(t,function(t,i){var r=i.type;if(r){var n=i.$elem,o=i.droplist;i.panel;"click"===r&&i.onClick&&n.on("click",function(t){null!=e.selection.getRange()&&i.onClick(t)}),"droplist"===r&&o&&n.on("mouseenter",function(t){null!=e.selection.getRange()&&(o.showTimeoutId=setTimeout(function(){o.show()},200))}).on("mouseleave",function(t){o.hideTimeoutId=setTimeout(function(){o.hide()},0)}),"panel"===r&&i.onClick&&n.on("click",function(t){t.stopPropagation(),null!=e.selection.getRange()&&i.onClick(t)})}})},changeActive:function(){a(this.menus,function(t,e){e.tryChangeActive&&setTimeout(function(){e.tryChangeActive()},100)})}},H.prototype={constructor:H,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(t){var e=this.editor,i=e.$textElem,r=void 0;if(null==t)return r=i.html(),r=r.replace(/\u200b/gm,""),r;i.html(t),e.initSelection()},getJSON:function(){return function t(e){var i=[];return(e.childNodes()||[]).forEach(function(e){var n=void 0,o=e.nodeType;if(3===o&&(n=c(n=e.textContent)),1===o){(n={}).tag=e.nodeName.toLowerCase();for(var s=[],a=e.attributes||{},h=a.length||0,u=0;u<h;u++){var l=a[u];s.push({name:l.name,value:l.value})}n.attrs=s,n.children=t(r(e))}i.push(n)}),i}(this.editor.$textElem)},text:function(t){var e=this.editor,i=e.$textElem,r=void 0;if(null==t)return r=i.text(),r=r.replace(/\u200b/gm,""),r;i.text("<p>"+t+"</p>"),e.initSelection()},append:function(t){var e=this.editor;e.$textElem.append(r(t)),e.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){var t=this.editor,e=t.$textElem;function i(e){t.selection.saveRange(),t.menus.changeActive()}e.on("keyup",i),e.on("mousedown",function(t){e.on("mouseleave",i)}),e.on("mouseup",function(t){i(),e.off("mouseleave",i)})},_enterKeyHandle:function(){var t=this.editor,e=t.$textElem;function i(e){var i=r("<p><br></p>");i.insertBefore(e),t.selection.createRangeByElem(i,!0),t.selection.restoreSelection(),e.remove()}e.on("keyup",function(r){var n,o;13===r.keyCode&&(n=t.selection.getSelectionContainerElem(),"<code><br></code>"!==(o=n.parent()).html()?o.equal(e)&&"P"!==n.getNodeName()&&(n.text()||i(n)):i(n))}),e.on("keydown",function(e){13===e.keyCode?function(e){var i=t.selection.getSelectionContainerElem();if(i){var n=i.parent(),o=i.getNodeName(),s=n.getNodeName();if("CODE"===o&&"PRE"===s&&t.cmd.queryCommandSupported("insertHTML")){if(!0===t._willBreakCode){var a=r("<p><br></p>");return a.insertAfter(n),t.selection.createRangeByElem(a,!0),t.selection.restoreSelection(),t._willBreakCode=!1,void e.preventDefault()}var h=t.selection.getRange().startOffset;t.cmd.do("insertHTML","\n"),t.selection.saveRange(),t.selection.getRange().startOffset===h&&t.cmd.do("insertHTML","\n");var u=i.html().length;t.selection.getRange().startOffset+1===u&&(t._willBreakCode=!0),e.preventDefault()}}}(e):t._willBreakCode=!1})},_clearHandle:function(){var t=this.editor,e=t.$textElem;e.on("keydown",function(t){8===t.keyCode&&("<p><br></p>"!==e.html().toLowerCase().trim()||t.preventDefault())}),e.on("keyup",function(i){if(8===i.keyCode){var n=void 0,o=e.html().toLowerCase().trim();o&&"<br>"!==o||(n=r("<p><br/></p>"),e.html(""),e.append(n),t.selection.createRangeByElem(n,!1,!0),t.selection.restoreSelection())}})},_pasteHandle:function(){var t=this.editor,e=t.config,i=e.pasteFilterStyle,r=e.pasteTextHandle,n=e.pasteIgnoreImg,s=t.$textElem,h=0;function u(){var t=Date.now(),e=!1;return t-h>=100&&(e=!0),h=t,e}s.on("paste",function(e){if(!o.isIE()&&(e.preventDefault(),u())){var s=function(t,e,i){var r=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData,n=void 0,o=void 0;if(null==r?n=window.clipboardData&&window.clipboardData.getData("text"):(n=r.getData("text/plain"),o=r.getData("text/html")),!o&&n&&(o="<p>"+c(n)+"</p>"),o){var s=o.split("</html>");return 2===s.length&&(o=s[0]),o=(o=(o=o.replace(/<(meta|script|link).+?>/gim,"")).replace(/<!--.*?-->/gm,"")).replace(/\s?data-.+?=('|").+?('|")/gim,""),i&&(o=o.replace(/<img.+?>/gim,"")),o=e?o.replace(/\s?(class|style)=('|").*?('|")/gim,""):o.replace(/\s?class=('|").*?('|")/gim,"")}}(e,i,n),a=j(e);a=a.replace(/\n/gm,"<br>");var d=t.selection.getSelectionContainerElem();if(d){var p=d.getNodeName();if("CODE"===p||"PRE"===p)return r&&l(r)&&(a=""+(r(a)||"")),void t.cmd.do("insertHTML","<p>"+a+"</p>");if(s)try{r&&l(r)&&(s=""+(r(s)||"")),t.cmd.do("insertHTML",s)}catch(e){r&&l(r)&&(a=""+(r(a)||"")),t.cmd.do("insertHTML","<p>"+a+"</p>")}else h=0}}}),s.on("paste",function(e){if(!o.isIE()&&(e.preventDefault(),u())){var i=function(t){var e=[];if(j(t))return e;var i=(t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData||{}).items;return i?(a(i,function(t,i){var r=i.type;/image/i.test(r)&&e.push(i.getAsFile())}),e):e}(e);if(i&&i.length){var r=t.selection.getSelectionContainerElem();if(r){var n=r.getNodeName();if("CODE"!==n&&"PRE"!==n)t.uploadImg.uploadImg(i)}}}})},_tabHandle:function(){var t=this.editor;t.$textElem.on("keydown",function(e){if(9===e.keyCode&&t.cmd.queryCommandSupported("insertHTML")){var i=t.selection.getSelectionContainerElem();if(i){var r=i.parent(),n=i.getNodeName(),o=r.getNodeName();"CODE"===n&&"PRE"===o?t.cmd.do("insertHTML","    "):t.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),e.preventDefault()}}})},_imgHandle:function(){var t=this.editor,e=t.$textElem;e.on("click","img",function(e){var i=r(this);"1"!==i.attr("data-w-e")&&(t._selectedImg=i,t.selection.createRangeByElem(i),t.selection.restoreSelection())}),e.on("click  keyup",function(e){e.target.matches("img")||(t._selectedImg=null)})},_dragHandle:function(){var t=this.editor;r(document).on("dragleave drop dragenter dragover",function(t){t.preventDefault()}),t.$textElem.on("drop",function(e){e.preventDefault();var i=e.dataTransfer&&e.dataTransfer.files;i&&i.length&&t.uploadImg.uploadImg(i)})}},X.prototype={constructor:X,do:function(t,e){var i=this.editor;if(i._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),i._useStyleWithCSS=!0),i.selection.getRange()){i.selection.restoreSelection();var r="_"+t;this[r]?this[r](e):this._execCommand(t,e),i.menus.changeActive(),i.selection.saveRange(),i.selection.restoreSelection(),i.change&&i.change()}},_insertHTML:function(t){var e=this.editor.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",t):e.insertNode?(e.deleteContents(),e.insertNode(r(t)[0])):e.pasteHTML&&e.pasteHTML(t)},_insertElem:function(t){var e=this.editor.selection.getRange();e.insertNode&&(e.deleteContents(),e.insertNode(t[0]))},_execCommand:function(t,e){document.execCommand(t,!1,e)},queryCommandValue:function(t){return document.queryCommandValue(t)},queryCommandState:function(t){return document.queryCommandState(t)},queryCommandSupported:function(t){return document.queryCommandSupported(t)}},z.prototype={constructor:z,getRange:function(){return this._currentRange},saveRange:function(t){if(t)this._currentRange=t;else{var e=window.getSelection();if(0!==e.rangeCount){var i=e.getRangeAt(0),r=this.getSelectionContainerElem(i);if(r)if("false"!==r.attr("contenteditable")&&!r.parentUntil("[contenteditable=false]"))this.editor.$textElem.isContain(r)&&(this._currentRange=i)}}},collapseRange:function(t){null==t&&(t=!1);var e=this._currentRange;e&&e.collapse(t)},getSelectionText:function(){return this._currentRange?this._currentRange.toString():""},getSelectionContainerElem:function(t){var e=void 0;if(t=t||this._currentRange)return r(1===(e=t.commonAncestorContainer).nodeType?e:e.parentNode)},getSelectionStartElem:function(t){var e=void 0;if(t=t||this._currentRange)return r(1===(e=t.startContainer).nodeType?e:e.parentNode)},getSelectionEndElem:function(t){var e=void 0;if(t=t||this._currentRange)return r(1===(e=t.endContainer).nodeType?e:e.parentNode)},isSelectionEmpty:function(){var t=this._currentRange;return!(!t||!t.startContainer||t.startContainer!==t.endContainer||t.startOffset!==t.endOffset)},restoreSelection:function(){var t=window.getSelection();t.removeAllRanges(),t.addRange(this._currentRange)},createEmptyRange:function(){var t=this.editor,e=this.getRange(),i=void 0;if(e&&this.isSelectionEmpty())try{o.isWebkit()?(t.cmd.do("insertHTML","&#8203;"),e.setEnd(e.endContainer,e.endOffset+1),this.saveRange(e)):(i=r("<strong>&#8203;</strong>"),t.cmd.do("insertElem",i),this.createRangeByElem(i,!0))}catch(t){}},createRangeByElem:function(t,e,i){if(t.length){var r=t[0],n=document.createRange();i?n.selectNodeContents(r):n.selectNode(r),"boolean"==typeof e&&n.collapse(e),this.saveRange(n)}}},G.prototype={constructor:G,show:function(t){var e=this;if(!this._isShow){this._isShow=!0;var i=this.$bar;if(this._isRender)this._isRender=!0;else this.$textContainer.append(i);Date.now()-this._time>100&&t<=1&&(i.css("width",100*t+"%"),this._time=Date.now());var r=this._timeoutId;r&&clearTimeout(r),r=setTimeout(function(){e._hide()},500)}},_hide:function(){this.$bar.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var Y="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)};function W(t){this.editor=t}W.prototype={constructor:W,_alert:function(t,e){var i=this.editor,r=i.config.debug,n=i.config.customAlert;if(r)throw new Error("wangEditor: "+(e||t));n&&"function"==typeof n?n(t):alert(t)},insertLinkImg:function(t){var e=this;if(t){var i=this.editor,r=i.config,n=r.linkImgCheck,o=void 0;if(n&&"function"==typeof n&&"string"==typeof(o=n(t)))alert(o);else{i.cmd.do("insertHTML",'<img src="'+t+'" style="max-width:100%;"/>');var s=document.createElement("img");s.onload=function(){var e=r.linkImgCallback;e&&"function"==typeof e&&e(t),s=null},s.onerror=function(){s=null,e._alert("æå¥å¾çéè¯¯",'wangEditor: æå¥å¾çåºéï¼å¾çé¾æ¥æ¯ "'+t+'"ï¼ä¸è½½è¯¥é¾æ¥å¤±è´¥')},s.onabort=function(){s=null},s.src=t}}},uploadImg:function(t){var e=this;if(t&&t.length){var i=this.editor,r=i.config,n=r.uploadImgServer,o=r.uploadImgShowBase64,s=r.uploadImgMaxSize,u=s/1024/1024,c=r.uploadImgMaxLength||1e4,l=r.uploadFileName||"",d=r.uploadImgParams||{},p=r.uploadImgParamsWithUrl,f=r.uploadImgHeaders||{},g=r.uploadImgHooks||{},v=r.uploadImgTimeout||3e3,m=r.withCredentials;null==m&&(m=!1);var y=r.customUploadImg;if(y||n||o){var _=[],x=[];if(h(t,function(t){var e=t.name,i=t.size;e&&i&&(!1!==/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(e)?s<i?x.push("ã"+e+"ãå¤§äº "+u+"M"):_.push(t):x.push("ã"+e+"ãä¸æ¯å¾ç"))}),x.length)this._alert("å¾çéªè¯æªéè¿: \n"+x.join("\n"));else if(_.length>c)this._alert("ä¸æ¬¡æå¤ä¸ä¼ "+c+"å¼ å¾ç");else if(y&&"function"==typeof y)y(_,this.insertLinkImg.bind(this));else{var A=new FormData;if(h(_,function(t){var e=l||t.name;A.append(e,t)}),n&&"string"==typeof n){var b=n.split("#");n=b[0];var w=b[1]||"";a(d,function(t,e){p&&(n.indexOf("?")>0?n+="&":n+="?",n=n+t+"="+e),A.append(t,e)}),w&&(n+="#"+w);var E=new XMLHttpRequest;if(E.open("POST",n),E.timeout=v,E.ontimeout=function(){g.timeout&&"function"==typeof g.timeout&&g.timeout(E,i),e._alert("ä¸ä¼ å¾çè¶æ¶")},E.upload&&(E.upload.onprogress=function(t){var e=void 0,r=new G(i);t.lengthComputable&&(e=t.loaded/t.total,r.show(e))}),E.onreadystatechange=function(){var t=void 0;if(4===E.readyState){if(E.status<200||E.status>=300)return g.error&&"function"==typeof g.error&&g.error(E,i),void e._alert("ä¸ä¼ å¾çåçéè¯¯","ä¸ä¼ å¾çåçéè¯¯ï¼æå¡å¨è¿åç¶ææ¯ "+E.status);if("object"!==(void 0===(t=E.responseText)?"undefined":Y(t)))try{t=JSON.parse(t)}catch(r){return g.fail&&"function"==typeof g.fail&&g.fail(E,i,t),void e._alert("ä¸ä¼ å¾çå¤±è´¥","ä¸ä¼ å¾çè¿åç»æéè¯¯ï¼è¿åç»ææ¯: "+t)}if(g.customInsert||"0"==t.errno){if(g.customInsert&&"function"==typeof g.customInsert)g.customInsert(e.insertLinkImg.bind(e),t,i);else(t.data||[]).forEach(function(t){e.insertLinkImg(t)});g.success&&"function"==typeof g.success&&g.success(E,i,t)}else g.fail&&"function"==typeof g.fail&&g.fail(E,i,t),e._alert("ä¸ä¼ å¾çå¤±è´¥","ä¸ä¼ å¾çè¿åç»æéè¯¯ï¼è¿åç»æ errno="+t.errno)}},g.before&&"function"==typeof g.before){var T=g.before(E,i,_);if(T&&"object"===(void 0===T?"undefined":Y(T))&&T.prevent)return void this._alert(T.msg)}return a(f,function(t,e){E.setRequestHeader(t,e)}),E.withCredentials=m,void E.send(A)}o&&h(t,function(t){var i=e,r=new FileReader;r.readAsDataURL(t),r.onload=function(){i.insertLinkImg(this.result)}})}}}}};var V=1;function Q(t,e){if(null==t)throw new Error("éè¯¯ï¼åå§åç¼è¾å¨æ¶åæªä¼ å¥ä»»ä½åæ°ï¼è¯·æ¥éææ¡£");this.id="wangEditor-"+V++,this.toolbarSelector=t,this.textSelector=e,this.customConfig={}}Q.prototype={constructor:Q,_initConfig:function(){this.config=Object.assign({},n,this.customConfig);var t=this.config.lang||{},e=[];a(t,function(t,i){e.push({reg:new RegExp(t,"img"),val:i})}),this.config.langArgs=e},_initDom:function(){var t=this,e=r(this.toolbarSelector),i=this.textSelector,n=this.config,o=n.zIndex,s=void 0,a=void 0,h=void 0,c=void 0;null==i?(s=r("<div></div>"),a=r("<div></div>"),c=e.children(),e.append(s).append(a),s.css("background-color","#f1f1f1").css("border","1px solid #ccc"),a.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(s=e,c=(a=r(i)).children()),(h=r("<div></div>")).attr("contenteditable","true").css("width","100%").css("height","100%"),c&&c.length?h.append(c):h.append(r("<p><br></p>")),a.append(h),s.addClass("w-e-toolbar"),a.addClass("w-e-text-container"),a.css("z-index",o),h.addClass("w-e-text");var l=u("toolbar-elem");s.attr("id",l);var d=u("text-elem");h.attr("id",d),this.$toolbarElem=s,this.$textContainerElem=a,this.$textElem=h,this.toolbarElemId=l,this.textElemId=d;var p=!0;a.on("compositionstart",function(){p=!1}),a.on("compositionend",function(){p=!0}),a.on("click keyup",function(){p&&t.change&&t.change()}),s.on("click",function(){this.change&&this.change()}),(n.onfocus||n.onblur)&&(this.isFocus=!1,r(document).on("click",function(e){var i=h.isContain(r(e.target)),n=s.isContain(r(e.target)),o=s[0]==e.target;if(i)t.isFocus||t.onfocus&&t.onfocus(),t.isFocus=!0;else{if(n&&!o)return;t.isFocus&&t.onblur&&t.onblur(),t.isFocus=!1}}))},_initCommand:function(){this.cmd=new X(this)},_initSelectionAPI:function(){this.selection=new z(this)},_initUploadImg:function(){this.uploadImg=new W(this)},_initMenus:function(){this.menus=new U(this),this.menus.init()},_initText:function(){this.txt=new H(this),this.txt.init()},initSelection:function(t){var e=this.$textElem,i=e.children();if(!i.length)return e.append(r("<p><br></p>")),void this.initSelection();var n=i.last();if(t){var o=n.html().toLowerCase(),s=n.getNodeName();if("<br>"!==o&&"<br/>"!==o||"P"!==s)return e.append(r("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(n,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var t=0,e=this.txt.html(),i=this.config,r=i.onchangeTimeout;(!(r=parseInt(r,10))||r<=0)&&(r=200);var n=i.onchange;n&&"function"==typeof n&&(this.change=function(){var i=this.txt.html();i.length===e.length&&i===e||(t&&clearTimeout(t),t=setTimeout(function(){n(i),e=i},r))});var o=i.onblur;o&&"function"==typeof o&&(this.onblur=function(){var t=this.txt.html();o(t)});var s=i.onfocus;s&&"function"==typeof s&&(this.onfocus=function(){s()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){r.offAll()}},"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1});var q=document.createElement("style");return q.type="text/css",q.innerHTML='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAABhQAAsAAAAAGAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPBGNtYXAAAAFoAAABBAAAAQQrSf4BZ2FzcAAAAmwAAAAIAAAACAAAABBnbHlmAAACdAAAEvAAABLwfpUWUWhlYWQAABVkAAAANgAAADYQp00kaGhlYQAAFZwAAAAkAAAAJAfEA+FobXR4AAAVwAAAAIQAAACEeAcD7GxvY2EAABZEAAAARAAAAERBSEX+bWF4cAAAFogAAAAgAAAAIAAsALZuYW1lAAAWqAAAAYYAAAGGmUoJ+3Bvc3QAABgwAAAAIAAAACAAAwAAAAMD3gGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAOgAAAA2ACAABAAWAAEAIOkG6Q3pEulH6Wbpd+m56bvpxunL6d/qDepc6l/qZepo6nHqefAN8BTxIPHc8fz//f//AAAAAAAg6QbpDekS6UfpZel36bnpu+nG6cvp3+oN6lzqX+pi6mjqcep38A3wFPEg8dzx/P/9//8AAf/jFv4W+Bb0FsAWoxaTFlIWURZHFkMWMBYDFbUVsxWxFa8VpxWiEA8QCQ7+DkMOJAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAAD/wAQAA8AABAATAAABNwEnAQMuAScTNwEjAQMlATUBBwGAgAHAQP5Anxc7MmOAAYDA/oDAAoABgP6ATgFAQAHAQP5A/p0yOxcBEU4BgP6A/YDAAYDA/oCAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAIAAABABAADQAA4ADwAAAEmJy4BJyYjIgcOAQcGBwYHDgEHBhUUFx4BFxYXFhceARcWMzI3PgE3Njc2Nz4BNzY1NCcuAScmJwERDQED1TY4OXY8PT8/PTx2OTg2CwcICwMDAwMLCAcLNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBwv9qwFA/sADIAgGBggCAgICCAYGCCkqKlktLi8vLi1ZKiopCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKin94AGAwMAAAAAAAgDA/8ADQAPAABsAJwAAASIHDgEHBhUUFx4BFxYxMDc+ATc2NTQnLgEnJgMiJjU0NjMyFhUUBgIAQjs6VxkZMjJ4MjIyMngyMhkZVzo7QlBwcFBQcHADwBkZVzo7Qnh9fcxBQUFBzH19eEI7OlcZGf4AcFBQcHBQUHAAAAEAAAAABAADgAArAAABIgcOAQcGBycRISc+ATMyFx4BFxYVFAcOAQcGBxc2Nz4BNzY1NCcuAScmIwIANTIyXCkpI5YBgJA1i1BQRUZpHh4JCSIYGB5VKCAgLQwMKCiLXl1qA4AKCycbHCOW/oCQNDweHmlGRVArKClJICEaYCMrK2I2NjlqXV6LKCgAAQAAAAAEAAOAACoAABMUFx4BFxYXNyYnLgEnJjU0Nz4BNzYzMhYXByERByYnLgEnJiMiBw4BBwYADAwtICAoVR4YGCIJCR4eaUZFUFCLNZABgJYjKSlcMjI1al1eiygoAYA5NjZiKysjYBohIEkpKCtQRUZpHh48NJABgJYjHBsnCwooKIteXQAAAAACAAAAQAQBAwAAJgBNAAATMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgEhMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgHhLikpPRESEhE9KSkuLikpPRESASMjelJRXUB1LQkQBwgSAkkuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICABIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCARIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCAQAABgBA/8AEAAPAAAMABwALABEAHQApAAAlIRUhESEVIREhFSEnESM1IzUTFTMVIzU3NSM1MxUVESM1MzUjNTM1IzUBgAKA/YACgP2AAoD9gMBAQECAwICAwMCAgICAgIACAIACAIDA/wDAQP3yMkCSPDJAku7+wEBAQEBAAAYAAP/ABAADwAADAAcACwAXACMALwAAASEVIREhFSERIRUhATQ2MzIWFRQGIyImETQ2MzIWFRQGIyImETQ2MzIWFRQGIyImAYACgP2AAoD9gAKA/YD+gEs1NUtLNTVLSzU1S0s1NUtLNTVLSzU1SwOAgP8AgP8AgANANUtLNTVLS/61NUtLNTVLS/61NUtLNTVLSwADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAMAAP/ABAADwAAbADcAQwAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYTBycHFwcXNxc3JzcCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMSqCgYKCgYKCgYKCgA8AoKIteXWpqXV6LKCgoKIteXWpqXV6LKCj8YCEgcUxMVlZMTHEgISEgcUxMVlZMTHEgIQKgoKBgoKBgoKBgoKAAAQBl/8ADmwPAACkAAAEiJiMiBw4BBwYVFBYzLgE1NDY3MAcGAgcGBxUhEzM3IzceATMyNjcOAQMgRGhGcVNUbRobSUgGDWVKEBBLPDxZAT1sxizXNC1VJi5QGB09A7AQHh1hPj9BTTsLJjeZbwN9fv7Fj5AjGQIAgPYJDzdrCQcAAAAAAgAAAAAEAAOAAAkAFwAAJTMHJzMRIzcXIyURJyMRMxUhNTMRIwcRA4CAoKCAgKCggP8AQMCA/oCAwEDAwMACAMDAwP8AgP1AQEACwIABAAADAMAAAANAA4AAFgAfACgAAAE+ATU0Jy4BJyYjIREhMjc+ATc2NTQmATMyFhUUBisBEyMRMzIWFRQGAsQcIBQURi4vNf7AAYA1Ly5GFBRE/oRlKjw8KWafn58sPj4B2yJULzUvLkYUFPyAFBRGLi81RnQBRks1NUv+gAEASzU1SwAAAAACAMAAAANAA4AAHwAjAAABMxEUBw4BBwYjIicuAScmNREzERQWFx4BMzI2Nz4BNQEhFSECwIAZGVc6O0JCOzpXGRmAGxgcSSgoSRwYG/4AAoD9gAOA/mA8NDVOFhcXFk41NDwBoP5gHjgXGBsbGBc4Hv6ggAAAAAABAIAAAAOAA4AACwAAARUjATMVITUzASM1A4CA/sCA/kCAAUCAA4BA/QBAQAMAQAABAAAAAAQAA4AAPQAAARUjHgEVFAYHDgEjIiYnLgE1MxQWMzI2NTQmIyE1IS4BJy4BNTQ2Nz4BMzIWFx4BFSM0JiMiBhUUFjMyFhcEAOsVFjUwLHE+PnEsMDWAck5OcnJO/gABLAIEATA1NTAscT4+cSwwNYByTk5yck47bisBwEAdQSI1YiQhJCQhJGI1NExMNDRMQAEDASRiNTViJCEkJCEkYjU0TEw0NEwhHwAAAAcAAP/ABAADwAADAAcACwAPABMAGwAjAAATMxUjNzMVIyUzFSM3MxUjJTMVIwMTIRMzEyETAQMhAyMDIQMAgIDAwMABAICAwMDAAQCAgBAQ/QAQIBACgBD9QBADABAgEP2AEAHAQEBAQEBAQEBAAkD+QAHA/oABgPwAAYD+gAFA/sAAAAoAAAAABAADgAADAAcACwAPABMAFwAbAB8AIwAnAAATESERATUhFR0BITUBFSE1IxUhNREhFSElIRUhETUhFQEhFSEhNSEVAAQA/YABAP8AAQD/AED/AAEA/wACgAEA/wABAPyAAQD/AAKAAQADgPyAA4D9wMDAQMDAAgDAwMDA/wDAwMABAMDA/sDAwMAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhESEVIREhFSERIRUhAAQA/AACgP2AAoD9gAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRchFSERIRUhAyEVIREhFSEABAD8AMACgP2AAoD9gMAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhBSEVIREhFSEBIRUhESEVIQAEAPwAAYACgP2AAoD9gP6ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAABAD8APwLmAuYALAAAJRQPAQYjIi8BBwYjIi8BJjU0PwEnJjU0PwE2MzIfATc2MzIfARYVFA8BFxYVAuYQThAXFxCoqBAXFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBDDFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBAQThAXFxCoqBAXAAAABgAAAAADJQNuABQAKAA8AE0AVQCCAAABERQHBisBIicmNRE0NzY7ATIXFhUzERQHBisBIicmNRE0NzY7ATIXFhcRFAcGKwEiJyY1ETQ3NjsBMhcWExEhERQXFhcWMyEyNzY3NjUBIScmJyMGBwUVFAcGKwERFAcGIyEiJyY1ESMiJyY9ATQ3NjsBNzY3NjsBMhcWHwEzMhcWFQElBgUIJAgFBgYFCCQIBQaSBQUIJQgFBQUFCCUIBQWSBQUIJQgFBQUFCCUIBQVJ/gAEBAUEAgHbAgQEBAT+gAEAGwQGtQYEAfcGBQg3Ghsm/iUmGxs3CAUFBQUIsSgIFxYXtxcWFgkosAgFBgIS/rcIBQUFBQgBSQgFBgYFCP63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgX+WwId/eMNCwoFBQUFCgsNAmZDBQICBVUkCAYF/eMwIiMhIi8CIAUGCCQIBQVgFQ8PDw8VYAUFCAACAAcASQO3Aq8AGgAuAAAJAQYjIi8BJjU0PwEnJjU0PwE2MzIXARYVFAcBFRQHBiMhIicmPQE0NzYzITIXFgFO/vYGBwgFHQYG4eEGBh0FCAcGAQoGBgJpBQUI/dsIBQUFBQgCJQgFBQGF/vYGBhwGCAcG4OEGBwcGHQUF/vUFCAcG/vslCAUFBQUIJQgFBQUFAAAAAQAjAAAD3QNuALMAACUiJyYjIgcGIyInJjU0NzY3Njc2NzY9ATQnJiMhIgcGHQEUFxYXFjMWFxYVFAcGIyInJiMiBwYjIicmNTQ3Njc2NzY3Nj0BETQ1NDU0JzQnJicmJyYnJicmIyInJjU0NzYzMhcWMzI3NjMyFxYVFAcGIwYHBgcGHQEUFxYzITI3Nj0BNCcmJyYnJjU0NzYzMhcWMzI3NjMyFxYVFAcGByIHBgcGFREUFxYXFhcyFxYVFAcGIwPBGTMyGhkyMxkNCAcJCg0MERAKEgEHFf5+FgcBFQkSEw4ODAsHBw4bNTUaGDExGA0HBwkJCwwQDwkSAQIBAgMEBAUIEhENDQoLBwcOGjU1GhgwMRgOBwcJCgwNEBAIFAEHDwGQDgcBFAoXFw8OBwcOGTMyGRkxMRkOBwcKCg0NEBEIFBQJEREODQoLBwcOAAICAgIMCw8RCQkBAQMDBQxE4AwFAwMFDNRRDQYBAgEICBIPDA0CAgICDAwOEQgJAQIDAwUNRSEB0AINDQgIDg4KCgsLBwcDBgEBCAgSDwwNAgICAg0MDxEICAECAQYMULYMBwEBBwy2UAwGAQEGBxYPDA0CAgICDQwPEQgIAQECBg1P/eZEDAYCAgEJCBEPDA0AAAIAAP+3A/8DtwATADkAAAEyFxYVFAcCBwYjIicmNTQ3ATYzARYXFh8BFgcGIyInJicmJyY1FhcWFxYXFjMyNzY3Njc2NzY3NjcDmygeHhq+TDdFSDQ0NQFtISn9+BcmJy8BAkxMe0c2NiEhEBEEExQQEBIRCRcIDxITFRUdHR4eKQO3GxooJDP+mUY0NTRJSTABSx/9sSsfHw0oek1MGhsuLzo6RAMPDgsLCgoWJRsaEREKCwQEAgABAAAAAAAA9evv618PPPUACwQAAAAAANbEBFgAAAAA1sQEWAAA/7cEAQPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAD//wQBAAEAAAAAAAAAAAAAAAAAAAAhBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAMAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAeBAAAAAQAAAAEAABlBAAAAAQAAMAEAADABAAAgAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBMAJQA+AE2AXwBwgI2AnQCvgLoA34EHgSIBMoE8gU0BXAFiAXgBiIGagaSBroG5AcoB+AIKgkcCXgAAQAAACEAtAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-icon-font:before {  content: "\\ea5c";}.w-e-icon-text-heigh:before {  content: "\\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* åä¸ªèå */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* ä¸º emotion panel å®å¶çæ ·å¼ */  /* ä¸ä¼ å¾çç panel å®å¶æ ·å¼ */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* è¾å¥æ¡çæ ·å¼ */  /* æé®çæ ·å¼ */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',document.getElementsByTagName("HEAD").item(0).appendChild(q),window.wangEditor||Q},"object"===s(e)&&void 0!==t?t.exports=o():void 0===(n="function"==typeof(r=o)?r.call(e,i,e,t):r)||(t.exports=n)},function(t,e,i){(function(r,n){var o;!function(r){var s=r.Promise,a=s&&"resolve"in s&&"reject"in s&&"all"in s&&"race"in s&&function(){var t;return new s(function(e){t=e}),"function"==typeof t}();e?(e.Promise=a?s:C,e.Polyfill=C):void 0===(o=function(){return a?s:C}.call(e,i,e,t))||(t.exports=o);var h="pending",u="sealed",c="fulfilled",l="rejected",d=function(){};function p(t){return"[object Array]"===Object.prototype.toString.call(t)}var f,g=void 0!==n?n:setTimeout,v=[];function m(){for(var t=0;t<v.length;t++)v[t][0](v[t][1]);v=[],f=!1}function y(t,e){v.push([t,e]),f||(f=!0,g(m,0))}function _(t){var e=t.owner,i=e.state_,r=e.data_,n=t[i],o=t.then;if("function"==typeof n){i=c;try{r=n(r)}catch(t){w(o,t)}}x(o,r)||(i===c&&A(o,r),i===l&&w(o,r))}function x(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(r){i||(i=!0,e!==r?A(t,r):b(t,r))},function(e){i||(i=!0,w(t,e))}),!0}}catch(e){return i||w(t,e),!0}return!1}function A(t,e){t!==e&&x(t,e)||b(t,e)}function b(t,e){t.state_===h&&(t.state_=u,t.data_=e,y(T,t))}function w(t,e){t.state_===h&&(t.state_=u,t.data_=e,y(S,t))}function E(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)_(e[i])}function T(t){t.state_=c,E(t)}function S(t){t.state_=l,E(t)}function C(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof C==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){w(e,t)}try{t(function(t){A(e,t)},i)}catch(t){i(t)}}(t,this)}C.prototype={constructor:C,state_:h,then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor(d),fulfilled:t,rejected:e};return this.state_===c||this.state_===l?y(_,i):this.then_.push(i),i.then},catch:function(t){return this.then(null,t)}},C.all=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,i){var r=[],n=0;function o(t){return n++,function(i){r[t]=i,--n||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),i):r[a]=s;n||e(r)})},C.race=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,i){for(var r,n=0;n<t.length;n++)(r=t[n])&&"function"==typeof r.then?r.then(e,i):e(r)})},C.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},C.reject=function(t){return new this(function(e,i){i(t)})}}("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this)}).call(this,i(3),i(18).setImmediate)},function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,h=s(t),u=1;u<arguments.length;u++){for(var c in i=Object(arguments[u]))n.call(i,c)&&(h[c]=i[c]);if(r){a=r(i);for(var l=0;l<a.length;l++)o.call(i,a[l])&&(h[a[l]]=i[a[l]])}}return h}},function(t,e,i){"use strict";(function(t){var e=i(15),r=i(16),n=i.n(r);
/*!
 * @pixi/polyfill - v5.0.4
 * Compiled Fri, 07 Jun 2019 17:17:49 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=e.Polyfill),Object.assign||(Object.assign=n.a);var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!o.performance||!o.performance.now){var s=Date.now();o.performance||(o.performance={}),o.performance.now=function(){return Date.now()-s}}for(var a=Date.now(),h=["ms","moz","webkit","o"],u=0;u<h.length&&!o.requestAnimationFrame;++u){var c=h[u];o.requestAnimationFrame=o[c+"RequestAnimationFrame"],o.cancelAnimationFrame=o[c+"CancelAnimationFrame"]||o[c+"CancelRequestAnimationFrame"]}o.requestAnimationFrame||(o.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+a-e;return i<0&&(i=0),a=e,setTimeout(function(){a=Date.now(),t(performance.now())},i)}),o.cancelAnimationFrame||(o.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,i(3))},function(t,e,i){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(n.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(n.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(19),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(3))},function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var r,n,o,s,a,h=1,u={},c=!1,l=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){f(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},r=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,r=function(t){var e=l.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):r=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return u[h]=n,r(h),h++},d.clearImmediate=p}function p(t){delete u[t]}function f(t){if(c)setTimeout(f,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(i,r)}}(e)}finally{p(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(3),i(20))},function(t,e){var i,r,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var h,u=[],c=!1,l=-1;function d(){c&&h&&(c=!1,h.length?u=h.concat(u):l=-1,u.length&&p())}function p(){if(!c){var t=a(d);c=!0;for(var e=u.length;e;){for(h=u,u=[];++l<e;)h&&h[l].run();l=-1,e=u.length}h=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new f(t,e)),1!==u.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){(function(t,r){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,u=36,c=1,l=26,d=38,p=700,f=72,g=128,v="-",m=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=u-c,b=Math.floor,w=String.fromCharCode;function E(t){throw new RangeError(x[t])}function T(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function S(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+T((t=t.replace(_,".")).split("."),e).join(".")}function C(t){for(var e,i,r=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function I(t){return T(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function P(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,i){var r=0;for(t=i?b(t/p):t>>1,t+=b(t/e);t>A*l>>1;r+=u)t=b(t/A);return b(r+(A+1)*t/(t+d))}function D(t){var e,i,r,n,o,s,a,d,p,m,y,_=[],x=t.length,A=0,w=g,T=f;for((i=t.lastIndexOf(v))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&E("not-basic"),_.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<x;){for(o=A,s=1,a=u;n>=x&&E("invalid-input"),((d=(y=t.charCodeAt(n++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||d>b((h-A)/s))&&E("overflow"),A+=d*s,!(d<(p=a<=T?c:a>=T+l?l:a-T));a+=u)s>b(h/(m=u-p))&&E("overflow"),s*=m;T=O(A-o,e=_.length+1,0==o),b(A/e)>h-w&&E("overflow"),w+=b(A/e),A%=e,_.splice(A++,0,w)}return I(_)}function M(t){var e,i,r,n,o,s,a,d,p,m,y,_,x,A,T,S=[];for(_=(t=C(t)).length,e=g,i=0,o=f,s=0;s<_;++s)(y=t[s])<128&&S.push(w(y));for(r=n=S.length,n&&S.push(v);r<_;){for(a=h,s=0;s<_;++s)(y=t[s])>=e&&y<a&&(a=y);for(a-e>b((h-i)/(x=r+1))&&E("overflow"),i+=(a-e)*x,e=a,s=0;s<_;++s)if((y=t[s])<e&&++i>h&&E("overflow"),y==e){for(d=i,p=u;!(d<(m=p<=o?c:p>=o+l?l:p-o));p+=u)T=d-m,A=u-m,S.push(w(P(m+T%A,0))),d=b(T/A);S.push(w(P(d,0))),o=O(i,x,r==n),i=0,++r}++i,++e}return S.join("")}a={version:"1.4.1",ucs2:{decode:C,encode:I},decode:D,encode:M,toASCII:function(t){return S(t,function(t){return y.test(t)?"xn--"+M(t):t})},toUnicode:function(t){return S(t,function(t){return m.test(t)?D(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return a}.call(e,i,e,t))||(t.exports=n)}()}).call(this,i(6)(t),i(3))},function(t,e,i){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,i){"use strict";e.decode=e.parse=i(24),e.encode=e.stringify=i(25)},function(t,e,i){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,o){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var c=0;c<u;++c){var l,d,p,f,g=t[c].replace(a,"%20"),v=g.indexOf(i);v>=0?(l=g.substr(0,v),d=g.substr(v+1)):(l=g,d=""),p=decodeURIComponent(l),f=decodeURIComponent(d),r(s,p)?n(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,a){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(r(s))+i;return n(t[s])?o(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+i+encodeURIComponent(r(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],r));return i}var s=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},function(t,e,i){"use strict";e.__esModule=!0,e.Loader=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=u(i(9)),s=u(i(10)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(11)),h=i(12);function u(t){return t&&t.__esModule?t:{default:t}}var c=/(#[\w-]+)?$/,l=e.Loader=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=i,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,i){return e._loadResource(t,i)},this._queue=a.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var s=0;s<t._defaultAfterMiddleware.length;++s)this.use(t._defaultAfterMiddleware[s])}return t.prototype.add=function(t,e,i,n){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":r(t))&&(n=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new h.Resource(t,e,i),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=i.parentResource,a=[],u=0;u<s.children.length;++u)s.children[u].isComplete||a.push(s.children[u]);var c=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=c;for(var l=0;l<a.length;++l)a[l].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),i=void 0;if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=c.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},t.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,r){e.call(i,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();l._defaultBeforeMiddleware=[],l._defaultAfterMiddleware=[],l.pre=function(t){return l._defaultBeforeMiddleware.push(t),l},l.use=function(t){return l._defaultAfterMiddleware.push(t),l}},function(t,e,i){"use strict";e.__esModule=!0,e.encodeBinary=n;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){for(var e="",i=0;i<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)i<t.length?n[s]=255&t.charCodeAt(i++):n[s]=0;switch(o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2],i-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=r.charAt(o[a])}return e}t.exports.default=n},function(t,e,i){"use strict";i.r(e);i(29);var r=i(0),n=i.n(r),o=i(2),s=i.n(o),a=i(14),h=i.n(a);function u(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=window,l=document,d=c.navigator.userAgent.toLowerCase(),p=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=this;e.name="KILROY_Base",e.version="v1.0.0",e.calc={add:function(t,e,i){var r=t.toString(),n=e.toString(),o=r.split("."),s=n.split("."),a=2===o.length?o[1]:"",h=2===s.length?s[1]:"",u=Math.max(a.length,h.length),c=Math.pow(10,u),l=Number(((r*c+n*c)/c).toFixed(u));return Number(l.toFixed(i))},sub:function(t,i,r){return e.calc.add(t,-Number(i),r)},mul:function(t,e,i){var r=t.toString(),n=e.toString(),o=(r.split(".")[1]?r.split(".")[1].length:0)+(n.split(".")[1]?n.split(".")[1].length:0),s=Number(r.replace(".",""))*Number(n.replace(".",""))/Math.pow(10,o);return Number(s.toFixed(i))},div:function(t,e,i){var r=t.toString(),n=e.toString(),o=(n.split(".")[1]?n.split(".")[1].length:0)-(r.split(".")[1]?r.split(".")[1].length:0),s=Number(r.replace(".",""))/Number(n.replace(".",""))*Math.pow(10,o);return Number(s.toFixed(i))}},e.rem={set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:750,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.resizeWindow(function(){var e=l.documentElement.clientWidth,i=l.documentElement.clientHeight,n=e/t*100;n>100&&(n=100),r&&e/i>=.75&&(n=85),l.documentElement.style.fontSize=n+"px"},i)},get:function(){var t=l.documentElement.style.fontSize;return Number(t.replace(/px/g,""))}},e.cookie={set:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",n="";i>0&&((n=new Date).setTime(n.getTime()+24*i*60*60*1e3),n="expires="+n.toGMTString()+";"),l.cookie=t+"="+encodeURIComponent(e)+";"+n+"path="+r},get:function(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=l.cookie.match(e);return null!==i?decodeURIComponent(i[2]):null},del:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=new Date,n=e.cookie.get(t);r.setTime(r.getTime()-1),null!==n&&(l.cookie=t+"="+n+";expires="+r.toGMTString()+";path="+i)}},e.isPSB={platform:function(){return/Mobile|Android|webOS|Windows Phone|BlackBerry|SymbianOS|\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(d)?"Mobile":/Windows|Mac|Linux/i.test(d)?"PC":(console.log("æªç¥ï¼"+d),d)},system:function(){return/Android/i.test(d)||/Adr/i.test(d)?"Android":/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(d)?"iOS":/BlackBerry/i.test(d)?"BlackBerry":/SymbianOS/i.test(d)?"SymbianOS":/Windows/i.test(d)?"Windows":/Mac/i.test(d)?"Mac":/Linux/i.test(d)?"Linux":(console.log("æªç¥ï¼"+d),d)},browser:function(){return/Huawei/i.test(d)?/MicroMessenger/i.test(d)?"Wechat":/pixel|statusbar/i.test(d)?"Huawei":"QQBrowser":/MQQBrowser/i.test(d)?"QQBrowser":/QQ/i.test(d)?"QQ":/MicroMessenger/i.test(d)?"Wechat":/WeiBo/.test(d)?"Weibo":/Chrome/i.test(d)?"Chrome":/Firefox/i.test(d)?"Firefox":/Safari/i.test(d)?"Safari":/Edge/i.test(d)?"Edge":c.ActiveXObject||"ActiveXObject"in c?"IE":(console.log("æªç¥ï¼"+d),d)}}}var e,i,r;return e=t,(i=[{key:"getDate",value:function(){return(new Date).valueOf().toString()}},{key:"getRandomInt",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"getUrlParam",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.location.search.substr(1),i=new RegExp("(^|\\?|&)"+t+"=([^&]*)(&|$)","i"),r=e.match(i);return r?decodeURIComponent(r[2]):null}},{key:"getUrlHash",value:function(){var t=decodeURIComponent(c.location.hash);return t.substring(1,t.length)}},{key:"traversingArray",value:function(t,e){for(var i=0,r=t.length;i<r;i++)e(i,t[i])}},{key:"traversingObject",value:function(t,e){for(var i in t)e(i,t[i])}},{key:"randomArray",value:function(t){return t.sort(function(t,e){return Math.random()>.5?-1:1})}},{key:"scroll",value:function(t,e){var i=this;function r(t){var r=0;"Mac"===i.isPSB.system()&&(r=30),t.wheelDelta?(t.wheelDelta>r&&e.topCallback&&e.topCallback(),t.wheelDelta<-r&&e.bottomCallback&&e.bottomCallback()):t.detail&&(t.detail>r&&e.bottomCallback&&e.bottomCallback(),t.detail<-r&&e.topCallback&&e.topCallback())}"Firefox"!==i.isPSB.browser()?l.getElementById(t).onmousewheel=r:l.getElementById(t).addEventListener("DOMMouseScroll",r,!1)}},{key:"resizeWindow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=null;t(),l.addEventListener("DOMContentLoaded",t,!1),c.addEventListener("onorientationchange"in c?"orientationchange":"resize",function(){clearTimeout(i),i=setTimeout(t,e)},!1),c.addEventListener("pageshow",function(r){r.persisted&&(clearTimeout(i),i=setTimeout(t,e))},!1)}},{key:"pushUrlParam",value:function(t,e){var i=t.split("?")[0]||"",r=t.split("#")[1]||"",n=t.split("?")[1]||"",o="";return 0===Object.keys(e).length?t:(r&&(n=n.replace("#"+r,"")),this.traversingObject(e,function(t,e){var i=new RegExp("(^|\\?|&)"+t+"=([^&]*)(&|$)","i"),r="";n&&(r=n.match(i)),r&&(n=n.replace(r[0],"")),""!==o&&(o+="&"),o+=String(t)+"="+String(e)}),n=n?"&"===n[0]?"?"+o+n:"?"+o+"&"+n:"?"+o,r&&(n+="#"+r),i+n)}}])&&u(e.prototype,i),r&&u(e,r),t}());function f(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){t.indexOf(".jpg")>-1||t.indexOf(".png")>-1||t.indexOf(".gif")>-1?function(t,e){var i=new Image;i.addEventListener("load",e,!1),i.addEventListener("error",e,!1),i.src=t}.call(this,t,e):t.indexOf(".mp3")>-1||t.indexOf(".mp4")>-1?function(t,e){var i=new Audio;i.addEventListener("load",e,!1),i.addEventListener("error",e,!1),i.src=t,i.load(),"Mobile"===p.isPSB.platform&&e()}.call(this,t,e):(console.log("æä»¶æ ¼å¼ä¸æ­£ç¡®ï¼"+t),e())}var v=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,r;return e=t,(i=[{key:"process",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this,r=t.length,n=0;if(i.config=e||{loading_callback:function(t,e,i){console.log(t,e,i+"%")},finish_callback:function(){console.log("å®æ")}},!t||0===r)return i.config.loading_callback&&i.config.loading_callback(n,r,100),void(i.config.finish_callback&&i.config.finish_callback());function o(){i.config.loading_callback&&i.config.loading_callback(n,r,parseInt((n+1)/r*100)),n!==r-1?(n+=1,g.call(i,t[n],o)):i.config.finish_callback&&i.config.finish_callback()}g.call(i,t[n],o)}}])&&f(e.prototype,i),r&&f(e,r),t}());i(34);n()("body");function m(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){var i=function(t){for(var e=Math.floor(t/8),i=t%8,r="",n=0;n<e;n++)r+=Math.random().toString(36).slice(2,10);return r+=Math.random().toString(36).slice(2,2-i)}(16),r=s.a.enc.Utf8.parse(i);return(t+"?encryptedData="+x(JSON.stringify(e),r).toString()+"&key="+i).replace(/\+/g,"%2B")}function _(t,e,i,r){var n=s.a.enc.Utf8.parse(e),o=x(JSON.stringify(r),n).toString();return i+"?data="+(o=(o=(o=o.replace(/\+/g,"-")).replace(/\//g,"_")).replace(/\=/g,""))+"&preid="+t}function x(t,e){return s.a.AES.encrypt(t,e,{iv:e,mode:s.a.mode.CBC,padding:s.a.pad.ZeroPadding})}new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,r;return e=t,(i=[{key:"commonAjax",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;n.a.ajax({url:e,data:i,dataType:"json",type:t,cache:!0,success:function(t){r&&r(t)},error:function(t){console.log(t),o&&o(t)}})}},{key:"jsonpAjax",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;n.a.ajax({url:t,data:e,dataType:"jsonp",jsonp:"GaeaCallback",async:!0,cache:!1,success:function(t){i&&i(t)},error:function(t){console.log(t),r&&r(t)}})}},{key:"encryptAjax",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this;n.a.ajax({url:y.call(o,t,e),data:{},dataType:"jsonp",jsonp:"GaeaCallback",async:!0,cache:!1,success:function(t){i&&i(t)},error:function(t){console.log(t),r&&r(t)}})}},{key:"encryptKeyAjax",value:function(t,e,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=this;n.a.ajax({url:_.call(a,t,e,i,r),data:{},dataType:"jsonp",jsonp:"GaeaCallback",async:!0,cache:!1,success:function(t){o&&o(t)},error:function(t){console.log(t),s&&s(t)}})}}])&&m(e.prototype,i),r&&m(e,r),t}()),window;var A=document,b=(n.a,s.a,h.a,p),w=v,E={PC:"https://image.gaeamobile.net/image/20190726/165602/",Mobile:"https://image.gaeamobile.net/image/20190726/165626/"},T=A.getElementById("app"),S="PC"===b.isPSB.platform()?1:2;function C(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=i(13),P=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.config={autoStart:!1,width:T.clientWidth,height:T.clientHeight,transparent:!1,autoDensity:!1,antialias:!1,preserveDrawingBuffer:!1,resolution:S,forceCanvas:!1,backgroundColor:0,clearBeforeRender:!1,forceFXAA:!1,powerPreference:null,sharedTicker:!1,sharedLoader:!1,resizeTo:null}}var e,i,r;return e=t,(i=[{key:"init",value:function(){}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this,r=new I.Application({autoStart:e.autoStart||i.config.autoStart,width:e.width||i.config.width,height:e.height||i.config.height,transparent:e.transparent||i.config.transparent,autoDensity:e.autoDensity||i.config.autoDensity,antialias:e.antialias||i.config.antialias,preserveDrawingBuffer:e.preserveDrawingBuffer||i.config.preserveDrawingBuffer,resolution:e.resolution||i.config.resolution,forceCanvas:e.forceCanvas||i.config.forceCanvas,backgroundColor:e.backgroundColor||i.config.backgroundColor,clearBeforeRender:e.clearBeforeRender||i.config.clearBeforeRender,forceFXAA:e.forceFXAA||i.config.forceFXAA,sharedTicker:e.sharedTicker||i.config.sharedTicker,sharedLoader:e.sharedLoader||i.config.sharedLoader,resizeTo:e.resizeTo||i.config.resizeTo});return r.view.setAttribute("id",t),T.appendChild(r.view),r}}])&&C(e.prototype,i),r&&C(e,r),t}());function O(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var D=i(13),M=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.config={speed:e.speed||1,img:{url:e.url||"",width:e.width||0,height:e.height||0,ripple_1:E.PC+"ripple_1.jpg",ripple_2:E.PC+"ripple_2.jpg"}},this.img={width:this.config.img.width,height:this.config.img.height,object:D.Sprite.from(this.config.img.url)},this.sprite={wh:2048,flag:!1,speed:2,size:0,scale:30,time:500,filter:null,object:D.Sprite.from(this.config.img.ripple_2)},this.object=new D.Container,this.init()}var e,i,r;return e=t,(i=[{key:"init",value:function(){this.object.x=0,this.object.y=0,this.createImg(),this.createRipple(),this.resizeUpdate()}},{key:"update",value:function(){this.waveMove()}},{key:"resizeUpdate",value:function(){this.setImgPosition()}},{key:"createImg",value:function(){this.object.addChild(this.img.object)}},{key:"createRipple",value:function(){this.sprite.filter=new D.filters.DisplacementFilter(this.sprite.object),this.sprite.filter.scale.x=0,this.sprite.filter.scale.y=0,this.object.addChild(this.sprite.object)}},{key:"setImgPosition",value:function(){this.imgCover(this.img.object,this.img.width,this.img.height),this.imgCover(this.sprite.object,this.sprite.wh,this.sprite.wh)}},{key:"imgCover",value:function(t,e,i){var r=T.clientWidth,n=T.clientHeight,o=r/n,s=e/i,a=0,h=0,u=0,c=0;o>=s?(a=0,h=-((c=(u=r)/s)-n)/2):o<s&&(h=0,a=-((u=(c=n)*s)-r)/2),t.x=a,t.y=h,t.width=u,t.height=c}},{key:"move",value:function(){this.sprite.flag=!0,this.sprite.size=0,this.imgCover(this.sprite.object,this.sprite.wh,this.sprite.wh),this.sprite.filter.scale.x=this.sprite.scale,this.sprite.filter.scale.y=this.sprite.scale}},{key:"waveMove",value:function(){this.sprite.flag&&(this.sprite.size+=1,this.sprite.object.width+=2*this.sprite.speed,this.sprite.object.height+=2*this.sprite.speed,this.sprite.object.x-=this.sprite.speed,this.sprite.object.y-=this.sprite.speed,this.sprite.size>=this.sprite.time&&(this.sprite.flag=!1))}}])&&O(e.prototype,i),r&&O(e,r),t}(),R=P.create("appWave",{transparent:!0,autoDensity:!0,antialias:!0,preserveDrawingBuffer:!0,backgroundColor:0,clearBeforeRender:!0,resizeTo:T}),B={resize:!1},k="https://image.gaeamobile.net/image/20190729/194701/bg.jpg";w.process([k],{loading_callback:function(t,e,i){},finish_callback:function(){var t=new M({url:k,width:750,height:1334});R.stage.addChild(t.object),R.stage.filters=[t.sprite.filter],R.ticker.add(function(){t.update(),B.resize&&(B.resize=!1,t.resizeUpdate())}),b.resizeWindow(function(){B.resize=!0}),R.start(),R.stage.interactive=!0,R.stage.buttonMode=!0,R.stage.on("pointerdown",function(){t.move()})}})},function(t,e){},,,,,function(t,e){}]);